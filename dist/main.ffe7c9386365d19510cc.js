(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{308:function(e,t){},359:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return a});var r=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function a(){if("serviceWorker"in navigator){if(new URL(e.env.PUBLIC_URL,window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="service-worker.js";r?(!function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):o(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):o(e)})}}function o(e){navigator.serviceWorker.register(e,{scope:"/"}).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}}).call(this,n(270))},571:function(e,t,n){var r=n(572);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(574)(r,a);r.locals&&(e.exports=r.locals)},572:function(e,t,n){(e.exports=n(573)(!1)).push([e.i,'html,\nbody,\n#root {\n    margin: 0;\n    padding: 0;\n    height: 100%;\n}\n\nbody {\n    font-family: "Source Sans Pro", "Century Gothic", "Helvetica Neue", Helvetica, Arial, sans-serif;\n}\n\n:root {\n    --jll-red: #e30613;\n    --accent-red: #ff444f;\n    --black-75: #404040;\n    --black-50: #808080;\n    --black-25: #bfbfbf;\n    --steel: #626468;\n    --steel-75: #898b8e;\n    --steel-50: #b0b1b3;\n    --steel-25: #d8d8d9;\n    --concrete: #b1b2b4;\n    --concrete-75: #c5c5c7;\n    --concrete-50: #d8d9d9;\n    --concrete-25: #ebecec;\n    --stone: #d0c9b7;\n    --stone-75: #e4e0d5;\n    --stone-50: #edebe3;\n    --stone-25: #f6f5f1;\n}\n',""])},642:function(e,t){},648:function(e,t){},806:function(e,t,n){"use strict";n.r(t);n(365);var r=n(0),a=n.n(r),o=n(39),i=n.n(o),c=(n(571),n(1)),l=n.n(c),u=n(7),s=n(810),p=n(811),f=n(812),d=n(117),m={JLLRed:"#e30613",AccentRed:"#FF444F",Black75:"#404040",Black50:"#808080",Black25:"#BFBFBF",Steel:"#626468",Steel75:"#898B8E",Steel50:"#B0B1B3",Steel25:"#D8D8D9",Concrete:"#B1B2B4",Concrete75:"#C5C5C7",Concrete50:"#D8D9D9",Concrete25:"#EBECEC",Stone:"#D0C9B7",Stone75:"#E4E0D5",Stone50:"#EDEBE3",Stone25:"#F6F5F1"},y=Object(u.createMuiTheme)({palette:{primary:{main:"#212121"},secondary:{main:m.JLLRed}},overrides:{MuiListItemText:{root:{color:m.Black50,padding:"0 8px"}}},typography:{useNextVariants:!0}}),h=n(26),b=function(e){return{type:"SLIDE_DIRECTION",value:e}},g=function(e){return{type:"ACTIVITY_BADGE_COUNT",count:e}},v=function(e){return{type:"COMMENT_BADGE_COUNT",count:e}},E=function(e){return{type:"ACTION_BADGE_COUNT",count:e}},S=n(166),w=n(316),O=n.n(w),_=n(10),x=n(210),C=n.n(x),k=n(125),j=n.n(k),T=n(60),P=n.n(T),R=n(5),N=n.n(R),D=n(27),I=n.n(D),A=n(317),M=n.n(A),F=n(46),B=n.n(F),q=n(34),U=n.n(q),W=n(315),L=n.n(W),V=n(47),z=n.n(V),H=n(318),G=n.n(H),K=n(309),X=n.n(K),Y=n(310),J=n.n(Y),Q=n(311),$=n.n(Q),Z=n(160),ee=n.n(Z),te=n(312),ne=n.n(te),re=n(313),ae=n.n(re),oe=n(314),ie=n.n(oe),ce=n(128),le=n.n(ce),ue=n(211),se=n.n(ue),pe=n(126),fe=n.n(pe),de=n(157),me=n.n(de),ye=n(40),he=n.n(ye),be=n(206),ge=n.n(be),ve=n(42),Ee=n.n(ve),Se=n(207),we=n.n(Se),Oe=n(73),_e=n.n(Oe),xe=n(4),Ce=n.n(xe);function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t){return!t||"object"!==ke(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ce.a.defaults.xsrfHeaderName="X-CSRFTOKEN",Ce.a.defaults.xsrfCookieName="csrftoken";var Ie=[{link:"/performance",icon:a.a.createElement(X.a,null)},{link:"/activities",icon:a.a.createElement(J.a,null),badge:"activityBadgeCount"},{link:"/comments",icon:a.a.createElement($.a,null),badge:"commentBadgeCount"},{link:"/actions",icon:a.a.createElement(ee.a,null),badge:"actionBadgeCount"},{link:"/analysis",icon:a.a.createElement(ne.a,null)},{link:"/monthly-goal",icon:a.a.createElement(ae.a,null)},{link:"/settings",icon:a.a.createElement(ie.a,null)}],Ae=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Pe(this,Re(t).call(this,e))).fetchUserInfo=function(){Ce.a.get("/api/user_info/").then(function(e){var t=e.data.user;n.props.saveUserID(t),n.setState({userInfo:t})}).catch(function(e){console.log(e)})},n.fetchBadgeCount=function(){Ce.a.get("/api/fetch_badge_count/").then(function(e){var t=e.data;for(var r in t)if(t.hasOwnProperty(r)){var a=t[r];if(0!==a){var o="update".concat(r.replace(r[0],r[0].toUpperCase()));n.props[o](a)}}}).catch(function(e){console.log(e)}).then(function(){})},n.handleDrawerToggle=function(){n.setState(function(e){return{mobileOpen:!e.mobileOpen}})},n.handleDrawerClick=function(e,t,r,a){n.setState(function(e){var r=e[t]>a?"up":"down";return n.props.slideDirection(r),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){De(e,t,n[t])})}return e}({},n.state,De({},t,a))},function(){n.props.history.push(Ie[a].link)})},n.handleLanguageSwitch=function(e,t){n.props.selectLanguage(t),n.handleClose(e)},n.handleMenuOpen=function(){n.setState(function(e){return{open:!e.open}})},n.handleClose=function(e){n.anchorEl.contains(e.target)||n.setState({open:!1})},n.state={value:0,mobileOpen:!1,open:!1,activeDrawer:0,userInfo:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(t,r["Component"]),function(e,t,n){t&&Te(e.prototype,t),n&&Te(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this,t=Ie.findIndex(function(t){var n=t.link;return e.props.history.location.pathname.includes(n)});this.setState({activeDrawer:-1===t?0:t}),this.fetchUserInfo()}},{key:"componentWillReceiveProps",value:function(e){var t=e.history.location,n=Ie.findIndex(function(e){var n=e.link;return t.pathname.includes(n)});n!==this.state.activeDrawer&&this.setState({activeDrawer:n}),this.fetchBadgeCount(),console.log("update header")}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state.open,o=a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:t.toolbar}),a.a.createElement(_.a,{id:"header.drawers"},function(n){return a.a.createElement(B.a,{className:t.drawerUl,onClick:e.handleDrawerToggle},n.split(",").map(function(n,r){return a.a.createElement(U.a,{className:"/analysis"===Ie[r].link?t.stickBottom:null,selected:e.state.activeDrawer===r,onClick:function(t){return e.handleDrawerClick(t,"activeDrawer",n,r)},key:n,button:!0},a.a.createElement(L.a,null,Ie[r].badge?a.a.createElement(_e.a,{color:"secondary",badgeContent:e.props.reduxState[Ie[r].badge]},Ie[r].icon):Ie[r].icon),a.a.createElement(z.a,{disableTypography:!0,primary:n}))}))}));return a.a.createElement("div",{className:t.flex},a.a.createElement(O.a,{position:"absolute",className:t.appBar},a.a.createElement(j.a,null,a.a.createElement(C.a,{container:!0,direction:"row",alignItems:"center"},a.a.createElement(I.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerToggle,className:t.navIconHide},a.a.createElement(M.a,null)),a.a.createElement(P.a,{variant:"h6",color:"inherit",noWrap:!0},"Horizon"),a.a.createElement(C.a,{className:t.appBarMenu},a.a.createElement("div",{style:{cursor:"pointer"}},a.a.createElement("span",null,this.state.userInfo.split(".").join(" "))),a.a.createElement(I.a,{color:"inherit",onClick:this.handleMenuOpen,"aria-owns":n?"menu-list-grow":null,"aria-haspopup":"true",buttonRef:function(t){e.anchorEl=t}},a.a.createElement(G.a,{className:t.icon})),a.a.createElement(ge.a,{open:n,anchorEl:this.anchorEl,transition:!0,disablePortal:!0},function(t){var n=t.TransitionProps,r=t.placement;return a.a.createElement(me.a,je({},n,{id:"menu-list-grow",style:{transformOrigin:"bottom"===r?"center top":"center bottom"}}),a.a.createElement(he.a,null,a.a.createElement(fe.a,{onClickAway:e.handleClose},a.a.createElement(we.a,null,a.a.createElement(Ee.a,{onClick:function(t){return e.handleLanguageSwitch(t,"zh")}},"中文"),a.a.createElement(Ee.a,{onClick:function(t){return e.handleLanguageSwitch(t,"en")}},"English")))))}),a.a.createElement("img",{src:"/static/img/JLL_Logo.png",style:{width:"90px"}}))))),a.a.createElement(le.a,{smUp:!0},a.a.createElement(se.a,{open:this.state.mobileOpen,onClose:this.handleDrawerToggle,variant:"temporary",classes:{paper:t.drawerPaper},ModalProps:{keepMounted:!0}},o)),a.a.createElement(le.a,{className:t.flex,xsDown:!0},a.a.createElement(se.a,{open:!0,onClose:this.handleDrawerToggle,variant:"permanent",classes:{paper:N()(t.drawerPaper,t.drawerPaperMd)}},o)))}}]),t}();Ae.propTypes={classes:l.a.object.isRequired};var Me=Object(u.withStyles)(function(e){var t;return{appBar:{zIndex:e.zIndex.drawer+1},flex:{display:"flex"},stickBottom:{marginTop:"auto"},drawerUl:{display:"flex",flexDirection:"column",height:"100%"},drawerPaper:{position:"relative",width:200,whiteSpace:"nowrap",height:"100%"},drawerPaperMd:De({},e.breakpoints.down("sm"),(t={overflowX:"hidden",width:7*e.spacing.unit},De(t,e.breakpoints.up("sm"),{width:7*e.spacing.unit}),De(t,"height","100%"),t)),content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing.unit,minWidth:0},toolbar:e.mixins.toolbar,appBarMenu:{display:"flex",justifyContent:"flex-end",flexGrow:1,alignItems:"center",fontSize:"14px"},navIconHide:De({},e.breakpoints.up("sm"),{display:"none"}),icon:{margin:e.spacing.unit,fontSize:22},margin:{margin:2*e.spacing.unit,marginRight:3*e.spacing.unit}}})(Ae),Fe=Object(h.b)(function(e){return{reduxState:e}},function(e){return{selectLanguage:function(t){e(function(e){return{type:"LANGUAGE_OPTION",value:e}}(t))},slideDirection:function(t){e(b(t))},saveUserID:function(t){e(function(e){return{type:"USER_ID",id:e}}(t))},updateActivityBadgeCount:function(t){e(g(t))},updateActionBadgeCount:function(t){e(E(t))},updateCommentBadgeCount:function(t){e(v(t))}}})(Me),Be=n(30),qe=n.n(Be),Ue=n(161),We=n.n(Ue),Le=n(320),Ve=n.n(Le),ze=n(321),He=n.n(ze),Ge=n(25),Ke=n.n(Ge),Xe=n(212),Ye=n.n(Xe);function Je(e){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ze(e,t){return!t||"object"!==Je(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nt=function(e){return{progress:{margin:2*e.spacing.unit},root:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}},rt=function(e){var t=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Ze(this,et(n).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(n,r["PureComponent"]),function(e,t,n){t&&$e(e.prototype,t),n&&$e(e,n)}(n,[{key:"render",value:function(){var t=this.props,n=t.classes,a=Qe(t,["classes"]);switch(this.props.data.constructor){case Array:return 0!==this.props.data.length||this.props.emptyRecord?r.createElement(e,a):r.createElement("div",{className:n.root},r.createElement(Ye.a,{className:n.progress,color:"secondary"}));case Object:return 0!==Object.keys(this.props.data).length||this.props.emptyRecord?r.createElement(e,a):r.createElement("div",{className:n.root},r.createElement(Ye.a,{className:n.progress,color:"secondary"}))}}}]),n}();return Object(u.withStyles)(nt)(t)};rt.propTypes={classes:l.a.object.isRequired};var at=rt,ot=n(323),it=n.n(ot),ct=n(319),lt=n.n(ct),ut=n(162),st=n.n(ut),pt=n(116),ft=n.n(pt),dt=n(322),mt=n.n(dt),yt=n(68),ht=n.n(yt),bt=n(85),gt=n.n(bt),vt=n(113),Et=n.n(vt),St=n(112),wt=n.n(St),Ot=n(111),_t=n.n(Ot),xt=n(82),Ct=n.n(xt),kt=n(127),jt=n.n(kt);function Tt(e){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Rt(e,t,n[t])})}return e}function Rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dt(e,t){return!t||"object"!==Tt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function It(e){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function At(e,t){return(At=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ce.a.defaults.xsrfHeaderName="X-CSRFTOKEN",Ce.a.defaults.xsrfCookieName="csrftoken";var Mt=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return Dt(r,(n=r=Dt(this,(e=It(t)).call.apply(e,[this].concat(o))),r.state={open:r.props.open,fields:{}},r.handleChange=function(e,t){r.setState(Pt({},r.state,{fields:Pt({},r.state.fields,Rt({},e,t))}))},r.submitForm=function(){var e=r.props,t=e.toggleSnackbar,n=e.endpoint,a=e.dest,o=e.folder_id,i=Object.assign(r.state.fields);o&&(i.folder=o),r.props.toggle(),Ce.a.post(n,i).then(function(e){a&&r.props.history.push("".concat(a).concat(e.data.id)),t&&(r.props.fetchTarget(),t(!0,"success","Submitted!"))}).catch(function(e){console.log(e)})},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&At(e,t)}(t,a.a.Component),function(e,t,n){t&&Nt(e.prototype,t),n&&Nt(e,n)}(t,[{key:"componentDidMount",value:function(){var e={};this.props.inputFields.forEach(function(t){var n=t.name,r=t.type;e[n]="checkbox"!==r&&null}),this.setState({fields:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.inputFields,r=t.open,o=t.toggle,i=t.classes,c=t.title;return a.a.createElement(gt.a,{disableBackdropClick:!0,open:r,onClose:o,"aria-labelledby":"form-dialog-title"},a.a.createElement(_t.a,{id:"form-dialog-title"},c),a.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.submitForm()}},a.a.createElement(wt.a,{className:i.form},n.map(function(t){var n=t.type,r=t.label,o=t.name,c=t.required,l=t.props,u=t.noLabel;return a.a.createElement(_.a,{id:r,key:o},function(t){switch(n){case"checkbox":return a.a.createElement(jt.a,{control:a.a.createElement(Ct.a,{checked:e.state.fields[o]||"",onChange:function(t){return e.handleChange(o,t.target.checked)},value:o}),label:t});default:return a.a.createElement(ht.a,{className:i.formRow,type:n,required:c,label:u?"":t,value:e.state.fields[o]||"",onChange:function(t){return e.handleChange(o,t.target.value)},InputProps:Pt({},l),InputLabelProps:{shrink:!0}})}})})),a.a.createElement(Et.a,null,a.a.createElement(_.a,{id:"generic.button.cancel"},function(e){return a.a.createElement(Ke.a,{onClick:o,color:"primary"},e)}),a.a.createElement(_.a,{id:"generic.button.submit"},function(e){return a.a.createElement(Ke.a,{type:"submit",color:"primary"},e)}))))}}]),t}(),Ft=Object(u.withStyles)(function(e){return{form:{display:"flex",flexDirection:"column"},formRow:{marginBottom:"16px"}}})(Mt);function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e,t){return!t||"object"!==Bt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wt(e){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ce.a.defaults.xsrfHeaderName="X-CSRFTOKEN",Ce.a.defaults.xsrfCookieName="csrftoken";var Vt=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return Ut(r,(n=r=Ut(this,(e=Wt(t)).call.apply(e,[this].concat(o))),r.state={fields:{}},r.submitForm=function(){(0,r.props.deleteProject)()},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(t,a.a.Component),function(e,t,n){t&&qt(e.prototype,t),n&&qt(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.open,r=t.toggle,o=t.classes,i=t.title;t.deleteProject;return a.a.createElement(gt.a,{disableBackdropClick:!0,open:n,onClose:function(e){return r(e)},"aria-labelledby":"form-dialog-title"},a.a.createElement(_t.a,{id:"form-dialog-title"},i),a.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.submitForm(),r(t)}},a.a.createElement(wt.a,{className:o.form},"Are you sure you want to do this?"),a.a.createElement(Et.a,null,a.a.createElement(_.a,{id:"generic.button.cancel"},function(e){return a.a.createElement(Ke.a,{onClick:function(e){return r(e)},color:"primary"},e)}),a.a.createElement(_.a,{id:"generic.button.submit"},function(e){return a.a.createElement(Ke.a,{type:"submit",color:"primary"},e)}))))}}]),t}(),zt=Object(u.withStyles)(function(e){return{form:{display:"flex",flexDirection:"column"},formRow:{marginBottom:"16px"}}})(Vt),Ht=n(48),Gt=n(115),Kt=n.n(Gt),Xt=n(213),Yt=n.n(Xt),Jt=n(61),Qt=n.n(Jt);function $t(e){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function en(e,t){return!t||"object"!==$t(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tn(e){return(tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nn(e,t){return(nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),en(this,tn(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nn(e,t)}(t,a.a.Component),function(e,t,n){t&&Zt(e.prototype,t),n&&Zt(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=(e.filterObj,e.filterItemClickHandler),r=e.handleChange,o=e.Departments,i=e.Users,c=e.checkedDpt,l=e.checkedMember;return a.a.createElement("div",{className:t.root},a.a.createElement("div",{className:t.filterRow},a.a.createElement(Qt.a,{title:c?"Select All":"Select None","aria-label":"toggle",placement:"left"},a.a.createElement(Yt.a,{checked:c,onChange:r("checkedDpt"),value:"checkedDpt",color:"default"})),a.a.createElement(_.a,{id:"filterBar.option.department"},function(e){return a.a.createElement("div",{className:t.filterRow,style:{marginRight:"4px"}},e,":")}),a.a.createElement("div",{className:t.filterRow},o.map(function(e,r){return a.a.createElement(Kt.a,{key:r,onClick:function(){return n("Departments",r)},label:e.name,className:e.active?N()(t.chip,t.activeStyle):t.chip,clickable:!0})}))),a.a.createElement("div",{className:t.filterRow},a.a.createElement(Qt.a,{title:l?"Select All":"Select None","aria-label":"toggle",placement:"left"},a.a.createElement(Yt.a,{checked:l,onChange:r("checkedMember"),value:"checkedMember",color:"default"})),a.a.createElement(_.a,{id:"filterBar.option.user"},function(e){return a.a.createElement("div",{className:t.filterRow,style:{marginRight:"4px"}},e,":")}),a.a.createElement("div",{className:t.filterRow},i.map(function(e,r){if(e.visible)return a.a.createElement(Kt.a,{key:r,onClick:function(){return n("Users",r)},label:e.name.split(".").join(" "),className:e.active?N()(t.chip,t.activeStyle):t.chip,clickable:!0})}))))}}]),t}();rn.propTypes={classes:l.a.object.isRequired},rn.defaultProps={};var an=Object(u.withStyles)(function(e){return{root:{width:"100%",maxHeight:"300px",overflowY:"auto"},filterRow:{display:"flex",alignSelf:"center"},filterItem:{display:"flex"},chip:{margin:e.spacing.unit/2},activeStyle:{border:"2px solid rgb(13, 86, 201)"}}})(rn),on=n(35),cn=n.n(on);function ln(e){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function un(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pn(e,t){return!t||"object"!==ln(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fn(e){return(fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dn(e,t){return(dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ce.a.defaults.xsrfHeaderName="X-CSRFTOKEN",Ce.a.defaults.xsrfCookieName="csrftoken";var yn=[{type:"input",label:"folder.field.folder_name",name:"name",required:!0,noLabel:!0}],hn=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return pn(r,(n=r=pn(this,(e=fn(t)).call.apply(e,[this].concat(o))),r.state={cards:[],hover:-1,openModal:!1,emptyRecord:!1,newFolderTitle:"",Departments:[],Users:[],anchorEl:null,action:null,warning:!1,checkedDpt:!0,checkedMember:!0},r.fetchFolder=function(){Ce.a.get("/api/horizon_folder/").then(function(e){0===e.data.length?(console.log("empty la"),r.setState({emptyRecord:!0})):r.setState({cards:e.data})}).catch(function(e){console.log(e)}).then(function(){})},r.fetchUserInfo=function(){Ce.a.get("/api/user_subset_info/").then(function(e){var t=e.data.userList.map(function(e){return e.department}),n=un(new Set(t)).map(function(e){return{name:e,active:!0}}),a=e.data.userList.map(function(e){return{name:e.name,department:e.department,active:!0,visible:!0}});r.setState({Departments:n,Users:a})}).catch(function(e){console.log(e)}).then(function(){})},r.handleCardClick=function(e){r.props.history.push("/performance/".concat(e)),r.props.slideDirection("left")},r.toggleNewFolderModal=function(){r.setState(function(e){return{openModal:!e.openModal}})},r.setHover=function(e){r.setState({hover:e})},r.filterItemClickHandler=function(e,t){r.setState(function(n){var r=un(n[e]);return r[t].active=!r[t].active,mn({},e,r)},function(){if("Departments"===e){var n=un(r.state.Users);n.map(function(e){return e.department===r.state.Departments[t].name?(!1===r.state.Departments[t].active?(e.visible=!1,e.active=!1):(e.visible=!0,e.active=!0),e):e}),r.setState({Users:n})}})},r.handleFilterSwitch=function(e){return function(t){var n;console.log(t,r.state.Departments,r.state.Users);var a=un(r.state.Departments),o=un(r.state.Users);switch(e){case"checkedDpt":a.map(function(e){e.active=t.target.checked}),o.map(function(e){e.visible=t.target.checked,e.active=t.target.checked});break;case"checkedMember":o.map(function(e){e.active=t.target.checked})}r.setState((mn(n={},e,t.target.checked),mn(n,"Departments",a),mn(n,"Users",o),n))}},r.handleMoreActionClick=function(e){r.setState({anchorEl:e.currentTarget})},r.finishAction=function(){r.setState({action:null})},r.handleMenuClose=function(){r.setState({anchorEl:null})},r.handleMenuClick=function(e){r.setState({action:e,anchorEl:null})},r.handleDeleteClick=function(e,t){e.stopPropagation(),r.setState({warning:!0,prjToDelete:t},function(){console.log(r.state.prjToDelete)})},r.toggleWarning=function(e){e.stopPropagation(),r.setState(function(e){return{warning:!e.warning}})},r.confirmDeleteClick=function(){console.log("execute delete"),r.deleteFolderRequest()},r.deleteFolderRequest=function(){Ce.a.put("/api/deactivate_folder/".concat(r.state.prjToDelete,"/"),{active:!1}).then(function(e){console.log(r.state.cards);var t=r.state.cards,n=r.state.cards.findIndex(function(e){return e.id===r.state.prjToDelete});t.splice(n,1),r.setState({cards:t})}).catch(function(e){console.log(e)})},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dn(e,t)}(t,r["Component"]),function(e,t,n){t&&sn(e.prototype,t),n&&sn(e,n)}(t,[{key:"componentDidMount",value:function(){this.fetchUserInfo(),this.fetchFolder()}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.props.reduxState,o=n.slideState,i=n.userID,c=Boolean(this.state.anchorEl);return a.a.createElement(qe.a,{direction:o,in:!0,mountOnEnter:!0,unmountOnExit:!0},a.a.createElement("div",{className:t.content},a.a.createElement("div",{className:t.toolbar}),a.a.createElement(zt,{title:"",open:this.state.warning,toggle:this.toggleWarning,deleteProject:this.confirmDeleteClick,endpoint:"api/create_horizon_folder/",dest:"/performance/",history:history}),a.a.createElement(an,{checkedDpt:this.state.checkedDpt,checkedMember:this.state.checkedMember,handleChange:this.handleFilterSwitch,filterItemClickHandler:this.filterItemClickHandler,Departments:this.state.Departments,Users:this.state.Users}),a.a.createElement("div",{className:t.titleBar},a.a.createElement(_.a,{id:"folder.title.self"},function(e){return a.a.createElement("h3",null,e)}),a.a.createElement("div",{className:t.spacer}),a.a.createElement(I.a,{"aria-label":"More","aria-owns":c?"long-menu":void 0,"aria-haspopup":"true",onClick:this.handleMoreActionClick},a.a.createElement(lt.a,null)),a.a.createElement(We.a,{id:"long-menu",anchorEl:this.state.anchorEl,open:c,onClose:this.handleMenuClose},a.a.createElement(Ee.a,{onClick:function(){return e.handleMenuClick("delete")}},"Delete Project"))),a.a.createElement(cn.a,null),a.a.createElement(bn,{toggleNewFolderModal:this.toggleNewFolderModal,handleCardClick:this.handleCardClick,handleDeleteClick:this.handleDeleteClick,hover:this.state.hover,action:this.state.action,setHover:this.setHover,openModal:this.state.openModal,data:this.state.cards.filter(function(e){return e.created_by_id===i}),emptyRecord:this.state.emptyRecord,history:this.props.history,creatable:!0}),this.state.action?a.a.createElement(Ke.a,{variant:"outlined",style:{margin:"0 24px"},onClick:this.finishAction},"Done"):null,this.state.Users.map(function(t){return 0!==e.state.cards.filter(function(e){return e.created_by_id===t.name}).length&&t.active?a.a.createElement(r.Fragment,{key:t.name},a.a.createElement(_.a,{id:"folder.title.others"},function(e){return a.a.createElement("h3",null,t.name.split(".").join(" "),e)}),a.a.createElement(cn.a,null),a.a.createElement(bn,{toggleNewFolderModal:e.toggleNewFolderModal,handleCardClick:e.handleCardClick,hover:e.state.hover,setHover:e.setHover,openModal:e.state.openModal,data:e.state.cards.filter(function(e){return e.created_by_id===t.name}),emptyRecord:e.state.emptyRecord,history:e.props.history,creatable:!1})):null})))}}]),t}(),bn=Object(Ht.c)(Object(u.withStyles)(function(e){return{spacer:{flex:1},cardLabel:{display:"flex",alignItems:"center",margin:"0 4px",color:m.Black50},labelWrapper:{display:"flex",flexDirection:"row"},folderTitle:{padding:0,margin:0,fontWeight:500},CardContainer:{display:"flex",flexWrap:"wrap",overflow:"auto"},card:{maxWidth:275,minWidth:175,maxHeight:175,minHeight:71,margin:3*e.spacing.unit,cursor:"pointer",textTransform:"none"},cardContentRoot:{padding:e.spacing.unit,height:"100%",display:"flex",flexDirection:"column","&:last-child":{padding:e.spacing.unit}},lessPadding:{padding:"3px"}}}))(gn);function gn(e){var t=e.classes,n=e.data,o=e.setHover,i=e.hover,c=e.handleCardClick,l=e.handleDeleteClick,u=e.toggleNewFolderModal,s=e.openModal,p=e.history,f=e.creatable,d=e.action;return a.a.createElement("div",{className:t.CardContainer},n.map(function(e){var n=e.id,u=e.name,s=e.completed_target,p=e.total_target;return a.a.createElement(Ve.a,{raised:n===i,key:n,className:t.card,onClick:function(){return c(n)},onMouseEnter:function(){return o(n)},onMouseLeave:function(){return o(-1)}},a.a.createElement(He.a,{classes:{root:t.cardContentRoot}},a.a.createElement("h4",{className:t.folderTitle},u.length>20?"".concat(u.slice(0,17),"..."):u),a.a.createElement("div",{className:t.spacer}),a.a.createElement("div",{className:t.labelWrapper},"delete"===d?a.a.createElement(I.a,{"aria-label":"More",className:t.lessPadding},a.a.createElement(st.a,{fontSize:"small",onClick:function(e){return l(e,n)}})):null,a.a.createElement("div",{className:t.spacer}),s/p==1?a.a.createElement("div",{className:t.cardLabel,style:{color:"#4CAF50"}},a.a.createElement(mt.a,null)):a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:t.cardLabel},a.a.createElement(it.a,null),a.a.createElement("span",null,p)),a.a.createElement("div",{className:t.cardLabel},a.a.createElement(ft.a,null),a.a.createElement("span",null,s))))))}),f?a.a.createElement(r.Fragment,null,a.a.createElement(_.a,{id:"folder.creation.message"},function(e){return a.a.createElement(Ke.a,{className:t.card,variant:"outlined",color:"primary",onClick:u},e)}),a.a.createElement(_.a,{id:"folder.creation.create"},function(e){return a.a.createElement(Ft,{title:e,open:s,toggle:u,endpoint:"api/create_horizon_folder/",inputFields:yn,dest:"/performance/",history:p})})):null)}gn.propTypes={classes:l.a.object.isRequired};var vn=Object(u.withStyles)(function(e){var t;return{content:(t={overflow:"auto",flexDirection:"column",flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing.unit},mn(t,e.breakpoints.up("md"),{}),mn(t,e.breakpoints.down("sm"),{}),mn(t,"minWidth",0),t),titleBar:{display:"flex",justifyContent:"center",alignItems:"center"},toolbar:e.mixins.toolbar,CardContainer:{display:"flex",flexWrap:"wrap",overflow:"auto"},card:{maxWidth:275,minWidth:175,maxHeight:175,minHeight:71,margin:3*e.spacing.unit,cursor:"pointer",textTransform:"none"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},messageInputRoot:{display:"flex",flexDirection:"row",flex:"1 1 100%",flexWrap:"wrap"},button:{margin:e.spacing.unit,width:"100%",height:"63px",textAlign:"left"},buttonSmall:{width:"50px",height:"35px"},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},iconSmall:{fontSize:20},offsetIcon:{height:"12px"},iconButton:{width:"36px",height:"36px"},folderTitle:{padding:0,margin:0,fontWeight:500},cardContentRoot:{padding:e.spacing.unit,height:"100%",display:"flex",flexDirection:"column","&:last-child":{padding:e.spacing.unit}},labelWrapper:{display:"flex",flexDirection:"row"},cardLabel:{display:"flex",alignItems:"center",margin:"0 4px",color:m.Black50},spacer:{flex:1}}})(hn),En=function(e){return{type:"TOGGLE_EDIT_BUTTON",value:e}},Sn=function(e){return{type:"UPDATE_TARGET",value:e}},wn=function(e,t,n){return{type:"TOGGLE_SNACKBAR",snackbarOpen:e,variant:t,message:n}},On=Object(h.b)(function(e){return{reduxState:e}},function(e){return{slideDirection:function(t){e(b(t))},toggleEditButton:function(t){e(En(t))},toggleSnackbar:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Input message here";e(wn(t,n,r))},updateTarget:function(t){e(Sn(t))}}})(vn),_n=n(325),xn=n.n(_n),Cn=n(324),kn=n.n(Cn),jn=n(74),Tn=n.n(jn),Pn=n(326),Rn=n.n(Pn);function Nn(e){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function In(e,t){return!t||"object"!==Nn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function An(e){return(An=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mn(e,t){return(Mn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fn={add:a.a.createElement(kn.a,null),edit:a.a.createElement(Tn.a,null)},Bn=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return In(r,(n=r=In(this,(e=An(t)).call.apply(e,[this].concat(o))),r.handleGoBack=function(){r.props.slideFunc("right"),r.props.history.goBack()},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mn(e,t)}(t,r["Component"]),function(e,t,n){t&&Dn(e.prototype,t),n&&Dn(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.depth,r=e.component,o=e.buttonType,i=e.buttonMethod,c=n>1;return a.a.createElement("div",{className:t.navigationRoot},c?a.a.createElement(Ke.a,{mini:!0,variant:"text",color:"primary",className:t.button,onClick:this.handleGoBack},a.a.createElement(xn.a,null)):null,a.a.createElement(_.a,{id:"navigation.".concat(r,".title")},function(e){var t=e.split(",");return(n=n<=2?0:n)>=t.length&&(n=t.length-1),a.a.createElement("span",{style:{fontWeight:"bold",fontSize:"24px"}},t[n])}),o?a.a.createElement(Rn.a,{mini:"true",color:"secondary",className:N()(t.button,t.alignRight),onClick:i},Fn[o]):null)}}]),t}();Bn.propTypes={classes:l.a.object.isRequired,depth:l.a.number.isRequired,component:l.a.string.isRequired},Bn.defaultProps={docked:!1,classes:{}};var qn=Object(u.withStyles)(function(e){return{button:{margin:"0px",width:"40px",height:"40px",minWidth:"40px"},extendedIcon:{marginRight:e.spacing.unit},navigationRoot:{display:"flex",flexDirection:"row",alignItems:"center",height:"30px",marginTop:3*e.spacing.unit},alignRight:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({marginLeft:"auto"},e.breakpoints.up("md"),{})}})(Bn),Un=n(330),Wn=n.n(Un),Ln=n(331),Vn=n.n(Ln),zn=n(129),Hn=n.n(zn),Gn=n(54),Kn=n.n(Gn),Xn=n(333),Yn=n.n(Xn),Jn=n(327),Qn=n.n(Jn),$n=n(328),Zn=n.n($n);function er(e){return(er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nr(e,t){return!t||"object"!==er(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rr(e){return(rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ar(e,t){return(ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var or=[{id:"urgent",align:"left",disablePadding:!0,label:"urgency"},{id:"name",align:"left",disablePadding:!0,label:"Target Name"},{id:"description",align:"left",disablePadding:!0,label:"Target Description"},{id:"critical_flag",align:"left",disablePadding:!0,label:"20%"},{id:"completion_status",align:"left",disablePadding:!0,label:"Completion Status"},{id:"expire_date",align:"left",disablePadding:!0,label:"Expire Date"},{id:"created_by",align:"left",disablePadding:!0,label:"Created By"}],ir=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return nr(r,(n=r=nr(this,(e=rr(t)).call.apply(e,[this].concat(o))),r.createSortHandler=function(e){return function(t){r.props.onRequestSort(t,e)}},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ar(e,t)}(t,a.a.Component),function(e,t,n){t&&tr(e.prototype,t),n&&tr(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=(t.onSelectAllClick,t.order),r=t.orderBy,o=(t.numSelected,t.rowCount,t.classes);return a.a.createElement(Qn.a,null,a.a.createElement(Hn.a,null,a.a.createElement(_.a,{id:"".concat(this.props.title,".table.label")},function(t){return t.split(",").map(function(t,i){return a.a.createElement(Kn.a,{classes:{head:o.head},key:or[i].id,align:or[i].align,sortDirection:r===or[i].id&&n},a.a.createElement(Qt.a,{title:"Sort",placement:or[i].align?"bottom-end":"bottom-start",enterDelay:300},a.a.createElement(Zn.a,{active:r===or[i].id,direction:n,onClick:e.createSortHandler(or[i].id)},t)))})})))}}]),t}();ir.propTypes={numSelected:l.a.number.isRequired,onRequestSort:l.a.func.isRequired,onSelectAllClick:l.a.func.isRequired,order:l.a.string.isRequired,orderBy:l.a.string.isRequired,rowCount:l.a.number.isRequired};var cr=Object(u.withStyles)({head:{padding:"0 24px"}})(ir),lr=n(67),ur=n(329),sr=n.n(ur),pr=n(114),fr=n.n(pr);function dr(e){return(dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yr(e,t){return!t||"object"!==dr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hr(e){return(hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function br(e,t){return(br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yr(this,hr(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&br(e,t)}(t,a.a.Component),function(e,t,n){t&&mr(e.prototype,t),n&&mr(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.handleInput,r=e.handleKeypress,o=e.inputValue,i=e.toggleForm,c=e.submit;return a.a.createElement(fe.a,{onClickAway:i},a.a.createElement("div",{className:t.messageInputRoot},a.a.createElement(ht.a,{multiline:!0,type:"text-field",autoFocus:!0,fullWidth:!0,variant:"outlined",className:t.textField,value:o,onChange:n("textMessage"),onKeyPress:r,margin:"normal"}),a.a.createElement(_.a,{id:"generic.button.add"},function(e){return a.a.createElement(Ke.a,{variant:"contained",size:"small",className:t.buttonSmall,onClick:c},e)}),a.a.createElement(I.a,{classes:{label:t.offsetIcon},className:N()(t.iconButton,t.rightIcon),onClick:i},a.a.createElement(fr.a,null))))}}]),t}();gr.propTypes={handleInput:l.a.func.isRequired,handleKeypress:l.a.func.isRequired,inputValue:l.a.string.isRequired,toggleForm:l.a.func.isRequired,submit:l.a.func.isRequired};var vr=Object(u.withStyles)(function(e){return{marginTop:{marginTop:"auto"},button:{margin:e.spacing.unit,width:"100%",height:"63px",textAlign:"left"},buttonSmall:{width:"50px",height:"35px"},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},iconSmall:{fontSize:20},offsetIcon:{height:"12px"},iconButton:{width:"36px",height:"36px"},SubtargetContent:{width:"100%"},messageInputRoot:{display:"flex",flexDirection:"row",flexWrap:"wrap"}}})(gr);var Er=function(e){var t=e.numSelected,n=e.classes,r=e.folderTitle,o=e.editMode,i=e.handleKeypress,c=e.handleInput,l=e.toggleEditMode,u=e.inputValue,s=e.handleUpdateFolder;return a.a.createElement(j.a,{className:N()(n.root,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n.highlight,t>0))},a.a.createElement("div",{className:n.title},t>0?a.a.createElement(P.a,{color:"inherit",variant:"subheading"},t," selected"):o?a.a.createElement(vr,{toggleForm:l,inputValue:u,handleInput:c,handleKeypress:i,submit:s,buttonName:"Edit"}):a.a.createElement("div",{className:n.editButtonStyle},a.a.createElement(P.a,{variant:"h6",id:"tableTitle"},r),a.a.createElement(I.a,{"aria-label":"Edit Button",onClick:l,classes:{root:n.overRideIconStyle}},a.a.createElement(Tn.a,null)))),a.a.createElement("div",{className:n.spacer}),a.a.createElement("div",{className:n.actions},t>0?a.a.createElement(Qt.a,{title:"Delete"},a.a.createElement(I.a,{"aria-label":"Delete"},a.a.createElement(st.a,null))):a.a.createElement(Qt.a,{title:"Filter list"},a.a.createElement(I.a,{"aria-label":"Filter list"},a.a.createElement(sr.a,null)))))};Er.propTypes={classes:l.a.object.isRequired,numSelected:l.a.number.isRequired};var Sr=Er=Object(u.withStyles)(function(e){return{root:{paddingRight:e.spacing.unit},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(lr.lighten)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"},editButtonStyle:{display:"flex",alignItems:"flex-start"},overRideIconStyle:{padding:"3px",margin:"0 3px"}}})(Er),wr=n(214),Or=n.n(wr),_r=n(332),xr=n.n(_r);function Cr(e){return(Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jr(e,t){return!t||"object"!==Cr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tr(e){return(Tr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pr(e,t){return(Pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rr(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}var Nr=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return jr(r,(n=r=jr(this,(e=Tr(t)).call.apply(e,[this].concat(o))),r.state={order:"asc",orderBy:"target_name",selected:[],data:r.props.data,page:0,rowsPerPage:5,editMode:!1,inputValue:null},r.handleRequestSort=function(e,t){var n=t,a="desc";r.state.orderBy===t&&"desc"===r.state.order&&(a="asc"),r.setState({order:a,orderBy:n})},r.handleSelectAllClick=function(e){e.target.checked?r.setState(function(e){return{selected:e.data.map(function(e){return e.id})}}):r.setState({selected:[]})},r.handleClick=function(e,t){r.state.selected.indexOf(t);r.props.slideDirection("left"),r.props.history.push("/performance/project/".concat(t))},r.handleChangePage=function(e,t){r.setState({page:t})},r.handleChangeRowsPerPage=function(e){r.setState({rowsPerPage:e.target.value})},r.isSelected=function(e){return-1!==r.state.selected.indexOf(e)},r.handleKeypress=function(e){"Enter"===e.key&&(e.preventDefault(),r.handleUpdateFolder())},r.handleInput=function(e){return function(e){r.setState({inputValue:e.target.value})}},r.toggleEditMode=function(){r.setState(function(e){return{inputValue:r.props.folderTitle,editMode:!e.editMode}})},r.handleUpdateFolder=function(){var e=r.props.match.params.id;Ce.a.put("/api/update_horizon_folder_by_id/".concat(e,"/"),{name:r.state.inputValue,created_by_id:r.props.reduxState.userID}).then(function(e){r.props.updateFolderTitle(e.data.name)}).catch(function(e){console.log(e)}).then(function(){}),r.setState(function(){return{editMode:!1}})},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pr(e,t)}(t,a.a.Component),function(e,t,n){t&&kr(e.prototype,t),n&&kr(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.folderTitle,o=this.props.reduxState.slideState,i=this.state,c=i.data,l=i.order,u=i.orderBy,s=i.selected,p=i.rowsPerPage,f=i.page,d=i.editMode,m=p-Math.min(p,c.length-f*p);return a.a.createElement(qe.a,{direction:o,in:!0,mountOnEnter:!0,unmountOnExit:!0},a.a.createElement(he.a,{className:n.root},a.a.createElement(Sr,{handleKeypress:this.handleKeypress,handleInput:this.handleInput,toggleEditMode:this.toggleEditMode,handleUpdateFolder:this.handleUpdateFolder,inputValue:this.state.inputValue,editMode:d,folderTitle:r,numSelected:s.length}),a.a.createElement("div",{className:n.tableWrapper},c.length>0?a.a.createElement(Wn.a,{className:n.table,"aria-labelledby":"tableTitle"},a.a.createElement(cr,{numSelected:s.length,order:l,orderBy:u,onSelectAllClick:this.handleSelectAllClick,onRequestSort:this.handleRequestSort,rowCount:c.length,title:"target"}),a.a.createElement(Vn.a,null,function(e,t){var n=e.map(function(e,t){return[e,t]});return n.sort(function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]}),n.map(function(e){return e[0]})}(c,function(e,t){return"desc"===e?function(e,n){return Rr(e,n,t)}:function(e,n){return-Rr(e,n,t)}}(l,u)).slice(f*p,f*p+p).map(function(t){var r=e.isSelected(t.id);return a.a.createElement(Hn.a,{hover:!0,onClick:function(n){return e.handleClick(n,t.id)},role:"checkbox","aria-checked":r,tabIndex:-1,key:t.id,selected:r,style:{cursor:"pointer"}},a.a.createElement(Kn.a,{className:n.tableCellSmall,padding:"dense"},t.urgent?a.a.createElement(Qt.a,{title:"Behind Schedule",placement:"bottom-start"},a.a.createElement(Or.a,{fontSize:"small",style:{color:"#E30613"}})):a.a.createElement(Qt.a,{title:"On Schedule",placement:"bottom-start"},a.a.createElement(Or.a,{fontSize:"small",style:{color:"#4CAF50"}}))),a.a.createElement(Kn.a,{className:n.tableCellLarge,component:"th",scope:"row"},t.name),a.a.createElement(Kn.a,{className:n.tableCellLarge},t.description),a.a.createElement(Kn.a,{className:n.tableCell},t.critical_flag?a.a.createElement(xr.a,{color:"secondary"}):null),a.a.createElement(Kn.a,{className:n.tableCell},t.progress,"%"),a.a.createElement(Kn.a,{className:n.tableCell},t.expire_date),a.a.createElement(Kn.a,{className:n.tableCell},t.created_by_id))}),a.a.createElement(Hn.a,{style:{height:49*m}},a.a.createElement(Kn.a,{style:{textAlign:"center"},colSpan:8})))):a.a.createElement("div",{style:{height:49*m,display:"flex",alignItems:"center",justifyContent:"center",color:"#808080"}},a.a.createElement(_.a,{id:"target.creation.message"},function(e){return a.a.createElement("div",{style:{margin:"16px"}},e)}))),a.a.createElement(Yn.a,{labelRowsPerPage:"",rowsPerPageOptions:[],component:"div",count:c.length,rowsPerPage:p,page:f,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.data!==t.data?{data:e.data}:null}}]),t}();Nr.propTypes={classes:l.a.object.isRequired},Nr.defaultProps={classes:{}};var Dr=Nr=Object(u.withStyles)(function(e){return{content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing.unit,minWidth:0},root:{marginTop:3*e.spacing.unit,marginBottom:3*e.spacing.unit},table:{minWidth:1020},tableCell:{width:"150px",minWidth:"150px"},tableCellSmall:{width:"60px",minWidth:"60px"},tableCellLarge:{width:"200px",minWidth:"200px"},tableWrapper:{overflowX:"auto"},toolbar:e.mixins.toolbar}})(Nr),Ir=n(163),Ar=n.n(Ir),Mr=n(84),Fr=n.n(Mr),Br=n(334),qr=n.n(Br),Ur=n(335),Wr=n.n(Ur);function Lr(e){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zr(e,t){return!t||"object"!==Lr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hr(e){return(Hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gr(e,t){return(Gr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kr=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return zr(r,(n=r=zr(this,(e=Hr(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e,t){r.setState({value:t})},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gr(e,t)}(t,a.a.Component),function(e,t,n){t&&Vr(e.prototype,t),n&&Vr(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.msgID,o=t.variant,i=t.handleTabChange,c=t.activeTab,l=t.flexEnd;return a.a.createElement("div",{className:n.root},a.a.createElement(_.a,{id:r},function(t){return a.a.createElement(qr.a,{classes:{flexContainer:l?n.flexContainer:null},variant:o,value:c,onChange:i},t.split(",").map(function(e,t){return a.a.createElement(Wr.a,{key:t,className:n.tabRoot,label:e})}).slice(0,e.props.hideTab))}))}}]),t}();Kr.propTypes={classes:l.a.object.isRequired,msgID:l.a.string.isRequired,variant:l.a.string.isRequired,activeTab:l.a.number.isRequired,handleTabChange:l.a.func.isRequired},Kr.defaultProps={msgID:"",variant:"standard",flexEnd:!1};var Xr=Object(u.withStyles)(function(e){return{root:{backgroundColor:m.Concrete25,color:m.Black75},tabRoot:{minWidth:"100px"},flexContainer:{justifyContent:"flex-end"}}})(Kr),Yr=Object(h.b)(function(e){return{reduxState:e}},function(e){return{}})(Xr),Jr=function(e){var t=e.folder,n=e.target;return a.a.createElement("div",{style:{margin:"16px 0",fontWeight:"bold"}},a.a.createElement("span",null,t," ",n?"/ ".concat(n):null))},Qr=n(164),$r=n.n(Qr),Zr=function(e){var t=new Date(e),n=t.getFullYear(),r=t.getMonth()+1,a=t.getDate();return"".concat(a,"-").concat(r,"-").concat(n)};function ea(e){return(ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ta(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function na(e,t){return!t||"object"!==ea(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ra(e){return(ra=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aa(e,t){return(aa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oa=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return na(r,(n=r=na(this,(e=ra(t)).call.apply(e,[this].concat(o))),r.handleOpenTargetRequest=function(e){r.props.history.push("/performance/project/".concat(e))},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aa(e,t)}(t,r["Component"]),function(e,t,n){t&&ta(e.prototype,t),n&&ta(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,o=t.data,i=t.msgArr;return a.a.createElement("div",{className:n.content},o.map(function(t,o){var c=t.comment,l=t.name,u=t.folder,s=t.id;return a.a.createElement(r.Fragment,{key:o},a.a.createElement(Jr,{folder:u.name,target:l}),a.a.createElement(cn.a,null),c.map(function(t){var r=t.message,o=t.create_date,c=t.created_by_id,l=t.viewed;return a.a.createElement(U.a,{key:o},a.a.createElement(_e.a,{color:"secondary",badgeContent:l?0:"new"},a.a.createElement($r.a,{fontSize:"small",style:{marginRight:"8px"}})),a.a.createElement("p",{className:n.pStyle},c," ",i[0]," ",a.a.createElement("b",null,i[1]),': "',a.a.createElement("span",{className:n.linkStyle,onClick:function(){return e.handleOpenTargetRequest(s)}},r),'" ',a.a.createElement("span",{className:n.dateStyle},Zr(o))))}))}))}}]),t}();oa.propTypes={classes:l.a.object.isRequired};var ia=Object(u.withStyles)(function(e){return{content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:"12px ".concat(3*e.spacing.unit,"px"),minWidth:0},toolbar:e.mixins.toolbar,pStyle:{margin:0,marginLeft:"16px",color:"#404040"},dateStyle:{color:"#202020",fontStyle:"italic"},linkStyle:{color:"#0000EE",textDecoration:"underline",cursor:"pointer"}}})(oa),ca=n(336),la=n.n(ca);function ua(e){return(ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sa(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function pa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function da(e,t,n){return t&&fa(e.prototype,t),n&&fa(e,n),e}function ma(e,t){return!t||"object"!==ua(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ya(e){return(ya=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ha(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ba(e,t)}function ba(e,t){return(ba=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ga=function(e){function t(){return pa(this,t),ma(this,ya(t).apply(this,arguments))}return ha(t,a.a.Component),da(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.handleInput,r=e.inputValue,o=e.submit,i=e.data,c=e.userID,l=e.setMentionUser,u=e.clearMentionUser,s=e.mentionUser,p=sa(new Set(i.map(function(e){return e.created_by_id}))).filter(function(e){return e!==c});return a.a.createElement("div",{className:t.messageInputRoot},a.a.createElement(_.a,{id:"comment.text.placeholder"},function(e){return a.a.createElement(ht.a,{multiline:!0,required:!0,rows:"2",rowsMax:"2",type:"text-field",placeholder:e,fullWidth:!0,variant:"outlined",className:t.textField,value:r,onChange:n,InputProps:{classes:{notchedOutline:t.overrideOutline}}})}),a.a.createElement("div",{className:t.commentToolbar},a.a.createElement(Ea,{setMentionUser:l,clearMentionUser:u,mentionUser:s,userList:p}),a.a.createElement(I.a,{onClick:o},a.a.createElement(ee.a,{fontSize:"small"}))))}}]),t}(),va=function(e){function t(){var e,n,r;pa(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return ma(r,(n=r=ma(this,(e=ya(t)).call.apply(e,[this].concat(o))),r.state={anchorEl:null},r.handleClick=function(e){r.setState({anchorEl:e.currentTarget})},r.handleClose=function(e){console.log(e),r.setState({anchorEl:null}),null!==e&&r.props.setMentionUser(e)},n))}return ha(t,a.a.Component),da(t,[{key:"render",value:function(){var e=this,t=this.state.anchorEl,n=this.props,o=n.userList,i=n.mentionUser,c=n.classes,l=n.clearMentionUser;return a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:c.mentionUserStyle},a.a.createElement(I.a,{onClick:this.handleClick},a.a.createElement(la.a,{fontSize:"small"})),i?a.a.createElement("div",{className:c.closeButtonStyle},i.split(".").join(" "),a.a.createElement(fr.a,{onClick:l,style:{color:"#808080",cursor:"pointer"}})):null),a.a.createElement(We.a,{id:"simple-menu",anchorEl:t,open:Boolean(t),onClose:function(){return e.handleClose(null)}},o.map(function(t){return a.a.createElement(Ee.a,{key:t,onClick:function(){return e.handleClose(t)}},t.split(".").join(" "))})))}}]),t}(),Ea=Object(u.withStyles)(function(e){return{mentionUserStyle:{display:"flex",justifyContent:"center",alignItems:"center"},closeButtonStyle:{display:"flex",justifyContent:"center",alignItems:"center"}}})(va);ga.propTypes={handleInput:l.a.func.isRequired,inputValue:l.a.string.isRequired,submit:l.a.func.isRequired},ga.defaultProps={buttonName:"Add"};var Sa=Object(u.withStyles)(function(e){return{marginTop:{marginTop:"auto"},button:{margin:e.spacing.unit,width:"100%",height:"63px",textAlign:"left"},buttonSmall:{width:"50px",height:"35px"},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},iconSmall:{fontSize:20},offsetIcon:{height:"12px"},iconButton:{width:"36px",height:"36px"},SubtargetContent:{width:"100%"},messageInputRoot:{flexDirection:"row",flexWrap:"wrap",marginTop:"auto",position:"sticky",bottom:0,background:"#FFFFFF"},commentToolbar:{width:"100%",display:"flex",backgroundColor:"rgba(0, 0, 0, 0.12)",justifyContent:"space-between"},overrideOutline:{borderTop:"1px solid rgba(0, 0, 0, 0.23)",borderBottom:"1px solid rgba(0, 0, 0, 0.23)",borderLeft:"none",borderRight:"none",borderRadius:0}}})(ga),wa=n(158),Oa=n.n(wa);function _a(e){return(_a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ca(e,t){return!t||"object"!==_a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ka(e){return(ka=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ja(e,t){return(ja=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pa=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return Ca(r,(n=r=Ca(this,(e=ka(t)).call.apply(e,[this].concat(i))),r.state={comments:r.props.data,tmpComments:[],editMode:!1,editIndex:null,inputValue:""},r.handleEdit=function(e){var t=a.a.createElement("div",null,"EDIT CONTENT");r.setState(function(n){var r=n.comments.slice();return r.splice(e,1,t),{tmpComments:r,editMode:!0,editIndex:e,inputValue:n.comments[e].name}})},r.handleInput=function(e){return function(e){r.setState({inputValue:e.target.value})}},r.handleKeypress=function(e){"Enter"===e.key&&(e.preventDefault(),r.updateEvent(r.state.editIndex,r.state.inputValue))},r.handleCloseInput=function(){r.setState({editMode:!1})},r.updateEvent=function(e,t){r.props.updateEvent(e,t),r.setState({editMode:!1})},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ja(e,t)}(t,r["Component"]),function(e,t,n){t&&xa(e.prototype,t),n&&xa(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state,o=n.editMode,i=n.comments,c=n.tmpComments,l=n.editIndex,u=n.inputValue;return a.a.createElement("div",{className:t.root},i.length>0?a.a.createElement(B.a,{className:t.ulStyle},o?c.map(function(t,n){return n===l?a.a.createElement(r.Fragment,{key:n},a.a.createElement(vr,{buttonName:"Edit",handleInput:e.handleInput,handleKeypress:e.handleKeypress,inputValue:u,toggleForm:e.handleCloseInput,submit:function(){return e.updateEvent(l,u)}}),a.a.createElement("br",null),a.a.createElement(cn.a,null)):a.a.createElement(r.Fragment,{key:n},a.a.createElement(U.a,{onClick:function(){return e.handleEdit(n)}},a.a.createElement(z.a,{primary:t.name,secondary:Zr(t.create_date)})),a.a.createElement(cn.a,null))}):i.map(function(e,n){var o=e.message,i=e.create_date,c=e.created_by_id,l=e.mention_user_id;return a.a.createElement(r.Fragment,{key:n},a.a.createElement(U.a,{className:t.liStyle},a.a.createElement("div",{className:t.avatarWrapper},a.a.createElement(Oa.a,{className:t.avatar},c.split(".").map(function(e){return e[0]}).join("").toUpperCase())),a.a.createElement("div",{className:t.liContentWrapper},a.a.createElement("div",{className:t.liTitleWrapper},a.a.createElement("div",{className:t.nameTextStyle},c.split(".").join(" "),l?a.a.createElement("span",null," ",a.a.createElement("b",{style:{color:"#B0B1B3"}},"▸")," ",l.split(".").join(" ")):null),a.a.createElement("div",{className:t.secondaryTextStyle},Zr(i))),a.a.createElement("div",{className:t.primaryTextStyle},o))),a.a.createElement(cn.a,{light:!0}))})):a.a.createElement(_.a,{id:"comment.text.welcomeText"},function(e){return a.a.createElement("div",{className:t.helpText},e)}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.data!==t.data?{comments:e.data}:null}}]),t}();Pa.propTypes={classes:l.a.object.isRequired,data:l.a.array.isRequired};var Ra=Object(u.withStyles)(function(e){var t;return{root:(t={width:"100%",flex:"1 1 100%",display:"flex",justifyContent:"center",maxWidth:360},Ta(t,e.breakpoints.down("sm"),{maxWidth:"100%"}),Ta(t,"backgroundColor",e.palette.background.paper),t),helpText:{alignSelf:"center",margin:"5%",color:"#808080"},ulStyle:{flex:1,overflow:"auto",fontSize:"12px"},liStyle:{padding:"8px 0",display:"flex",minHeight:"70px"},nameTextStyle:{fontSize:"12px"},primaryTextStyle:{fontSize:"14px",color:"#404040",marginTop:4},secondaryTextStyle:{fontSize:"12px",color:"#808080"},avatarWrapper:{alignSelf:"flex-start",height:"100%"},liContentWrapper:{height:"100%",flex:1,alignSelf:"flex-start"},liTitleWrapper:{},avatar:{marginLeft:8,marginRight:8,width:"26px",height:"26px",fontSize:"14px"}}})(Pa);function Na(e){return(Na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Da(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ia(e,t){return!t||"object"!==Na(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Aa(e){return(Aa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ma(e,t){return(Ma=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ce.a.defaults.xsrfHeaderName="X-CSRFTOKEN",Ce.a.defaults.xsrfCookieName="csrftoken";var Fa=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return Ia(r,(n=r=Ia(this,(e=Aa(t)).call.apply(e,[this].concat(o))),r.state={inputValue:"",data:[],emptyRecord:!1,mentionUser:null},r.fetchComments=function(){Ce.a.get("/api/fetch_comment_by_target/".concat(r.props.match.params.id,"/")).then(function(e){0===e.data.length?r.setState({data:e.data,emptyRecord:!0}):r.setState({data:e.data})}).catch(function(e){console.log(e)}).then(function(){})},r.handleCommentInput=function(e){r.setState({inputValue:e.target.value})},r.setMentionUser=function(e){r.setState({mentionUser:e})},r.clearMentionUser=function(){console.log("clear"),r.setState({mentionUser:null})},r.submitComment=function(){var e="/api/create_comment_by_target/".concat(r.props.match.params.id,"/");Ce.a.post(e,{message:r.state.inputValue,target:r.props.match.params.id,mention_user_id:r.state.mentionUser}).then(function(e){r.setState({data:r.state.data.concat(e.data),inputValue:""})}).catch(function(e){console.log(e)})},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ma(e,t)}(t,r["Component"]),function(e,t,n){t&&Da(e.prototype,t),n&&Da(e,n)}(t,[{key:"componentDidMount",value:function(){this.fetchComments()}},{key:"render",value:function(){var e=this.props.userID;return a.a.createElement(r.Fragment,null,a.a.createElement(Ba,{data:this.state.data,emptyRecord:this.state.emptyRecord}),a.a.createElement(Sa,{setMentionUser:this.setMentionUser,clearMentionUser:this.clearMentionUser,mentionUser:this.state.mentionUser,userID:e,data:this.state.data,handleInput:this.handleCommentInput,inputValue:this.state.inputValue,submit:this.submitComment}))}}]),t}();Fa.propTypes={classes:l.a.object.isRequired};var Ba=at(Ra),qa=Object(u.withStyles)(function(e){return{root:{width:"100%"},avatar:{margin:"5px 15px 0px 0px",width:"30px",height:"30px",alignSelf:"center"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular,alignSelf:"center"},userName:{alignSelf:"center"},panelSummaryTitle:{display:"flex",flexDirection:"row",marginBottom:"10px"},panelSummary:{flexDirection:"column"},panelDetails:{flexDirection:"column"},spread:{borderRight:"2px solid ".concat(m.Concrete25),marginLeft:"12px",marginRight:"18px"},emptySpread:{marginLeft:"12px",marginRight:"12px"},replyHeadingContainer:{display:"flex",flexDirection:"row",margin:"1rem 0"},replyContainer:{display:"flex",flexDirection:"row"},replyHeading:{display:"flex"},commentStickToBottom:{position:"sticky",bottom:0}}})(Fa);function Ua(e){return(Ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function La(e,t){return!t||"object"!==Ua(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Va(e){return(Va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function za(e,t){return(za=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ce.a.defaults.xsrfHeaderName="X-CSRFTOKEN",Ce.a.defaults.xsrfCookieName="csrftoken";var Ha=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return La(r,(n=r=La(this,(e=Va(t)).call.apply(e,[this].concat(o))),r.state={inputValue:"",data:[],emptyRecord:!1,mentionUser:null},r.fetchActions=function(){Ce.a.get("/api/fetch_action_by_target/".concat(r.props.match.params.id,"/")).then(function(e){0===e.data.length?r.setState({data:e.data,emptyRecord:!0}):r.setState({data:e.data})}).catch(function(e){console.log(e)}).then(function(){})},r.handleActionInput=function(e){r.setState({inputValue:e.target.value})},r.setMentionUser=function(e){r.setState({mentionUser:e})},r.clearMentionUser=function(){console.log("clear"),r.setState({mentionUser:null})},r.submitAction=function(){var e="/api/create_action_by_target/".concat(r.props.match.params.id,"/");Ce.a.post(e,{message:r.state.inputValue,target:r.props.match.params.id,mention_user_id:r.state.mentionUser}).then(function(e){r.setState({data:r.state.data.concat(e.data),inputValue:""})}).catch(function(e){console.log(e)})},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&za(e,t)}(t,r["Component"]),function(e,t,n){t&&Wa(e.prototype,t),n&&Wa(e,n)}(t,[{key:"componentDidMount",value:function(){this.fetchActions()}},{key:"render",value:function(){var e=this.props.userID;return a.a.createElement(r.Fragment,null,a.a.createElement(Ga,{data:this.state.data,emptyRecord:this.state.emptyRecord}),a.a.createElement(Sa,{setMentionUser:this.setMentionUser,clearMentionUser:this.clearMentionUser,mentionUser:this.state.mentionUser,userID:e,data:this.state.data,handleInput:this.handleActionInput,inputValue:this.state.inputValue,submit:this.submitAction}))}}]),t}();Ha.propTypes={classes:l.a.object.isRequired};var Ga=at(Ra),Ka=Object(u.withStyles)(function(e){return{root:{width:"100%"},avatar:{margin:"5px 15px 0px 0px",width:"30px",height:"30px",alignSelf:"center"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular,alignSelf:"center"},userName:{alignSelf:"center"},panelSummaryTitle:{display:"flex",flexDirection:"row",marginBottom:"10px"},panelSummary:{flexDirection:"column"},panelDetails:{flexDirection:"column"},spread:{borderRight:"2px solid ".concat(m.Concrete25),marginLeft:"12px",marginRight:"18px"},emptySpread:{marginLeft:"12px",marginRight:"12px"},replyHeadingContainer:{display:"flex",flexDirection:"row",margin:"1rem 0"},replyContainer:{display:"flex",flexDirection:"row"},replyHeading:{display:"flex"},commentStickToBottom:{position:"sticky",bottom:0}}})(Ha),Xa=n(338),Ya=n.n(Xa),Ja=n(337),Qa=n.n(Ja);function $a(){return($a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Za(e){return(Za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function to(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function no(e,t,n){return t&&to(e.prototype,t),n&&to(e,n),e}function ro(e,t){return!t||"object"!==Za(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ao(e){return(ao=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&io(e,t)}function io(e,t){return(io=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ce.a.defaults.xsrfHeaderName="X-CSRFTOKEN",Ce.a.defaults.xsrfCookieName="csrftoken";var lo=function(e){function t(){var e,n,r;eo(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return ro(r,(n=r=ro(this,(e=ao(t)).call.apply(e,[this].concat(o))),r.state={activeTab:0,data:[],emptyRecord:!1},r.handleTabChange=function(e,t){r.setState({activeTab:t},function(){})},r.fetchRecentSubtargetAndEvent=function(){Ce.a.get("/api/fetch_recent_comments/").then(function(e){var t=e.data;if(0===e.data.length)r.setState({emptyRecord:!0});else{var n=t.map(function(e){return e.comment.map(function(e){var t=e.viewed,n=e.id;return!1===t?n:null}).filter(function(e){return null!==e})}),a=[].concat.apply([],n);r.setState({data:t},function(){r.props.updateCommentBadgeCount(0),r.updateViewedStatus(a)})}}).catch(function(e){console.log(e)}).then(function(){})},r.fetchTargetActionAccess=function(){Ce.a.get("/api/action_access/").then(function(e){r.props.reduxState.project_details_data;r.props.storeActionAccess(e.data.userList.map(function(e){return e.name}))}).catch(function(e){console.log(e)}).then(function(){})},r.updateViewedStatus=function(e){e.forEach(function(e){Ce.a.put("/api/update_viewed_comment/".concat(e,"/"),{viewed:!0})})},n))}return oo(t,r["Component"]),no(t,[{key:"componentDidMount",value:function(){this.fetchRecentSubtargetAndEvent(),this.fetchTargetActionAccess()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.docked,o=t.history,i=t.match,c=this.props.reduxState,l=c.slideState,u=c.userID,s=c.myActionAccess,p=c.project_details_data.created_by_id,f=s.includes(p);return r?Object(Mr.isWidthUp)("md",this.props.width)?a.a.createElement(so,{hasAccess:f,userID:u,history:o,match:i,classes:n,handleTabChange:this.handleTabChange,activeTab:this.state.activeTab}):a.a.createElement(po,{hasAccess:f,userID:u,history:o,match:i,classes:n,handleTabChange:this.handleTabChange,activeTab:this.state.activeTab}):a.a.createElement(qe.a,{direction:l,in:!0,mountOnEnter:!0,unmountOnExit:!0},a.a.createElement("div",{className:n.root},a.a.createElement("div",{className:n.toolbar}),a.a.createElement(_.a,{id:"recent.title.comments"},function(e){return a.a.createElement("h2",{style:{margin:0}},e)}),a.a.createElement(_.a,{id:"recent.text.recentComments"},function(t){var n=t.split(",");return a.a.createElement(uo,{msgArr:n,history:o,data:e.state.data,emptyRecord:e.state.emptyRecord})})))}}]),t}();lo.propTypes={classes:l.a.object.isRequired,docked:l.a.bool.isRequired},lo.defaultProps={docked:!1,classes:{}};var uo=at(ia),so=function(e){function t(){return eo(this,t),ro(this,ao(t).apply(this,arguments))}return oo(t,r["Component"]),no(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.handleTabChange,r=e.activeTab,o=e.history,i=e.match,c=e.userID,l=e.hasAccess;return a.a.createElement(qe.a,{direction:"left",in:!0,mountOnEnter:!0,unmountOnExit:!0},a.a.createElement(he.a,{className:N()(t.dockedRoot,t.dockedRootMd)},a.a.createElement("div",{className:N()(t.toolbar,t.toolbarMd)}),a.a.createElement(Xr,{hideTab:l?2:1,variant:"fullWidth",activeTab:r,handleTabChange:n,msgID:"tab.comments.title"}),0===r&&a.a.createElement(qa,{userID:c,history:o,match:i}),1===r&&a.a.createElement(Ka,{userID:c,history:o,match:i})))}}]),t}(),po=function(e){function t(){var e,n,r;eo(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return ro(r,(n=r=ro(this,(e=ao(t)).call.apply(e,[this].concat(o))),r.state={isCommentActive:!1},r.toggleComment=function(){r.setState(function(e){return{isCommentActive:!e.isCommentActive}})},n))}return oo(t,r["Component"]),no(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.handleTabChange,r=e.activeTab,o=e.history,i=e.match,c=e.userID,l=e.hasAccess;return a.a.createElement("div",{className:t.dockedBottomRoot},a.a.createElement(I.a,{className:t.button,"aria-label":"Delete",onClick:this.toggleComment},a.a.createElement(Qa.a,null)),a.a.createElement(mo,{history:o,userID:c,hasAccess:l,match:i,toggleComment:this.toggleComment,isCommentActive:this.state.isCommentActive,classes:t,handleTabChange:n,activeTab:r}))}}]),t}(),fo=function(e){return a.a.createElement(qe.a,$a({},e,{direction:"up"}))},mo=function(e){function t(){var e,n,r;eo(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return ro(r,(n=r=ro(this,(e=ao(t)).call.apply(e,[this].concat(o))),r.state={mounted:!0},n))}return oo(t,r["Component"]),no(t,[{key:"render",value:function(){var e=this.props,t=(e.classes,e.activeTab),n=e.handleTabChange,r=e.isCommentActive,o=e.toggleComment,i=e.history,c=e.match,l=e.userID,u=e.hasAccess;return a.a.createElement(gt.a,{fullScreen:!0,open:r,onClose:o,TransitionComponent:fo},a.a.createElement(Ke.a,{mini:!0,variant:"text",color:"primary",style:{position:"absolute",top:"5px",zIndex:2},onClick:o},a.a.createElement(Ya.a,null)),a.a.createElement(Yr,{hideTab:u?2:1,flexEnd:!0,variant:"standard",activeTab:t,handleTabChange:n,msgID:"tab.comments.title"}),0===t&&a.a.createElement(qa,{userID:l,history:i,match:c}),1===t&&a.a.createElement(Ka,{userID:l,history:i,match:c}))}}]),t}(),yo=Ar()(Object(u.withStyles)(function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing.unit,minWidth:0,overflow:"auto"},dockedRoot:{width:"20%",whiteSpace:"normal",height:"100%",alignSelf:"flex-end",overflow:"auto",display:"flex",flexDirection:"column"},dockedRootMd:co({},e.breakpoints.down("sm"),{overflow:"hidden",display:"none"}),dockedBottomRoot:{position:"absolute",bottom:3*e.spacing.unit,right:3*e.spacing.unit},toolbar:e.mixins.toolbar,toolbarMd:co({},e.breakpoints.down("sm"),{display:"none"})}}),Fr()())(lo),ho=Object(h.b)(function(e){return{reduxState:e}},function(e){return{toggleSnackbar:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Input message here";e(wn(t,n,r))},storeActionAccess:function(t){e(function(e){return{type:"STORE_ACTION_ACCESS",data:e}}(t))},updateCommentBadgeCount:function(t){e(v(t))}}})(yo),bo=n(339),go=n.n(bo);function vo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xo(e,t,n[t])})}return e}function Eo(e){return(Eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function So(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wo(e){return(wo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oo(e,t){return(Oo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ce.a.defaults.xsrfHeaderName="X-CSRFTOKEN",Ce.a.defaults.xsrfCookieName="csrftoken";var Co=[{type:"input",label:"details.field.target_name",name:"name",required:!0},{type:"input",label:"details.field.target_description",name:"description",required:!0,props:{multiline:!0,rows:4,rowsMax:"4"}},{type:"date",label:"details.field.start_date",name:"start_date",required:!0,props:{}},{type:"date",label:"details.field.expire_date",required:!0,name:"expire_date"},{type:"input",label:"details.field.created_by",required:!0,name:"created_by_id",disabled:!0}],ko=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==Eo(t)&&"function"!=typeof t?_o(e):t}(this,wo(t).call(this,e)),jo.call(_o(_o(n))),n.state={fields:e.data},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oo(e,t)}(t,r["Component"]),function(e,t,n){t&&So(e.prototype,t),n&&So(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.editContent;return a.a.createElement("form",{className:r?N()(n.detailsFieldRoot,n.editMode):n.detailsFieldRoot,onSubmit:function(t){t.preventDefault(),e.submitForm()}},a.a.createElement(this.Fields,null),r?a.a.createElement(Ke.a,{type:"submit",variant:"contained",size:"small",className:n.button},a.a.createElement(go.a,{className:N()(n.leftIcon,n.iconSmall)}),"Save"):null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.data!==t.fields?{fields:e.data}:null}}]),t}(),jo=function(){var e=this;this.submitForm=function(){var t=e.props,n=t.editContent,r=t.data,a=t.toggleSnackbar;e.props.toggleEditButton(!n);var o="/api/update_horizon_target_individual/".concat(r.id,"/");Ce.a.put(o,r).then(function(t){a(!0,"success","Saved!"),e.props.updateTarget(!e.props.targetUpdate)}).catch(function(e){console.log(e)})},this.Fields=function(){var t=e.props,n=t.classes,o=t.editContent;return Co.map(function(t,i){var c=t.type,l=t.label,u=t.name,s=t.required,p=t.props,f=t.disabled;return 1===i?a.a.createElement(r.Fragment,{key:u},a.a.createElement(_.a,{id:l,key:u},function(t){return a.a.createElement(ht.a,{type:c,required:s,className:n.fieldInput,id:"standard-read-only-input",label:t,disabled:f||!o,value:e.state.fields[u]||"",onChange:function(t){return e.props.handleChange(u,t.target.value)},InputProps:vo({},p,{disableUnderline:!o,classes:{disabled:n.disabledInput}}),InputLabelProps:{shrink:!0}})}),a.a.createElement(jt.a,{className:n.marginTop,control:a.a.createElement(Ct.a,{classes:{disabled:n.disabledStarStyle},value:"checked",checked:e.state.fields.critical_flag,onChange:function(t){return o?e.props.handleChange("critical_flag",!e.state.fields.critical_flag):null}}),label:"20%"})):a.a.createElement(_.a,{id:l,key:u},function(t){return a.a.createElement(ht.a,{type:c,required:s,className:n.fieldInput,id:"standard-read-only-input",label:t,disabled:f||!o,value:e.state.fields[u]||"",onChange:function(t){return e.props.handleChange(u,t.target.value)},InputProps:vo({},p,{disableUnderline:!o,classes:{disabled:n.disabledInput}}),InputLabelProps:{shrink:!0}})})})}};ko.propTypes={classes:l.a.object.isRequired};var To=Object(u.withStyles)(function(e){var t;return{detailsFieldRoot:(t={display:"flex",padding:2*e.spacing.unit,flex:"1 1 100%",maxWidth:"300px"},xo(t,e.breakpoints.down("sm"),{maxWidth:"100%"}),xo(t,"flexDirection","column"),t),editMode:{border:"1px solid #FF9800"},fieldInput:{margin:"4px 8px"},disabledInput:{color:"#212121",opacity:1},spacer:{flex:1},marginTop:{marginTop:"auto"},button:{margin:e.spacing.unit,width:"100px"},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},iconSmall:{fontSize:20},disabledStarStyle:{color:"#e30613"}}})(ko),Po=n(340),Ro=n.n(Po);function No(e){return(No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Do(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Io(e,t){return!t||"object"!==No(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ao(e){return(Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mo(e,t){return(Mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ce.a.defaults.xsrfHeaderName="X-CSRFTOKEN",Ce.a.defaults.xsrfCookieName="csrftoken";var Fo=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return Io(r,(n=r=Io(this,(e=Ao(t)).call.apply(e,[this].concat(o))),r.state={completed:0,progress:r.props.progress},r.progress=function(){var e=r.props.progress.map(function(e){return e.completed_flag}),t=Math.round(e.reduce(function(e,t){return e+t})/e.length*100);r.setState({completed:t})},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mo(e,t)}(t,a.a.Component),function(e,t,n){t&&Do(e.prototype,t),n&&Do(e,n)}(t,[{key:"componentDidMount",value:function(){this.progress()}},{key:"render",value:function(){var e=this.props.classes;return a.a.createElement("div",{className:e.root},a.a.createElement("div",{className:e.progressRoot},a.a.createElement("span",{className:e.progressNumber},this.state.completed,"%")),a.a.createElement(Ro.a,{className:e.progressBar,color:"secondary",variant:"determinate",value:this.state.completed}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.progress.map(function(e){return e.completed_flag}),r=Math.round(n.reduce(function(e,t){return e+t})/n.length*100);if(t.completed!==r){var a=e.progress[0].target,o="/api/update_horizon_target_individual_progress/".concat(a,"/");return Ce.a.put(o,{progress:r}).then(function(e){}).catch(function(e){console.log(e)}),{completed:r}}return{completed:r}}}]),t}();Fo.propTypes={classes:l.a.object.isRequired},Fo.defaultProps={progress:[!0,!1,!0]};var Bo=Object(u.withStyles)(function(e){return{root:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row"},progressRoot:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row"},progressBar:{flex:"1 1 100%",marginLeft:e.spacing.unit},progressNumber:{fontSize:"12px",margin:"0 5px",color:m.Black50}}})(Fo),qo=n(341),Uo=n.n(qo);function Wo(e){return(Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vo(e,t){return!t||"object"!==Wo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zo(e){return(zo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ho(e,t){return(Ho=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Go=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Vo(this,zo(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ho(e,t)}(t,a.a.Component),function(e,t,n){t&&Lo(e.prototype,t),n&&Lo(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.arr,r=e.toggleChecklist,o=e.editItem;return a.a.createElement("div",{className:t.root},a.a.createElement(B.a,null,n.map(function(e,n){return a.a.createElement(U.a,{className:t.dense,key:n,role:void 0,dense:!0,button:!0},a.a.createElement(Ct.a,{onClick:r(n),className:t.iconDense,checked:e.completed_flag,tabIndex:-1,disableRipple:!0}),a.a.createElement(z.a,{onClick:o(n),primary:"".concat(e.name)}),a.a.createElement("div",{className:t.eventIcon,onClick:o(n)},a.a.createElement("span",null,e.event_count>0?e.event_count:null),a.a.createElement(Uo.a,null)))})))}}]),t}();Go.propTypes={classes:l.a.object.isRequired};var Ko=Object(u.withStyles)(function(e){return{root:{width:"100%",maxHeight:"300px",marginTop:e.spacing.unit,overflowY:"auto",backgroundColor:e.palette.background.paper},dense:{padding:0},iconDense:{padding:"5px"},eventIcon:{color:"#808080",fontSize:"14px",display:"flex",justifyContent:"center",alignItems:"center",marginRight:e.spacing.unit}}})(Go),Xo=n(342),Yo=n.n(Xo);function Jo(e){return(Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $o(e,t){return!t||"object"!==Jo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zo(e){return(Zo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ei(e,t){return(ei=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ti=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return $o(r,(n=r=$o(this,(e=Zo(t)).call.apply(e,[this].concat(i))),r.state={events:r.props.data,tmpEvents:[],editMode:!1,editIndex:null,inputValue:""},r.handleEdit=function(e){var t=a.a.createElement("div",null,"EDIT CONTENT");r.setState(function(n){var r=n.events.slice();return r.splice(e,1,t),{tmpEvents:r,editMode:!0,editIndex:e,inputValue:n.events[e].name}})},r.handleInput=function(e){return function(e){r.setState({inputValue:e.target.value})}},r.handleKeypress=function(e){"Enter"===e.key&&(e.preventDefault(),r.updateEvent(r.state.editIndex,r.state.inputValue))},r.handleCloseInput=function(){r.setState({editMode:!1})},r.updateEvent=function(e,t){r.props.updateEvent(e,t),r.setState({editMode:!1})},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ei(e,t)}(t,r["Component"]),function(e,t,n){t&&Qo(e.prototype,t),n&&Qo(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state,o=n.editMode,i=n.events,c=n.tmpEvents,l=n.editIndex,u=n.inputValue;return a.a.createElement("div",{className:t.root},a.a.createElement(B.a,null,i.length>0?o?c.map(function(n,o){return o===l?a.a.createElement(r.Fragment,{key:o},a.a.createElement(vr,{buttonName:"Edit",handleInput:e.handleInput,handleKeypress:e.handleKeypress,inputValue:u,toggleForm:e.handleCloseInput,submit:function(){return e.updateEvent(l,u)}}),a.a.createElement("br",null),a.a.createElement("li",null,a.a.createElement(cn.a,{light:!0}))):a.a.createElement(r.Fragment,{key:o},a.a.createElement(U.a,null,a.a.createElement(z.a,{primary:n.name,secondary:Zr(n.create_date)}),a.a.createElement(I.a,{style:{alignSelf:"flex-start"},"aria-label":"Edit Button",onClick:function(){return e.handleEdit(o)},classes:{root:t.overRideIconStyle}},a.a.createElement(Tn.a,null))),a.a.createElement("li",null,a.a.createElement(cn.a,{light:!0})))}):i.map(function(n,o){var i=n.name,c=n.create_date;return a.a.createElement(r.Fragment,{key:o},0===o?a.a.createElement("li",null,a.a.createElement(cn.a,{light:!0})):null,a.a.createElement(U.a,null,a.a.createElement(z.a,{primary:i,secondary:Zr(c)}),a.a.createElement(I.a,{style:{alignSelf:"flex-start"},"aria-label":"Edit Button",onClick:function(){return e.handleEdit(o)},classes:{root:t.overRideIconStyle}},a.a.createElement(Tn.a,null))),a.a.createElement("li",null,a.a.createElement(cn.a,{light:!0})))}):null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.data!==t.data?{events:e.data}:null}}]),t}();ti.propTypes={classes:l.a.object.isRequired,data:l.a.array.isRequired};var ni=Object(u.withStyles)(function(e){return{root:{width:"100%",flex:"1 1 100%",backgroundColor:e.palette.background.paper},editButtonStyle:{display:"flex",alignItems:"flex-start"},overRideIconStyle:{padding:"3px",margin:"0 3px"}}})(ti);function ri(e){return(ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ai(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ii(e,t,n[t])})}return e}function ii(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function li(e,t){return!t||"object"!==ri(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ui(e){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function si(e,t){return(si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ce.a.defaults.xsrfHeaderName="X-CSRFTOKEN",Ce.a.defaults.xsrfCookieName="csrftoken";var pi=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return li(r,(n=r=li(this,(e=ui(t)).call.apply(e,[this].concat(o))),r.state={editMode:!1,addMode:!1,inputValue:"",eventInput:"",data:r.props.data,openForm:!1,emptyRecord:!1,eventList:[]},r.fetchEvent=function(){var e=r.props.sub_target_id;Ce.a.get("/api/fetch_event_by_sub_target/".concat(e,"/")).then(function(e){0===e.data.length?r.setState({eventList:e.data,emptyRecord:!0}):r.setState({eventList:e.data,emptyRecord:!1})}).catch(function(e){console.log(e)}).then(function(){})},r.updateEventCount=function(){var e=r.props.sub_target_id;Ce.a.put("/api/update_event_count/".concat(e),{event_count:r.state.eventList.length}).then(function(e){r.props.updateEventCount(r.state.eventList.length)}).catch(function(e){console.log(e)}).then(function(){})},r.initComponent=function(){var e=r.state.data;e&&r.setState({inputValue:e.name})},r.handleUpdateTitle=function(){var e=oi({},r.state.data);e.name=r.state.inputValue,r.props.updateSubTarget(e),r.setState(function(){return{editMode:!1}})},r.handleKeypress=function(e){"Enter"===e.key&&(e.preventDefault(),r.handleUpdateTitle())},r.handleEventKeypress=function(e){"Enter"===e.key&&(e.preventDefault(),r.submitEvent())},r.handleInput=function(e){return function(e){r.setState({inputValue:e.target.value})}},r.handleEventInput=function(e){return function(e){r.setState({eventInput:e.target.value})}},r.toggleEditMode=function(){r.setState(function(e){return{inputValue:r.state.data.name,editMode:!e.editMode}})},r.submitEvent=function(){var e=r.props,t=e.target_id,n=e.sub_target_id,a="/api/create_event_by_sub_target/".concat(n,"/"),o={name:r.state.eventInput,sub_target:n,target:t};Ce.a.post(a,o).then(function(e){r.setState(function(t){return oi({},r.state,{eventInput:"",eventList:t.eventList.concat([e.data])})},function(){r.updateEventCount()})}).catch(function(e){console.log(e)})},r.toggleAddEvent=function(){r.setState(function(e){return{inputValue:r.state.data.name,addMode:!e.addMode}})},r.updateEvent=function(e,t){if(t===r.state.eventList[e].name)return null;var n=ai(r.state.eventList);n[e].name=t;var a=n[e];r.setState({eventList:n}),Ce.a.put("/api/update_event_by_sub_target/".concat(a.id,"/"),a).then(function(e){}).catch(function(e){console.log(e)}).then(function(){})},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&si(e,t)}(t,a.a.Component),function(e,t,n){t&&ci(e.prototype,t),n&&ci(e,n)}(t,[{key:"componentDidUpdate",value:function(e,t,n){this.state.data!==e.data&&(this.setState(oi({},this.state,{eventList:[],emptyRecord:!1})),this.fetchEvent())}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.fullScreen,o=t.openEvent,i=t.data,c=t.toggleEvent,l=this.state,u=l.editMode,s=l.addMode,p=l.eventList;return i?a.a.createElement(gt.a,{classes:{paper:n.dialogRoot},open:o,fullScreen:r,onClose:c,scroll:"paper","aria-labelledby":"scroll-dialog-title"},u?a.a.createElement("div",{className:N()(n.sidePadding,n.bottomPadding)},a.a.createElement(vr,{toggleForm:this.toggleEditMode,inputValue:this.state.inputValue,handleInput:this.handleInput,handleKeypress:this.handleKeypress,submit:this.handleUpdateTitle,buttonName:"Edit"})):a.a.createElement("div",{className:n.subTargetEventTitle},a.a.createElement(_t.a,null,i.name),a.a.createElement(I.a,{"aria-label":"Edit Button",onClick:this.toggleEditMode,classes:{root:n.overRideIconStyle}},a.a.createElement(Tn.a,null)),a.a.createElement("div",{style:{marginRight:"16px",marginTop:"8px",marginLeft:"auto"}},a.a.createElement("span",null,Zr(i.create_date)))),a.a.createElement(wt.a,null,a.a.createElement("div",{className:n.dialogContentWrapper},a.a.createElement(_.a,{id:"event.title.description"},function(e){return a.a.createElement("div",null,e,":")}),a.a.createElement("div",{className:n.eventWrapper},a.a.createElement("div",{className:n.eventListWrapper},a.a.createElement(fi,{emptyRecord:this.state.emptyRecord,updateEvent:this.updateEvent,data:p}),s?a.a.createElement(vr,{handleInput:this.handleEventInput,handleKeypress:this.handleEventKeypress,inputValue:this.state.eventInput,toggleForm:this.toggleAddEvent,submit:this.submitEvent}):a.a.createElement(_.a,{id:"event.button.add"},function(t){return a.a.createElement(Ke.a,{className:n.button,fullWidth:!0,onClick:e.toggleAddEvent,disableRipple:!0},t)}))))),a.a.createElement(Et.a,null,a.a.createElement(_.a,{id:"event.button.close"},function(e){return a.a.createElement(Ke.a,{onClick:c,color:"primary"},e)}))):null}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.data!==t.data?{data:e.data}:null}}]),t}();pi.propTypes={fullScreen:l.a.bool.isRequired,openEvent:l.a.bool.isRequired,toggleEvent:l.a.func.isRequired,updateSubTarget:l.a.func.isRequired};var fi=at(ni),di=Ar()(Object(u.withStyles)(function(e){return{dialogRoot:{width:"100%",height:"100%"},dialogContentWrapper:{postition:"relative",display:"flex",flexDirection:"column"},eventWrapper:{display:"flex"},eventListWrapper:{width:"100%",flex:"1 1 100%",backgroundColor:e.palette.background.paper},sidePadding:{paddingLeft:3*e.spacing.unit,paddingRight:3*e.spacing.unit},bottomPadding:{paddingBottom:3*e.spacing.unit},button:{margin:"".concat(e.spacing.unit," 0"),width:"100%",height:"63px",textAlign:"left",textTransform:"unset"},stickerMenu:{flex:"1 1 50%",height:"250px",position:"sticky",top:0,paddingLeft:3*e.spacing.unit},subTargetEventTitle:{display:"flex",alignItems:"center",fontStyle:"italic",color:"#404040"},editButtonStyle:{display:"flex",alignItems:"flex-start"},overRideIconStyle:{padding:"3px",margin:"0 3px"}}}),Yo()())(pi);function mi(e){return(mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yi(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function hi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gi(e,t){return!t||"object"!==mi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vi(e){return(vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ei(e,t){return(Ei=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ce.a.defaults.xsrfHeaderName="X-CSRFTOKEN",Ce.a.defaults.xsrfCookieName="csrftoken";var Si=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=gi(this,vi(t).call(this,e))).fetchSubTarget=function(){Ce.a.get("/api/query_sub_target_individual/".concat(n.props.target_id,"/")).then(function(e){n.setState({data:e.data})}).catch(function(e){console.log(e)}).then(function(){})},n.updateSubTarget=function(e){Ce.a.put("/api/update_sub_target_individual/".concat(e.id,"/"),e).then(function(e){}).catch(function(e){console.log(e)}).then(function(){})},n.sendForm=function(){var e="/api/create_sub_target_individual/".concat(n.props.target_id,"/"),t={completed_flag:!1,name:n.state.textMessage,target:n.props.target_id};Ce.a.post(e,t).then(function(e){n.setState(function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){hi(e,t,n[t])})}return e}({},n.state,{data:t.data.concat([e.data])})})}).catch(function(e){console.log(e)})},n.toggleForm=function(){n.setState(function(e){return{openForm:!e.openForm}})},n.toggleChecklist=function(e){return function(){var t=n.state.data,r=e,a=yi(t);a[r].completed_flag=!t[r].completed_flag,n.setState({data:a},function(){n.updateSubTarget(n.state.data[r])})}},n.editSubTarget=function(e){var t=n.state,r=t.data,a=t.modalIndex,o=yi(r);o[a]=e,e.name!==r[a].name&&n.setState({data:o},function(){n.updateSubTarget(n.state.data[a])})},n.updateEventCount=function(e){var t=n.state,r=t.data,a=t.modalIndex,o=yi(r);o[a].event_count=e,n.setState({data:o})},n.handleCheckListClick=function(e){return function(){n.setState({modalIndex:e,sub_target_id:n.state.data[e].id},function(){n.toggleEvent()})}},n.handleInput=function(e){return function(t){n.setState(hi({},e,t.target.value))}},n.handleKeypress=function(e){if("Enter"===e.key){e.preventDefault();n.state.data;n.state.textMessage&&(n.sendForm(),n.setState({textMessage:""}))}},n.addTask=function(){n.state.data;n.state.textMessage&&(n.sendForm(),n.setState({textMessage:""}))},n.toggleEvent=function(){n.setState(function(e){return{openEvent:!e.openEvent}})},n.handleEventOpenRequest=function(){},n.state={data:[],openForm:!1,checked:[0],textMessage:"",editIndex:null,openEvent:!1,modalIndex:null,sub_target_id:null,selectedSubTarget:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ei(e,t)}(t,r["Component"]),function(e,t,n){t&&bi(e.prototype,t),n&&bi(e,n)}(t,[{key:"componentDidMount",value:function(){this.fetchSubTarget(),this.props.ResetOpenEvent()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes;t.OpenEventID;return a.a.createElement("div",{className:n.SubtargetRoot},this.state.data.length>0?a.a.createElement("div",{className:n.SubtargetContent},a.a.createElement(Bo,{progress:this.state.data}),a.a.createElement(Ko,{arr:this.state.data,toggleChecklist:this.toggleChecklist,editItem:this.handleCheckListClick}),this.state.openForm?a.a.createElement(vr,{handleInput:this.handleInput,handleKeypress:this.handleKeypress,inputValue:this.state.textMessage,toggleForm:this.toggleForm,submit:this.addTask}):a.a.createElement(_.a,{id:"sub_target.button.add"},function(t){return a.a.createElement(Ke.a,{className:n.button,fullWidth:!0,onClick:e.toggleForm,disableRipple:!0},t)})):this.state.openForm?a.a.createElement(vr,{handleInput:this.handleInput,handleKeypress:this.handleKeypress,inputValue:this.state.textMessage,toggleForm:this.toggleForm,submit:this.addTask}):a.a.createElement(_.a,{id:"sub_target.button.add"},function(t){return a.a.createElement(Ke.a,{className:n.button,fullWidth:!0,onClick:e.toggleForm,disableRipple:!0},t)}),a.a.createElement(di,{target_id:this.props.target_id,sub_target_id:this.state.sub_target_id,updateSubTarget:this.editSubTarget,updateEventCount:this.updateEventCount,openEvent:this.state.openEvent,toggleEvent:this.toggleEvent,data:this.state.data.find(function(t){return t.id===e.state.sub_target_id})}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return null!==e.OpenEventID?(console.log(e.OpenEventID),{openEvent:!0,sub_target_id:e.OpenEventID}):null}}]),t}();Si.propTypes={classes:l.a.object.isRequired};var wi=Object(u.withStyles)(function(e){return{SubtargetRoot:{display:"flex",flex:"1 1 100%",borderLeft:"1px solid rgba(0, 0, 0, 0.12)",flexDirection:"column",alignItems:"center",padding:2*e.spacing.unit},marginTop:{marginTop:"auto"},button:{margin:e.spacing.unit,width:"100%",height:"63px",textAlign:"left",textTransform:"unset"},buttonSmall:{width:"50px",height:"35px"},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},iconSmall:{fontSize:20},offsetIcon:{height:"12px"},iconButton:{width:"36px",height:"36px"},initialMsg:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"50%"},SubtargetContent:{width:"100%"},messageInputRoot:{display:"flex",flexDirection:"row",flexWrap:"wrap"}}})(Si),Oi=n(343);function _i(e){return(_i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Pi(e,t,n[t])})}return e}function Ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ki(e,t){return!t||"object"!==_i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ji(e){return(ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ti(e,t){return(Ti=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ri=n.n(Oi)()(Fr()()),Ni=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return ki(r,(n=r=ki(this,(e=ji(t)).call.apply(e,[this].concat(o))),r.state={activeTab:0,data:{name:null,description:null,created_by_id:null,start_date:null,expire_date:null}},r.storeTargetData=function(){Ce.a.get("/api/horizon_target_individual/".concat(r.props.match.params.id,"/")).then(function(e){r.props.storeTargetData(e.data[0]),r.storeProjectData(e.data[0].folder)}).catch(function(e){console.log(e)}).then(function(){})},r.storeProjectData=function(e){Ce.a.get("/api/fetch_horizon_folder_by_id/".concat(e,"/")).then(function(e){r.props.storeProjectData(e.data[0])}).catch(function(e){console.log(e)}).then(function(){})},r.handleTabChange=function(e,t){r.setState({activeTab:t},function(){})},r.handleChange=function(e){return function(t){r.setState(xi({},r.state,{data:xi({},r.state.data,Pi({},e,t.target.value))}))}},r.editPerformance=function(){var e=r.props.reduxState.editContent;r.props.toggleEditButton(!e)},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ti(e,t)}(t,r["Component"]),function(e,t,n){t&&Ci(e.prototype,t),n&&Ci(e,n)}(t,[{key:"componentDidMount",value:function(){this.storeTargetData()}},{key:"componentWillUnmount",value:function(){this.props.storeTargetData({})}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,o=t.history,i=this.props.reduxState,c=i.slideState,l=i.editContent,u=i.target_details_data,s=i.targetUpdate,p=this.props.location.pathname.split("/").filter(function(e){return""!==e}).length;return a.a.createElement(r.Fragment,null,a.a.createElement(qe.a,{direction:c,in:!0,mountOnEnter:!0,unmountOnExit:!0},a.a.createElement("div",{className:n.content},a.a.createElement("div",{className:n.toolbar}),a.a.createElement(qn,{buttonType:"edit",depth:p,history:o,slideFunc:this.props.slideDirection,buttonMethod:this.editPerformance,component:"performance"}),a.a.createElement(he.a,{className:N()(n.root,n.rootMd,n.rootSm)},a.a.createElement(Ri,null,function(t){var n=t.width;return a.a.createElement(Xr,{hideTab:Object(Mr.isWidthUp)("sm",n)?1:2,activeTab:e.state.activeTab,handleTabChange:e.handleTabChange,msgID:"tab.details.title",variant:"standard"})}),0===this.state.activeTab&&a.a.createElement("div",{className:n.detailsWrapper},a.a.createElement(Di,{toggleSnackbar:this.props.toggleSnackbar,toggleEditButton:this.props.toggleEditButton,data:u,editContent:l,updateTarget:this.props.updateTarget,targetUpdate:s,handleChange:this.props.handleDataChange}),a.a.createElement(le.a,{xsDown:!0},a.a.createElement(wi,{target_id:this.props.match.params.id,OpenEventID:this.props.reduxState.OpenEventID,ResetOpenEvent:this.props.ResetOpenEvent}))),1===this.state.activeTab&&a.a.createElement("div",{className:n.detailsWrapper},a.a.createElement(wi,{target_id:this.props.match.params.id,OpenEventID:this.props.reduxState.OpenEventID,ResetOpenEvent:this.props.ResetOpenEvent}))))),a.a.createElement(ho,{history:this.props.history,match:this.props.match,location:this.props.location,docked:!0}))}}]),t}();Ni.propTypes={classes:l.a.object.isRequired,endpoint:l.a.string.isRequired},Ni.defaultProps={classes:{},endpoint:"/api/horizon_target_individual/"};var Di=at(To),Ii=Object(u.withStyles)(function(e){var t;return{content:{flex:"1 1",display:"flex",padding:3*e.spacing.unit,paddingTop:0,minWidth:0,overflowX:"hidden",flexGrow:1,flexDirection:"column"},root:{alignSelf:"flex-start",width:"100%",marginTop:3*e.spacing.unit,height:"70%",minHeight:"350px",marginRight:"auto",overflowX:"hidden",display:"flex",flexDirection:"column"},detailsWrapper:{display:"flex",flex:"1 1 100%"},rootSm:(t={},Pi(t,e.breakpoints.down("sm"),{width:"100%"}),Pi(t,e.breakpoints.down("xs"),{minHeight:"250px"}),t),table:{minWidth:1020},tableCell:{width:"150px"},tableWrapper:{overflowX:"auto"},toolbar:e.mixins.toolbar}})(Ni),Ai=Object(h.b)(function(e){return{reduxState:e}},function(e,t){return{slideDirection:function(t){e(b(t))},toggleEditButton:function(t){e(En(t))},storeTargetData:function(t){e(function(e){return{type:"TARGET_DETAILS_DATA",data:e}}(t))},storeProjectData:function(t){e(function(e){return{type:"PROJECT_DETAILS_DATA",data:e}}(t))},handleDataChange:function(t,n){e(function(e,t){return{type:"CHANGE_TARGET_DETAILS",name:e,value:t}}(t,n))},toggleSnackbar:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Input message here";e(wn(t,n,r))},updateTarget:function(t){e(Sn(t))},ResetOpenEvent:function(){e({type:"RESET_EVENT_REQUEST",id:null})}}})(Ii);function Mi(e){return(Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fi(){return(Fi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Bi(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function qi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ui(e,t){return!t||"object"!==Mi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wi(e){return(Wi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Li(e,t){return(Li=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ce.a.defaults.xsrfHeaderName="X-CSRFTOKEN",Ce.a.defaults.xsrfCookieName="csrftoken";var zi=[{type:"input",label:"details.field.target_name",name:"name",required:!0},{type:"input",label:"details.field.target_description",name:"description",required:!0,props:{multiline:!0,rowsMax:"4"}},{type:"date",label:"details.field.start_date",name:"start_date",required:!0,props:{}},{type:"date",label:"details.field.expire_date",required:!0,name:"expire_date"},{type:"checkbox",label:"details.field.importance",required:!0,name:"critical_flag"}],Hi=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return Ui(r,(n=r=Ui(this,(e=Wi(t)).call.apply(e,[this].concat(o))),r.state={openForm:!1,emptyRecord:!1,tableData:[],folderTitle:""},r.fetchIndividualTargets=function(){Ce.a.get("/api/fetch_horizon_target_individual_by_folder/".concat(r.props.match.params.id,"/")).then(function(e){0===e.data.length?r.setState({tableData:e.data,emptyRecord:!0}):r.setState({tableData:e.data})}).catch(function(e){console.log(e)}).then(function(){0!==r.state.tableData.length&&r.fetchFolderInfo().then(function(e){var t=e.total_target,n=e.completed_target,a=r.state.tableData[0].folder,o=r.state.tableData.length,i=r.state.tableData.filter(function(e){return 100===e.progress}).length;t===o&&n===i||Ce.a.put("/api/updateTargetCountByFolder/".concat(a,"/"),{total_target:o,completed_target:i}).then(function(e){}).catch(function(e){console.log(e)})})})},r.fetchFolderInfo=function(){return Ce.a.get("/api/fetch_horizon_folder_by_id/".concat(r.props.match.params.id,"/")).then(function(e){return e.data[0]}).catch(function(e){console.log(e)})},r.addPerformance=function(){r.setState(function(e){return{openForm:!e.openForm}})},r.updateFolderTitle=function(e){r.setState({folderTitle:e})},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Li(e,t)}(t,r["Component"]),function(e,t,n){t&&qi(e.prototype,t),n&&qi(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;this.fetchIndividualTargets(),this.fetchFolderInfo().then(function(t){e.setState({folderTitle:t.name})})}},{key:"componentDidUpdate",value:function(e,t,n){this.props.reduxState.targetUpdate!==e.reduxState.targetUpdate&&this.fetchIndividualTargets()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,o=Bi(t,["classes"]),i=this.props.reduxState.slideState,c=this.props.location.pathname.split("/").filter(function(e){return""!==e}).length,l=3===c?N()(n.content,n.contentAlt):n.content;return a.a.createElement(qe.a,{direction:i,in:!0,mountOnEnter:!0,unmountOnExit:!0},a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:n.toolbar}),a.a.createElement("div",{className:l},a.a.createElement("div",{className:n.toolbar}),a.a.createElement(qn,{buttonType:"add",depth:c,history:this.props.history,slideFunc:this.props.slideDirection,buttonMethod:this.addPerformance,component:"performance"}),a.a.createElement(r.Fragment,null,a.a.createElement(Gi,Fi({emptyRecord:this.state.emptyRecord,folderTitle:this.state.folderTitle,updateFolderTitle:this.updateFolderTitle,data:this.state.tableData},o)),a.a.createElement(_.a,{id:"target.add.title"},function(t){return a.a.createElement(Ft,{title:t,toggleSnackbar:e.props.toggleSnackbar,open:e.state.openForm,toggle:e.addPerformance,inputFields:zi,endpoint:"/api/create_horizon_target_individual/".concat(e.props.match.params.id,"/"),folder_id:e.props.match.params.id,fetchTarget:e.fetchIndividualTargets})})))))}}]),t}();Hi.propTypes={classes:l.a.object.isRequired};var Gi=at(Dr),Ki=Object(u.withStyles)(function(e){var t;return{content:(t={display:"flex",flexDirection:"column",flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing.unit,paddingTop:0},Vi(t,e.breakpoints.up("md"),{paddingBottom:0}),Vi(t,e.breakpoints.down("sm"),{flexWrap:"nowrap"}),Vi(t,"minWidth",0),t),contentAlt:Vi({paddingRight:0},e.breakpoints.down("sm"),{paddingRight:3*e.spacing.unit}),table:{minWidth:1020},tableCell:{width:"160px"},tableWrapper:{overflowX:"auto"},toolbar:e.mixins.toolbar}})(Hi),Xi=Object(h.b)(function(e){return{reduxState:e}},function(e){return{slideDirection:function(t){e(b(t))},toggleEditButton:function(t){e(En(t))},toggleSnackbar:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Input message here";e(wn(t,n,r))},updateTarget:function(t){e(Sn(t))}}})(Ki),Yi=n(344),Ji=n.n(Yi),Qi=n(345),$i=n.n(Qi);function Zi(e){return(Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ec(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tc(e,t){return!t||"object"!==Zi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nc(e){return(nc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rc(e,t){return(rc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ac=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return tc(r,(n=r=tc(this,(e=nc(t)).call.apply(e,[this].concat(o))),r.handleOpenSubtargetRequest=function(e,t){r.props.openEventRequest(e),r.props.history.push("/performance/project/".concat(t))},r.handleOpenTargetRequest=function(e){r.props.history.push("/performance/project/".concat(e))},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rc(e,t)}(t,r["Component"]),function(e,t,n){t&&ec(e.prototype,t),n&&ec(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,o=t.data,i=t.msgArr;return a.a.createElement("div",{className:n.content},o.map(function(t,o){var c=t.sub_target,l=t.event,u=t.name,s=t.folder,p=t.id;return a.a.createElement(r.Fragment,{key:o},a.a.createElement(Jr,{folder:s.name,target:u}),a.a.createElement(cn.a,null),c.map(function(t){var r=t.name,o=t.create_date,c=t.created_by_id,l=t.viewed;return a.a.createElement(U.a,{className:n.listStyle,key:o},a.a.createElement(_e.a,{classes:{badge:n.badge},color:"secondary",badgeContent:l?0:"new"},a.a.createElement(Ji.a,{fontSize:"small"})),a.a.createElement("p",{className:n.pStyle},c.split(".").join(" "),i[0],a.a.createElement("b",null,i[1]),': "',a.a.createElement("span",{className:n.linkStyle,onClick:function(){return e.handleOpenTargetRequest(p)}},r),'" ',a.a.createElement("span",{className:n.dateStyle},Zr(o))))}),l.map(function(t){var r=t.name,o=t.create_date,c=t.created_by_id,l=t.target,u=t.sub_target,s=t.viewed;return a.a.createElement(U.a,{className:n.listStyle,key:o},a.a.createElement(_e.a,{color:"secondary",badgeContent:s?0:"new"},a.a.createElement($i.a,{fontSize:"small",style:{marginRight:"8px"}})),a.a.createElement("p",{className:n.pStyle},c.split(".").join(" ")," ",i[2]," ",a.a.createElement("b",null,i[3]),': "',a.a.createElement("span",{className:n.linkStyle,onClick:function(){return e.handleOpenSubtargetRequest(u,l)}},r),'" ',a.a.createElement("span",{className:n.dateStyle},Zr(o))))}))}))}}]),t}();ac.propTypes={classes:l.a.object.isRequired};var oc=Object(u.withStyles)(function(e){return{content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:"12px ".concat(3*e.spacing.unit,"px"),minWidth:0},toolbar:e.mixins.toolbar,pStyle:{margin:0,marginLeft:"16px",color:"#404040"},dateStyle:{color:"#202020",fontStyle:"italic"},linkStyle:{color:"#0000EE",textDecoration:"underline",cursor:"pointer"},listStyle:{alignItems:"flex-start"},badge:{fontSize:"11px",height:"15px"}}})(ac);function ic(e){return(ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lc(e,t){return!t||"object"!==ic(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uc(e){return(uc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sc(e,t){return(sc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ce.a.defaults.xsrfHeaderName="X-CSRFTOKEN",Ce.a.defaults.xsrfCookieName="csrftoken";var pc=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return lc(r,(n=r=lc(this,(e=uc(t)).call.apply(e,[this].concat(o))),r.state={emptyRecord:!1,data:[]},r.fetchRecentSubtargetAndEvent=function(){Ce.a.get("/api/fetch_recent_sub_target_and_event/").then(function(e){var t=e.data;if(0===e.data.length)r.setState({emptyRecord:!0});else{var n=t.map(function(e){return e.sub_target.map(function(e){var t=e.viewed,n=e.id;return!1===t?n:null}).filter(function(e){return null!==e})}),a=t.map(function(e){return e.event.map(function(e){var t=e.viewed,n=e.id;if(!1===t)return n})}),o=[].concat.apply([],n),i=[].concat.apply([],a);r.setState({data:t},function(){r.props.updateActivityBadgeCount(0),r.updateViewedStatus(o,i)})}}).catch(function(e){console.log(e)}).then(function(){})},r.updateViewedStatus=function(e,t){e.forEach(function(e){Ce.a.put("/api/update_viewed_sub_target/".concat(e,"/"),{viewed:!0})}),t.forEach(function(e){Ce.a.put("/api/update_viewed_event/".concat(e,"/"),{viewed:!0})})},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sc(e,t)}(t,r["Component"]),function(e,t,n){t&&cc(e.prototype,t),n&&cc(e,n)}(t,[{key:"componentDidMount",value:function(){this.fetchRecentSubtargetAndEvent()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.history,o=this.props.reduxState.slideState;return a.a.createElement(qe.a,{direction:o,in:!0,mountOnEnter:!0,unmountOnExit:!0},a.a.createElement("div",{className:n.content},a.a.createElement("div",{className:n.toolbar}),a.a.createElement(_.a,{id:"recent.title.events"},function(e){return a.a.createElement("h2",{style:{margin:0}},e)}),a.a.createElement(_.a,{id:"recent.text.recentUpdates"},function(t){var n=t.split(",");return a.a.createElement(fc,{msgArr:n,history:r,data:e.state.data,emptyRecord:e.state.emptyRecord,openEventRequest:e.props.openEventRequest})})))}}]),t}();pc.propTypes={classes:l.a.object.isRequired};var fc=at(oc),dc=Object(u.withStyles)(function(e){return{content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing.unit,overflow:"auto",minWidth:0},toolbar:e.mixins.toolbar}})(pc),mc=Object(h.b)(function(e){return{reduxState:e}},function(e){return{openEventRequest:function(t){e(function(e){return{type:"OPEN_EVENT_REQUEST",id:e}}(t))},updateActivityBadgeCount:function(t){e(g(t))}}})(dc);function yc(e){return(yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bc(e,t){return!t||"object"!==yc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gc(e){return(gc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vc(e,t){return(vc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ec=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return bc(r,(n=r=bc(this,(e=gc(t)).call.apply(e,[this].concat(o))),r.handleOpenTargetRequest=function(e){r.props.history.push("/performance/project/".concat(e))},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vc(e,t)}(t,r["Component"]),function(e,t,n){t&&hc(e.prototype,t),n&&hc(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,o=t.data,i=t.msgArr;return console.log(o),a.a.createElement("div",{className:n.content},o.map(function(t,o){var c=t.action,l=t.name,u=t.folder,s=t.id;return c.length>0?a.a.createElement(r.Fragment,{key:o},a.a.createElement(Jr,{folder:u.name,target:l}),a.a.createElement(cn.a,null),c.map(function(t){var r=t.message,o=t.create_date,c=t.created_by_id,l=t.viewed;return a.a.createElement(U.a,{key:o},a.a.createElement(_e.a,{color:"secondary",badgeContent:l?0:"new"},a.a.createElement($r.a,{fontSize:"small",style:{marginRight:"8px"}})),a.a.createElement("p",{className:n.pStyle},c," ",i[0]," ",a.a.createElement("b",null,i[1]),': "',a.a.createElement("span",{className:n.linkStyle,onClick:function(){return e.handleOpenTargetRequest(s)}},r),'" ',a.a.createElement("span",{className:n.dateStyle},Zr(o))))})):null}))}}]),t}();Ec.propTypes={classes:l.a.object.isRequired};var Sc=Object(u.withStyles)(function(e){return{content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:"12px ".concat(3*e.spacing.unit,"px"),minWidth:0},toolbar:e.mixins.toolbar,pStyle:{margin:0,marginLeft:"16px",color:"#404040"},dateStyle:{color:"#202020",fontStyle:"italic"},linkStyle:{color:"#0000EE",textDecoration:"underline",cursor:"pointer"}}})(Ec);function wc(e){return(wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _c(e,t){return!t||"object"!==wc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xc(e){return(xc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cc(e,t){return(Cc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ce.a.defaults.xsrfHeaderName="X-CSRFTOKEN",Ce.a.defaults.xsrfCookieName="csrftoken";var kc=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return _c(r,(n=r=_c(this,(e=xc(t)).call.apply(e,[this].concat(o))),r.state={emptyRecord:!1,data:[]},r.fetchRecentActions=function(){Ce.a.get("/api/fetch_recent_actions/").then(function(e){var t=e.data;if(0===e.data.length)r.setState({emptyRecord:!0});else{var n=t.map(function(e){return e.action.map(function(e){var t=e.viewed,n=e.id;return!1===t?n:null}).filter(function(e){return null!==e})}),a=[].concat.apply([],n);r.setState({data:t},function(){r.props.updateActionBadgeCount(0),r.updateViewedStatus(a)})}}).catch(function(e){console.log(e)}).then(function(){})},r.updateViewedStatus=function(e){e.forEach(function(e){Ce.a.put("/api/update_viewed_action/".concat(e,"/"),{viewed:!0})})},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cc(e,t)}(t,r["Component"]),function(e,t,n){t&&Oc(e.prototype,t),n&&Oc(e,n)}(t,[{key:"componentDidMount",value:function(){this.fetchRecentActions()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.history,o=this.props.reduxState.slideState;return a.a.createElement(qe.a,{direction:o,in:!0,mountOnEnter:!0,unmountOnExit:!0},a.a.createElement("div",{className:n.content},a.a.createElement("div",{className:n.toolbar}),a.a.createElement(_.a,{id:"recent.title.actions"},function(e){return a.a.createElement("h2",{style:{margin:0}},e)}),a.a.createElement(_.a,{id:"recent.text.recentActions"},function(t){var n=t.split(",");return a.a.createElement(jc,{msgArr:n,history:r,data:e.state.data,emptyRecord:e.state.emptyRecord,openEventRequest:e.props.openEventRequest})})))}}]),t}();kc.propTypes={classes:l.a.object.isRequired};var jc=at(Sc),Tc=Object(u.withStyles)(function(e){return{content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing.unit,overflow:"auto",minWidth:0},toolbar:e.mixins.toolbar}})(kc),Pc=Object(h.b)(function(e){return{reduxState:e}},function(e){return{updateActionBadgeCount:function(t){e(E(t))}}})(Tc);n(799);function Rc(e){return(Rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dc(e,t){return!t||"object"!==Rc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ic(e){return(Ic=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ac(e,t){return(Ac=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Dc(this,Ic(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ac(e,t)}(t,r["Component"]),function(e,t,n){t&&Nc(e.prototype,t),n&&Nc(e,n)}(t,[{key:"componentDidMount",value:function(){this.initViz()}},{key:"initViz",value:function(){var e=this.vizContainer;new window.tableau.Viz(e,"https://public.tableau.com/views/Book1_15522724411580/Benson_chen2")}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.props.reduxState.slideState;return a.a.createElement(qe.a,{direction:n,in:!0,mountOnEnter:!0,unmountOnExit:!0},a.a.createElement("div",{className:t.content},a.a.createElement("div",{className:t.toolbar}),"Tableau",a.a.createElement("div",{ref:function(t){e.vizContainer=t}})))}}]),t}();Mc.propTypes={classes:l.a.object.isRequired};var Fc=Object(u.withStyles)(function(e){return{content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing.unit,minWidth:0},toolbar:e.mixins.toolbar}})(Mc),Bc=Object(h.b)(function(e){return{reduxState:e}},function(e){return{slideDirection:function(t){e(b(t))},toggleSnackbar:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Input message here";e(wn(t,n,r))}}})(Fc);function qc(e){return(qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wc(e,t){return!t||"object"!==qc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lc(e){return(Lc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vc(e,t){return(Vc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hc=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return Wc(r,(n=r=Wc(this,(e=Lc(t)).call.apply(e,[this].concat(o))),r.handleOpenTargetRequest=function(e){r.props.history.push("/performance/project/".concat(e))},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vc(e,t)}(t,r["Component"]),function(e,t,n){t&&Uc(e.prototype,t),n&&Uc(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,o=t.data,i=t.msgArr,c=i[0],l=i[1];return console.log(o),0===o.length?a.a.createElement("div",{className:n.greeting},"There are no targets due this month"):a.a.createElement(he.a,{className:n.root,elevation:2},a.a.createElement("div",{className:n.content},o.map(function(t,o){var i=t.target,u=t.name,s=t.complete_count;return i.length>0?a.a.createElement(r.Fragment,{key:o},a.a.createElement("div",{className:n.titleWrapper},a.a.createElement(Jr,{folder:u}),a.a.createElement(Kt.a,{label:a.a.createElement("b",null," ",s," / ",i.length," "),className:n.chip,color:"default",deleteIcon:a.a.createElement(ft.a,null)})),a.a.createElement(cn.a,{classes:{root:n.marginBot}}),i.map(function(t){var r,o=t.name,i=t.create_date,u=t.expire_date,s=t.progress,p=t.id;switch(s){case 0:r=a.a.createElement("div",{className:n.semiBold},c);break;case 100:r=a.a.createElement(ft.a,{classes:{root:n.completion},fontSize:"small"});break;default:r=a.a.createElement("div",{className:n.semiBold},s,"%")}return a.a.createElement(U.a,{key:i},a.a.createElement("div",{className:n.pStyle},a.a.createElement(Ke.a,{variant:"outlined",color:"primary",size:"small",onClick:function(){return e.handleOpenTargetRequest(p)}},o),a.a.createElement("div",{className:n.spacer}),a.a.createElement("div",{className:n.contentWrapper},a.a.createElement(Kt.a,{label:r,className:n.chip,color:"default",deleteIcon:a.a.createElement(ft.a,null)}),a.a.createElement("div",{className:n.dueDateWrapper},a.a.createElement("b",null,l,":")," ",a.a.createElement("span",{className:n.dateStyle},Zr(u))))))})):null})))}}]),t}();Hc.propTypes={classes:l.a.object.isRequired};var Gc=Object(u.withStyles)(function(e){return{root:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){zc(e,t,n[t])})}return e}({},e.mixins.gutters(),{margin:"0 8px",paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit}),content:{flexGrow:1,minWidth:0},toolbar:e.mixins.toolbar,pStyle:{margin:0,color:"#404040",display:"flex",justifyContent:"center",alignItems:"center",flex:1},dateStyle:{color:"#202020",fontStyle:"italic"},linkStyle:{color:"#0000EE",textDecoration:"underline",cursor:"pointer"},spacer:{flex:1},contentWrapper:{display:"flex",justifyContent:"flex-end",alignItems:"center"},dueDateWrapper:{minWidth:"125px"},chip:{color:"rgba(0, 0, 0, 0.54)",margin:"0 8px"},completion:{color:"rgb(76, 175, 80)"},semiBold:{fontWeight:500},marginBot:{marginBottom:"8px"},titleWrapper:{display:"flex",alignItems:"center"},greeting:{color:"grey",display:"flex",flexDirection:"column",alignSelf:"center",justifyContent:"center",flex:1,fontSize:"20px",fontWeight:"bold"}}})(Hc),Kc=n(83),Xc=n.n(Kc);function Yc(e){return(Yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qc(e,t){return!t||"object"!==Yc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $c(e){return($c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zc(e,t){return(Zc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ce.a.defaults.xsrfHeaderName="X-CSRFTOKEN",Ce.a.defaults.xsrfCookieName="csrftoken";var el=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qc(this,$c(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zc(e,t)}(t,a.a.Component),function(e,t,n){t&&Jc(e.prototype,t),n&&Jc(e,n)}(t,[{key:"render",value:function(){var e=this.props.classes;return a.a.createElement("form",{className:e.root,autoComplete:"off"},a.a.createElement(Xc.a,{MenuProps:{PopoverClasses:{paper:e.selectStyle}},value:this.props.year,onChange:this.props.handleYearChange,name:"year"},this.props.yearArr.map(function(e,t){return a.a.createElement(Ee.a,{key:e,value:e},e)})))}}]),t}();el.propTypes={classes:l.a.object.isRequired};var tl=Object(u.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap",minWidth:75},formControl:{margin:e.spacing.unit,minWidth:120},selectStyle:{maxHeight:230+2*e.spacing.unit,overflowY:"auto"}}})(el),nl=n(110),rl=n.n(nl);function al(e){return(al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ol(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function il(e,t){return!t||"object"!==al(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cl(e){return(cl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ll(e,t){return(ll=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ce.a.defaults.xsrfHeaderName="X-CSRFTOKEN",Ce.a.defaults.xsrfCookieName="csrftoken";var ul=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),il(this,cl(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ll(e,t)}(t,a.a.Component),function(e,t,n){t&&ol(e.prototype,t),n&&ol(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return a.a.createElement("form",{className:t.root,autoComplete:"off"},a.a.createElement(rl.a,{className:t.formControl},a.a.createElement(_.a,{id:"date.months"},function(n){var r=(new Date).getMonth()+1,o=n.split(",");o.slice(0,r);return a.a.createElement(Xc.a,{MenuProps:{PopoverClasses:{paper:t.selectStyle}},value:e.props.month,onChange:e.props.handleMonthChange,name:"month"},o.map(function(e,t){return a.a.createElement(Ee.a,{key:t,value:t},e)}))})))}}]),t}();ul.propTypes={classes:l.a.object.isRequired};var sl=Object(u.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing.unit,minWidth:120},selectStyle:{maxHeight:230+2*e.spacing.unit,overflowY:"auto"}}})(ul);function pl(e){return(pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dl(e,t){return!t||"object"!==pl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ml(e){return(ml=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yl(e,t){return(yl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ce.a.defaults.xsrfHeaderName="X-CSRFTOKEN",Ce.a.defaults.xsrfCookieName="csrftoken";var hl=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return dl(r,(n=r=dl(this,(e=ml(t)).call.apply(e,[this].concat(o))),r.state={emptyRecord:!1,data:[],yearArr:[],filterType:"MonthYear",year:(new Date).getFullYear(),month:(new Date).getMonth()},r.fetchTargetByMonthYear=function(){Ce.a.get("/api/fetch_target_by_month/".concat(r.state.year,"/").concat(r.state.month,"/")).then(function(e){console.log(e.data),0===e.data.length?r.setState({emptyRecord:!0,data:e.data}):r.setState({data:e.data})}).catch(function(e){console.log(e)}).then(function(){})},r.fetchTargetByOverdue=function(){Ce.a.get("/api/fetch_target_by_overdue/").then(function(e){console.log(e.data),0===e.data.length?r.setState({emptyRecord:!0,data:e.data}):r.setState({data:e.data})}).catch(function(e){console.log(e)}).then(function(){})},r.fetchTargetByBehindSchedule=function(){Ce.a.get("/api/fetch_target_by_behind_schedule/").then(function(e){console.log(e.data),0===e.data.length?r.setState({emptyRecord:!0,data:e.data}):r.setState({data:e.data})}).catch(function(e){console.log(e)}).then(function(){})},r.fetchYearRange=function(){Ce.a.get("/api/fetch_available_year/").then(function(e){console.log(e);for(var t=e.data.year_range,n=t[0],a=t[1]-n,o=[],i=0;i<=a;i++)o.push(n+i);r.setState({yearArr:o})}).catch(function(e){console.log(e)}).then(function(){})},r.handleFilterTypeChange=function(e){r.setState({filterType:e.target.value},function(){switch(r.state.filterType){case"MonthYear":r.fetchTargetByMonthYear();break;case"overdue":r.fetchTargetByOverdue();break;case"behindProgress":r.fetchTargetByBehindSchedule()}})},r.handleYearChange=function(e){r.setState({year:e.target.value},function(){r.fetchTargetByMonthYear()})},r.handleMonthChange=function(e){r.setState({month:e.target.value},function(){r.fetchTargetByMonthYear()})},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yl(e,t)}(t,r["Component"]),function(e,t,n){t&&fl(e.prototype,t),n&&fl(e,n)}(t,[{key:"componentDidMount",value:function(){this.fetchTargetByMonthYear(),this.fetchYearRange()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,o=t.history,i=this.props.reduxState.slideState;return a.a.createElement(qe.a,{direction:i,in:!0,mountOnEnter:!0,unmountOnExit:!0},a.a.createElement("div",{className:n.content},a.a.createElement("div",{className:n.toolbar}),a.a.createElement("div",{className:n.headerWrapper},a.a.createElement(_.a,{id:"recent.title.target_progress"},function(e){return a.a.createElement("h2",{style:{margin:0}},e)}),a.a.createElement("div",{className:n.spacer}),"MonthYear"===this.state.filterType?a.a.createElement(r.Fragment,null,a.a.createElement(tl,{year:this.state.year,handleYearChange:this.handleYearChange,yearArr:this.state.yearArr}),a.a.createElement(sl,{month:this.state.month,handleMonthChange:this.handleMonthChange})):null,a.a.createElement("form",{className:n.optionFilter},a.a.createElement(rl.a,null,a.a.createElement(Xc.a,{value:this.state.filterType,onChange:this.handleFilterTypeChange,inputProps:{name:"age",id:"age-simple"}},a.a.createElement(Ee.a,{value:"MonthYear"},"Targets due by month"),a.a.createElement(Ee.a,{value:"overdue"},"Overdue"))))),a.a.createElement(_.a,{id:"recent.text.target_progress"},function(t){var n=t.split(",");return a.a.createElement(bl,{msgArr:n,history:o,data:e.state.data,emptyRecord:e.state.emptyRecord,openEventRequest:e.props.openEventRequest})})))}}]),t}();hl.propTypes={classes:l.a.object.isRequired};var bl=at(Gc),gl=Object(u.withStyles)(function(e){return{content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing.unit,overflow:"auto",minWidth:0,display:"flex",flexDirection:"column"},toolbar:e.mixins.toolbar,headerWrapper:{display:"flex",alignItems:"center",marginBottom:2*e.spacing.unit,minHeight:"48px"},spacer:{flex:1},optionFilter:{minWidth:80,margin:"0 16px"}}})(hl),vl=Object(h.b)(function(e){return{reduxState:e}},function(e){return{}})(gl);function El(e){return(El="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wl(e,t){return!t||"object"!==El(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ol(e){return(Ol=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _l(e,t){return(_l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),wl(this,Ol(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_l(e,t)}(t,r["Component"]),function(e,t,n){t&&Sl(e.prototype,t),n&&Sl(e,n)}(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.reduxState.slideState;return a.a.createElement(qe.a,{direction:t,in:!0,mountOnEnter:!0,unmountOnExit:!0},a.a.createElement("div",{className:e.content},a.a.createElement("div",{className:e.toolbar}),"Settings"))}}]),t}();xl.propTypes={classes:l.a.object.isRequired};var Cl=Object(u.withStyles)(function(e){return{content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing.unit,minWidth:0},toolbar:e.mixins.toolbar}})(xl),kl=Object(h.b)(function(e){return{reduxState:e}},function(e){return{}})(Cl),jl=n(346),Tl=n.n(jl),Pl=n(348),Rl=n.n(Pl),Nl=n(349),Dl=n.n(Nl),Il=n(350),Al=n.n(Il),Ml=n(351),Fl=n.n(Ml),Bl=n(352),ql=n.n(Bl),Ul=n(208),Wl=n.n(Ul),Ll=n(347),Vl=n.n(Ll);function zl(e){return(zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gl(e,t){return!t||"object"!==zl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Kl(e){return(Kl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xl(e,t){return(Xl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yl(){return(Yl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Jl(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Ql={success:Tl.a,warning:Vl.a,error:Rl.a,info:Dl.a};function $l(e){var t=e.classes,n=e.className,r=e.message,o=e.onClose,i=e.variant,c=Jl(e,["classes","className","message","onClose","variant"]),l=Ql[i];return a.a.createElement(Wl.a,Yl({className:N()(t[i],n),"aria-describedby":"client-snackbar",message:a.a.createElement("span",{id:"client-snackbar",className:t.message},a.a.createElement(l,{className:N()(t.icon,t.iconVariant)}),r),action:[a.a.createElement(I.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:o},a.a.createElement(fr.a,{className:t.icon}))]},c))}$l.propTypes={classes:l.a.object.isRequired,className:l.a.string,message:l.a.node,onClose:l.a.func,variant:l.a.oneOf(["success","warning","error","info"]).isRequired};var Zl=Object(u.withStyles)(function(e){return{success:{backgroundColor:Al.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:Fl.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"}}})($l),eu=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return Gl(r,(n=r=Gl(this,(e=Kl(t)).call.apply(e,[this].concat(o))),r.state={open:r.props.snackbarProp.snackbarOpen},r.handleClick=function(){r.setState({open:!0})},r.handleClose=function(e,t){"clickaway"!==t&&r.props.toggleSnackbar(!1,r.props.snackbarProp.variant,r.props.snackbarProp.message)},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xl(e,t)}(t,a.a.Component),function(e,t,n){t&&Hl(e.prototype,t),n&&Hl(e,n)}(t,[{key:"render",value:function(){this.props.classes;return a.a.createElement(ql.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:this.state.open,autoHideDuration:1500,onClose:this.handleClose},a.a.createElement(Zl,{onClose:this.handleClose,variant:this.props.snackbarProp.variant,message:this.props.snackbarProp.message}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.snackbarProp.snackbarOpen!==t.open?{open:e.snackbarProp.snackbarOpen}:null}}]),t}();eu.propTypes={classes:l.a.object.isRequired,snackbarProp:l.a.object.isRequired},eu.defaultProps={classes:{},snackbarProp:{snackbarOpen:!1,variant:"info",message:"Input message here"}};var tu=Object(u.withStyles)(function(e){return{margin:{margin:e.spacing.unit}}})(eu);function nu(e){return(nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ru(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function au(e,t){return!t||"object"!==nu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ou(e){return(ou=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function iu(e,t){return(iu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var cu=Object(d.a)(),lu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),au(this,ou(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iu(e,t)}(t,r["Component"]),function(e,t,n){t&&ru(e.prototype,t),n&&ru(e,n)}(t,[{key:"componentDidMount",value:function(){var e=document.getElementById("ipl-progress-indicator");e&&(e.classList.add("available"),setTimeout(function(){e.outerHTML=""},2e3))}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.toggleSnackbar,r=e.snackbarProp;return a.a.createElement(s.a,{history:cu},a.a.createElement(u.MuiThemeProvider,{theme:y},a.a.createElement("div",{className:t.root},a.a.createElement(Fe,{history:cu}),a.a.createElement(p.a,{exact:!0,path:"/",render:function(){return a.a.createElement(f.a,{push:!0,from:"/",to:"/performance"})}}),a.a.createElement(p.a,{exact:!0,path:"/performance",component:On}),a.a.createElement(p.a,{exact:!0,path:"/performance/:id",component:Xi}),a.a.createElement(p.a,{exact:!0,path:"/performance/project/:id",component:Ai}),a.a.createElement(p.a,{path:"/activities",component:mc}),a.a.createElement(p.a,{path:"/comments",component:ho}),a.a.createElement(p.a,{path:"/actions",component:Pc}),a.a.createElement(p.a,{path:"/analysis",component:Bc}),a.a.createElement(p.a,{path:"/monthly-goal",component:vl}),a.a.createElement(p.a,{path:"/settings",component:kl}),a.a.createElement(tu,{toggleSnackbar:n,snackbarProp:r}))))}}]),t}();lu.propTypes={classes:l.a.object.isRequired};var uu=Object(u.withStyles)(function(e){return{root:{flexGrow:1,height:"100%",zIndex:1,overflow:"hidden",position:"relative",display:"flex"},content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing.unit,minWidth:0},toolbar:e.mixins.toolbar}})(lu),su=n(356),pu=n.n(su),fu=n(354),du=n.n(fu),mu=n(355),yu=n.n(mu);function hu(e){return(hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gu(e,t){return!t||"object"!==hu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vu(e){return(vu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Eu(e,t){return(Eu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Su(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Object(_.c)(Su(du.a).concat(Su(yu.a)));var wu={locale:"en-US",messages:{en:{"date.months":"January, February, March, April, May, June, July, August, September, October, November, December","header.drawers":"Performance, Activity, Comments, Actions, Analysis, Target Progress, Settings","navigation.performance.title":"Target, Details","navigation.comments.title":"Recent Comments","tab.comments.title":"Comments, Actions","tab.details.title":"Summary, Task","details.field.target_name":"Target Name","details.field.target_description":"Target Description","details.field.start_date":"Start Date","details.field.expire_date":"Expire Date","details.field.created_by":"Created By","details.field.importance":"20%","target.table.label":" ,Name, Description, 20%, Completion, Expire Date, Created By","target.add.title":"Add New Target","target.creation.message":"Looks like there's no targets. Create a new one now","sub_target.button.add":"Add a task...","folder.field.folder_name":"Folder name","folder.creation.message":"Create new project...","folder.creation.create":"Enter project name","folder.title.self":"My Projects","folder.title.others":"'s Projects","generic.button.submit":"Submit","generic.button.add":"Add","generic.button.cancel":"Cancel","filterBar.option.department":"Department","filterBar.option.user":"Members","event.title.description":"Write some notes for this task","event.button.add":"Add a note...","event.button.close":"Close","recent.title.events":"Recent Updates","recent.title.comments":"Recent Comments","recent.title.actions":"Recent Actions","recent.title.target_progress":"Target Progress","recent.text.recentUpdates":" added, Task, added, Activity","recent.text.recentComments":" added, Comment","recent.text.recentActions":" added, Action","recent.text.target_progress":" Haven't Started, Due","comment.text.placeholder":"Enter your comment...","comment.text.welcomeText":"Looks like there's no comments yet. Be the first one to comment!"},zh:{"date.months":"一月, 二月, 三月, 四月, 五月, 六月, 七月, 八月, 九月, 十月, 十一月, 十二月","header.drawers":"行动目标, 行动概览, 留言概览, 执行备忘, 分析, 目标进度, 设置","navigation.performance.title":"目标细分, 目标详情","navigation.comments.title":"我的留言","tab.comments.title":"留言, 备忘","tab.details.title":"概览, 行动要点","details.field.target_name":"目标名称","details.field.target_description":"目标概括","details.field.start_date":"开始日期","details.field.expire_date":"结束日期","details.field.created_by":"创建者","details.field.importance":"20%","target.table.label":" ,目标名称, 目标概括, 20%, 完成进度, 结束日期, 创建者","target.add.title":"创建新的目标","target.creation.message":"看起来还没有目标创立。 添加一个新的吧","sub_target.button.add":"新增行动要点...","folder.field.folder_name":"文件夹","folder.creation.message":"新增行动目标...","folder.creation.create":"请输入行动目标的名称","folder.title.self":"我的行动目标","folder.title.others":"的行动目标","generic.button.submit":"提交","generic.button.add":"添加","generic.button.cancel":"取消","filterBar.option.department":"部门","filterBar.option.user":"成员","event.title.description":"概述你的行动过程","event.button.add":"新增备注...","event.button.close":"关闭","recent.title.events":"行动概览","recent.title.comments":"留言概览","recent.title.actions":"执行备忘","recent.title.target_progress":"目标进度","recent.text.recentUpdates":" 添加一条, 行动要点, 添加一条,备注","recent.text.recentComments":" 添加一条 ,留言","recent.text.recentActions":" 添加一条, 执行备忘","recent.text.target_progress":" 未开始, 截止","comment.text.placeholder":"输入你的留言...","comment.text.welcomeText":"还没有人留言。发表些观点吧！"}}},Ou=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gu(this,vu(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eu(e,t)}(t,r["Component"]),function(e,t,n){t&&bu(e.prototype,t),n&&bu(e,n)}(t,[{key:"render",value:function(){var e=this.props.reduxState,t=e.language,n=e.snackbarProp,o=this.props.toggleSnackbar;return a.a.createElement(_.b,{locale:navigator.language,messages:wu.messages[t]},a.a.createElement(r.Fragment,null,a.a.createElement(pu.a,null),a.a.createElement(uu,{toggleSnackbar:o,snackbarProp:n})))}}]),t}(),_u=Object(h.b)(function(e){return{reduxState:e}},function(e,t){return{toggleSnackbar:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Input message here";e(wn(t,n,r))}}})(Ou),xu=n(357),Cu=n.n(xu),ku=n(358);function ju(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tu=Object(Ht.b)({language:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LANGUAGE_OPTION":return t.value;default:return e}},slideState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"down",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SLIDE_DIRECTION":return t.value;default:return e}},userID:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_ID":return t.id;default:return e}},editContent:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_EDIT_BUTTON":return t.value;default:return e}},target_details_data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TARGET_DETAILS_DATA":return t.data;case"CHANGE_TARGET_DETAILS":return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ju(e,t,n[t])})}return e}({},e,ju({},t.name,t.value));default:return e}},project_details_data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROJECT_DETAILS_DATA":return t.data;default:return e}},snackbarProp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{snackbarOpen:!1,variant:"info",message:"Input message here"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_SNACKBAR":return e={snackbarOpen:t.snackbarOpen,variant:t.variant,message:t.message};default:return e}},targetUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_TARGET":return e=t.value;default:return e}},OpenEventID:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_EVENT_REQUEST":return t.id;case"RESET_EVENT_REQUEST":return null;default:return e}},myActionAccess:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE_ACTION_ACCESS":return e=t.data;default:return e}},activityBadgeCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTIVITY_BADGE_COUNT":return t.count;default:return e}},commentBadgeCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMENT_BADGE_COUNT":return t.count;default:return e}},actionBadgeCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTION_BADGE_COUNT":return t.count;default:return e}}}),Pu=n(359),Ru={key:"root",storage:Cu.a,whitelist:["language"]},Nu=Object(S.a)(Ru,Tu),Du=Object(Ht.d)(Nu),Iu=Object(S.b)(Du);i.a.render(a.a.createElement(h.a,{store:Du},a.a.createElement(ku.a,{loading:null,persistor:Iu},a.a.createElement(_u,null))),document.getElementById("root")),Object(Pu.a)()}},[[806,60,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59]]]);