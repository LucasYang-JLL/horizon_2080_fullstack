(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{308:function(e,t){},358:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return a});var r=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function a(){if("serviceWorker"in navigator){if(new URL(e.env.PUBLIC_URL,window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="service-worker.js";r?(!function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):o(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):o(e)})}}function o(e){navigator.serviceWorker.register(e,{scope:"/"}).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}}).call(this,n(270))},570:function(e,t,n){var r=n(571);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(573)(r,a);r.locals&&(e.exports=r.locals)},571:function(e,t,n){(e.exports=n(572)(!1)).push([e.i,'html,\nbody,\n#root {\n    margin: 0;\n    padding: 0;\n    height: 100%;\n}\n\nbody {\n    font-family: "Source Sans Pro", "Century Gothic", "Helvetica Neue", Helvetica, Arial, sans-serif;\n}\n\n:root {\n    --jll-red: #e30613;\n    --accent-red: #ff444f;\n    --black-75: #404040;\n    --black-50: #808080;\n    --black-25: #bfbfbf;\n    --steel: #626468;\n    --steel-75: #898b8e;\n    --steel-50: #b0b1b3;\n    --steel-25: #d8d8d9;\n    --concrete: #b1b2b4;\n    --concrete-75: #c5c5c7;\n    --concrete-50: #d8d9d9;\n    --concrete-25: #ebecec;\n    --stone: #d0c9b7;\n    --stone-75: #e4e0d5;\n    --stone-50: #edebe3;\n    --stone-25: #f6f5f1;\n}\n',""])},641:function(e,t){},647:function(e,t){},805:function(e,t,n){"use strict";n.r(t);n(364);var r=n(0),a=n.n(r),o=n(39),i=n.n(o),c=(n(570),n(1)),l=n.n(c),u=n(7),s=n(810),p=n(811),f=n(812),d=n(117),m={JLLRed:"#e30613",AccentRed:"#FF444F",Black75:"#404040",Black50:"#808080",Black25:"#BFBFBF",Steel:"#626468",Steel75:"#898B8E",Steel50:"#B0B1B3",Steel25:"#D8D8D9",Concrete:"#B1B2B4",Concrete75:"#C5C5C7",Concrete50:"#D8D9D9",Concrete25:"#EBECEC",Stone:"#D0C9B7",Stone75:"#E4E0D5",Stone50:"#EDEBE3",Stone25:"#F6F5F1"},y=Object(u.createMuiTheme)({palette:{primary:{main:"#212121"},secondary:{main:m.JLLRed}},overrides:{MuiListItemText:{root:{color:m.Black50,padding:"0 8px"}}},typography:{useNextVariants:!0}}),h=n(26),b=function(e){return{type:"SLIDE_DIRECTION",value:e}},g=function(e){return{type:"ACTIVITY_BADGE_COUNT",count:e}},v=function(e){return{type:"COMMENT_BADGE_COUNT",count:e}},E=function(e){return{type:"ACTION_BADGE_COUNT",count:e}},S=n(166),w=n(315),O=n.n(w),_=n(10),x=n(210),C=n.n(x),k=n(125),j=n.n(k),T=n(60),P=n.n(T),R=n(5),N=n.n(R),D=n(27),I=n.n(D),A=n(316),M=n.n(A),F=n(46),B=n.n(F),q=n(34),U=n.n(q),W=n(314),L=n.n(W),V=n(47),z=n.n(V),H=n(317),G=n.n(H),K=n(309),X=n.n(K),Y=n(310),J=n.n(Y),Q=n(311),$=n.n(Q),Z=n(160),ee=n.n(Z),te=n(312),ne=n.n(te),re=n(313),ae=n.n(re),oe=n(128),ie=n.n(oe),ce=n(211),le=n.n(ce),ue=n(126),se=n.n(ue),pe=n(157),fe=n.n(pe),de=n(40),me=n.n(de),ye=n(206),he=n.n(ye),be=n(42),ge=n.n(be),ve=n(207),Ee=n.n(ve),Se=n(73),we=n.n(Se),Oe=n(4),_e=n.n(Oe);function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t){return!t||"object"!==xe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}_e.a.defaults.xsrfHeaderName="X-CSRFTOKEN",_e.a.defaults.xsrfCookieName="csrftoken";var Ne=[{link:"/performance",icon:a.a.createElement(X.a,null)},{link:"/activities",icon:a.a.createElement(J.a,null),badge:"activityBadgeCount"},{link:"/comments",icon:a.a.createElement($.a,null),badge:"commentBadgeCount"},{link:"/actions",icon:a.a.createElement(ee.a,null),badge:"actionBadgeCount"},{link:"/monthly-goal",icon:a.a.createElement(ne.a,null)},{link:"/settings",icon:a.a.createElement(ae.a,null)}],De=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=je(this,Te(t).call(this,e))).fetchUserInfo=function(){_e.a.get("/api/user_info/").then(function(e){var t=e.data.user;n.props.saveUserID(t),n.setState({userInfo:t})}).catch(function(e){console.log(e)})},n.fetchBadgeCount=function(){_e.a.get("/api/fetch_badge_count/").then(function(e){var t=e.data;for(var r in t)if(t.hasOwnProperty(r)){var a=t[r];if(0!==a){var o="update".concat(r.replace(r[0],r[0].toUpperCase()));n.props[o](a)}}}).catch(function(e){console.log(e)}).then(function(){})},n.handleDrawerToggle=function(){n.setState(function(e){return{mobileOpen:!e.mobileOpen}})},n.handleDrawerClick=function(e,t,r,a){n.setState(function(e){var r=e[t]>a?"up":"down";return n.props.slideDirection(r),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Re(e,t,n[t])})}return e}({},n.state,Re({},t,a))},function(){n.props.history.push(Ne[a].link)})},n.handleLanguageSwitch=function(e,t){n.props.selectLanguage(t),n.handleClose(e)},n.handleMenuOpen=function(){n.setState(function(e){return{open:!e.open}})},n.handleClose=function(e){n.anchorEl.contains(e.target)||n.setState({open:!1})},n.state={value:0,mobileOpen:!1,open:!1,activeDrawer:0,userInfo:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(t,r["Component"]),function(e,t,n){t&&ke(e.prototype,t),n&&ke(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this,t=Ne.findIndex(function(t){var n=t.link;return e.props.history.location.pathname.includes(n)});this.setState({activeDrawer:-1===t?0:t}),this.fetchUserInfo()}},{key:"componentWillReceiveProps",value:function(e){var t=e.history.location,n=Ne.findIndex(function(e){var n=e.link;return t.pathname.includes(n)});n!==this.state.activeDrawer&&this.setState({activeDrawer:n}),this.fetchBadgeCount(),console.log("update header")}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state.open,o=a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:t.toolbar}),a.a.createElement(_.a,{id:"header.drawers"},function(n){return a.a.createElement(B.a,{className:t.drawerUl,onClick:e.handleDrawerToggle},n.split(",").map(function(n,r){return a.a.createElement(U.a,{className:"/monthly-goal"===Ne[r].link?t.stickBottom:null,selected:e.state.activeDrawer===r,onClick:function(t){return e.handleDrawerClick(t,"activeDrawer",n,r)},key:n,button:!0},a.a.createElement(L.a,null,Ne[r].badge?a.a.createElement(we.a,{color:"secondary",badgeContent:e.props.reduxState[Ne[r].badge]},Ne[r].icon):Ne[r].icon),a.a.createElement(z.a,{disableTypography:!0,primary:n}))}))}));return a.a.createElement("div",{className:t.flex},a.a.createElement(O.a,{position:"absolute",className:t.appBar},a.a.createElement(j.a,null,a.a.createElement(C.a,{container:!0,direction:"row",alignItems:"center"},a.a.createElement(I.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerToggle,className:t.navIconHide},a.a.createElement(M.a,null)),a.a.createElement(P.a,{variant:"h6",color:"inherit",noWrap:!0},"Horizon"),a.a.createElement(C.a,{className:t.appBarMenu},a.a.createElement("div",{style:{cursor:"pointer"}},a.a.createElement("span",null,this.state.userInfo.split(".").join(" "))),a.a.createElement(I.a,{color:"inherit",onClick:this.handleMenuOpen,"aria-owns":n?"menu-list-grow":null,"aria-haspopup":"true",buttonRef:function(t){e.anchorEl=t}},a.a.createElement(G.a,{className:t.icon})),a.a.createElement(he.a,{open:n,anchorEl:this.anchorEl,transition:!0,disablePortal:!0},function(t){var n=t.TransitionProps,r=t.placement;return a.a.createElement(fe.a,Ce({},n,{id:"menu-list-grow",style:{transformOrigin:"bottom"===r?"center top":"center bottom"}}),a.a.createElement(me.a,null,a.a.createElement(se.a,{onClickAway:e.handleClose},a.a.createElement(Ee.a,null,a.a.createElement(ge.a,{onClick:function(t){return e.handleLanguageSwitch(t,"zh")}},"中文"),a.a.createElement(ge.a,{onClick:function(t){return e.handleLanguageSwitch(t,"en")}},"English")))))}),a.a.createElement("img",{src:"/static/img/JLL_Logo.png",style:{width:"90px"}}))))),a.a.createElement(ie.a,{smUp:!0},a.a.createElement(le.a,{open:this.state.mobileOpen,onClose:this.handleDrawerToggle,variant:"temporary",classes:{paper:t.drawerPaper},ModalProps:{keepMounted:!0}},o)),a.a.createElement(ie.a,{className:t.flex,xsDown:!0},a.a.createElement(le.a,{open:!0,onClose:this.handleDrawerToggle,variant:"permanent",classes:{paper:N()(t.drawerPaper,t.drawerPaperMd)}},o)))}}]),t}();De.propTypes={classes:l.a.object.isRequired};var Ie=Object(u.withStyles)(function(e){var t;return{appBar:{zIndex:e.zIndex.drawer+1},flex:{display:"flex"},stickBottom:{marginTop:"auto"},drawerUl:{display:"flex",flexDirection:"column",height:"100%"},drawerPaper:{position:"relative",width:200,whiteSpace:"nowrap",height:"100%"},drawerPaperMd:Re({},e.breakpoints.down("sm"),(t={overflowX:"hidden",width:7*e.spacing.unit},Re(t,e.breakpoints.up("sm"),{width:7*e.spacing.unit}),Re(t,"height","100%"),t)),content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing.unit,minWidth:0},toolbar:e.mixins.toolbar,appBarMenu:{display:"flex",justifyContent:"flex-end",flexGrow:1,alignItems:"center",fontSize:"14px"},navIconHide:Re({},e.breakpoints.up("sm"),{display:"none"}),icon:{margin:e.spacing.unit,fontSize:22},margin:{margin:2*e.spacing.unit,marginRight:3*e.spacing.unit}}})(De),Ae=Object(h.b)(function(e){return{reduxState:e}},function(e){return{selectLanguage:function(t){e(function(e){return{type:"LANGUAGE_OPTION",value:e}}(t))},slideDirection:function(t){e(b(t))},saveUserID:function(t){e(function(e){return{type:"USER_ID",id:e}}(t))},updateActivityBadgeCount:function(t){e(g(t))},updateActionBadgeCount:function(t){e(E(t))},updateCommentBadgeCount:function(t){e(v(t))}}})(Ie),Me=n(30),Fe=n.n(Me),Be=n(161),qe=n.n(Be),Ue=n(319),We=n.n(Ue),Le=n(320),Ve=n.n(Le),ze=n(25),He=n.n(ze),Ge=n(212),Ke=n.n(Ge);function Xe(e){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qe(e,t){return!t||"object"!==Xe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var et=function(e){return{progress:{margin:2*e.spacing.unit},root:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}},tt=function(e){var t=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Qe(this,$e(n).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(n,r["PureComponent"]),function(e,t,n){t&&Je(e.prototype,t),n&&Je(e,n)}(n,[{key:"render",value:function(){var t=this.props,n=t.classes,a=Ye(t,["classes"]);switch(this.props.data.constructor){case Array:return 0!==this.props.data.length||this.props.emptyRecord?r.createElement(e,a):r.createElement("div",{className:n.root},r.createElement(Ke.a,{className:n.progress,color:"secondary"}));case Object:return 0!==Object.keys(this.props.data).length||this.props.emptyRecord?r.createElement(e,a):r.createElement("div",{className:n.root},r.createElement(Ke.a,{className:n.progress,color:"secondary"}))}}}]),n}();return Object(u.withStyles)(et)(t)};tt.propTypes={classes:l.a.object.isRequired};var nt=tt,rt=n(322),at=n.n(rt),ot=n(318),it=n.n(ot),ct=n(162),lt=n.n(ct),ut=n(116),st=n.n(ut),pt=n(321),ft=n.n(pt),dt=n(68),mt=n.n(dt),yt=n(85),ht=n.n(yt),bt=n(113),gt=n.n(bt),vt=n(112),Et=n.n(vt),St=n(111),wt=n.n(St),Ot=n(82),_t=n.n(Ot),xt=n(127),Ct=n.n(xt);function kt(e){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Tt(e,t,n[t])})}return e}function Tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rt(e,t){return!t||"object"!==kt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dt(e,t){return(Dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}_e.a.defaults.xsrfHeaderName="X-CSRFTOKEN",_e.a.defaults.xsrfCookieName="csrftoken";var It=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return Rt(r,(n=r=Rt(this,(e=Nt(t)).call.apply(e,[this].concat(o))),r.state={open:r.props.open,fields:{}},r.handleChange=function(e,t){r.setState(jt({},r.state,{fields:jt({},r.state.fields,Tt({},e,t))}))},r.submitForm=function(){var e=r.props,t=e.toggleSnackbar,n=e.endpoint,a=e.dest,o=e.folder_id,i=Object.assign(r.state.fields);o&&(i.folder=o),r.props.toggle(),_e.a.post(n,i).then(function(e){a&&r.props.history.push("".concat(a).concat(e.data.id)),t&&(r.props.fetchTarget(),t(!0,"success","Submitted!"))}).catch(function(e){console.log(e)})},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dt(e,t)}(t,a.a.Component),function(e,t,n){t&&Pt(e.prototype,t),n&&Pt(e,n)}(t,[{key:"componentDidMount",value:function(){var e={};this.props.inputFields.forEach(function(t){var n=t.name,r=t.type;e[n]="checkbox"!==r&&null}),this.setState({fields:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.inputFields,r=t.open,o=t.toggle,i=t.classes,c=t.title;return a.a.createElement(ht.a,{disableBackdropClick:!0,open:r,onClose:o,"aria-labelledby":"form-dialog-title"},a.a.createElement(wt.a,{id:"form-dialog-title"},c),a.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.submitForm()}},a.a.createElement(Et.a,{className:i.form},n.map(function(t){var n=t.type,r=t.label,o=t.name,c=t.required,l=t.props,u=t.noLabel;return a.a.createElement(_.a,{id:r,key:o},function(t){switch(n){case"checkbox":return a.a.createElement(Ct.a,{control:a.a.createElement(_t.a,{checked:e.state.fields[o]||"",onChange:function(t){return e.handleChange(o,t.target.checked)},value:o}),label:t});default:return a.a.createElement(mt.a,{className:i.formRow,type:n,required:c,label:u?"":t,value:e.state.fields[o]||"",onChange:function(t){return e.handleChange(o,t.target.value)},InputProps:jt({},l),InputLabelProps:{shrink:!0}})}})})),a.a.createElement(gt.a,null,a.a.createElement(_.a,{id:"generic.button.cancel"},function(e){return a.a.createElement(He.a,{onClick:o,color:"primary"},e)}),a.a.createElement(_.a,{id:"generic.button.submit"},function(e){return a.a.createElement(He.a,{type:"submit",color:"primary"},e)}))))}}]),t}(),At=Object(u.withStyles)(function(e){return{form:{display:"flex",flexDirection:"column"},formRow:{marginBottom:"16px"}}})(It);function Mt(e){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bt(e,t){return!t||"object"!==Mt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qt(e){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ut(e,t){return(Ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}_e.a.defaults.xsrfHeaderName="X-CSRFTOKEN",_e.a.defaults.xsrfCookieName="csrftoken";var Wt=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return Bt(r,(n=r=Bt(this,(e=qt(t)).call.apply(e,[this].concat(o))),r.state={fields:{}},r.submitForm=function(){(0,r.props.deleteProject)()},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ut(e,t)}(t,a.a.Component),function(e,t,n){t&&Ft(e.prototype,t),n&&Ft(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.open,r=t.toggle,o=t.classes,i=t.title;t.deleteProject;return a.a.createElement(ht.a,{disableBackdropClick:!0,open:n,onClose:function(e){return r(e)},"aria-labelledby":"form-dialog-title"},a.a.createElement(wt.a,{id:"form-dialog-title"},i),a.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.submitForm(),r(t)}},a.a.createElement(Et.a,{className:o.form},"Are you sure you want to do this?"),a.a.createElement(gt.a,null,a.a.createElement(_.a,{id:"generic.button.cancel"},function(e){return a.a.createElement(He.a,{onClick:function(e){return r(e)},color:"primary"},e)}),a.a.createElement(_.a,{id:"generic.button.submit"},function(e){return a.a.createElement(He.a,{type:"submit",color:"primary"},e)}))))}}]),t}(),Lt=Object(u.withStyles)(function(e){return{form:{display:"flex",flexDirection:"column"},formRow:{marginBottom:"16px"}}})(Wt),Vt=n(48),zt=n(115),Ht=n.n(zt),Gt=n(213),Kt=n.n(Gt),Xt=n(61),Yt=n.n(Xt);function Jt(e){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $t(e,t){return!t||"object"!==Jt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zt(e){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function en(e,t){return(en=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var tn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$t(this,Zt(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&en(e,t)}(t,a.a.Component),function(e,t,n){t&&Qt(e.prototype,t),n&&Qt(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=(e.filterObj,e.filterItemClickHandler),r=e.handleChange,o=e.Departments,i=e.Users,c=e.checkedDpt,l=e.checkedMember;return a.a.createElement("div",{className:t.root},a.a.createElement("div",{className:t.filterRow},a.a.createElement(Yt.a,{title:c?"Select All":"Select None","aria-label":"toggle",placement:"left"},a.a.createElement(Kt.a,{checked:c,onChange:r("checkedDpt"),value:"checkedDpt",color:"default"})),a.a.createElement(_.a,{id:"filterBar.option.department"},function(e){return a.a.createElement("div",{className:t.filterRow,style:{marginRight:"4px"}},e,":")}),a.a.createElement("div",{className:t.filterRow},o.map(function(e,r){return a.a.createElement(Ht.a,{key:r,onClick:function(){return n("Departments",r)},label:e.name,className:e.active?N()(t.chip,t.activeStyle):t.chip,clickable:!0})}))),a.a.createElement("div",{className:t.filterRow},a.a.createElement(Yt.a,{title:l?"Select All":"Select None","aria-label":"toggle",placement:"left"},a.a.createElement(Kt.a,{checked:l,onChange:r("checkedMember"),value:"checkedMember",color:"default"})),a.a.createElement(_.a,{id:"filterBar.option.user"},function(e){return a.a.createElement("div",{className:t.filterRow,style:{marginRight:"4px"}},e,":")}),a.a.createElement("div",{className:t.filterRow},i.map(function(e,r){if(e.visible)return a.a.createElement(Ht.a,{key:r,onClick:function(){return n("Users",r)},label:e.name.split(".").join(" "),className:e.active?N()(t.chip,t.activeStyle):t.chip,clickable:!0})}))))}}]),t}();tn.propTypes={classes:l.a.object.isRequired},tn.defaultProps={};var nn=Object(u.withStyles)(function(e){return{root:{width:"100%",maxHeight:"300px",overflowY:"auto"},filterRow:{display:"flex",alignSelf:"center"},filterItem:{display:"flex"},chip:{margin:e.spacing.unit/2},activeStyle:{border:"2px solid rgb(13, 86, 201)"}}})(tn),rn=n(35),an=n.n(rn);function on(e){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function un(e,t){return!t||"object"!==on(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sn(e){return(sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pn(e,t){return(pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}_e.a.defaults.xsrfHeaderName="X-CSRFTOKEN",_e.a.defaults.xsrfCookieName="csrftoken";var dn=[{type:"input",label:"folder.field.folder_name",name:"name",required:!0,noLabel:!0}],mn=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return un(r,(n=r=un(this,(e=sn(t)).call.apply(e,[this].concat(o))),r.state={cards:[],hover:-1,openModal:!1,emptyRecord:!1,newFolderTitle:"",Departments:[],Users:[],anchorEl:null,action:null,warning:!1,checkedDpt:!0,checkedMember:!0},r.fetchFolder=function(){_e.a.get("/api/horizon_folder/").then(function(e){0===e.data.length?(console.log("empty la"),r.setState({emptyRecord:!0})):r.setState({cards:e.data})}).catch(function(e){console.log(e)}).then(function(){})},r.fetchUserInfo=function(){_e.a.get("/api/user_subset_info/").then(function(e){var t=e.data.userList.map(function(e){return e.department}),n=cn(new Set(t)).map(function(e){return{name:e,active:!0}}),a=e.data.userList.map(function(e){return{name:e.name,department:e.department,active:!0,visible:!0}});r.setState({Departments:n,Users:a})}).catch(function(e){console.log(e)}).then(function(){})},r.handleCardClick=function(e){r.props.history.push("/performance/".concat(e)),r.props.slideDirection("left")},r.toggleNewFolderModal=function(){r.setState(function(e){return{openModal:!e.openModal}})},r.setHover=function(e){r.setState({hover:e})},r.filterItemClickHandler=function(e,t){r.setState(function(n){var r=cn(n[e]);return r[t].active=!r[t].active,fn({},e,r)},function(){if("Departments"===e){var n=cn(r.state.Users);n.map(function(e){return e.department===r.state.Departments[t].name?(!1===r.state.Departments[t].active?(e.visible=!1,e.active=!1):(e.visible=!0,e.active=!0),e):e}),r.setState({Users:n})}})},r.handleFilterSwitch=function(e){return function(t){var n;console.log(t,r.state.Departments,r.state.Users);var a=cn(r.state.Departments),o=cn(r.state.Users);switch(e){case"checkedDpt":a.map(function(e){e.active=t.target.checked}),o.map(function(e){e.visible=t.target.checked,e.active=t.target.checked});break;case"checkedMember":o.map(function(e){e.active=t.target.checked})}r.setState((fn(n={},e,t.target.checked),fn(n,"Departments",a),fn(n,"Users",o),n))}},r.handleMoreActionClick=function(e){r.setState({anchorEl:e.currentTarget})},r.finishAction=function(){r.setState({action:null})},r.handleMenuClose=function(){r.setState({anchorEl:null})},r.handleMenuClick=function(e){r.setState({action:e,anchorEl:null})},r.handleDeleteClick=function(e,t){e.stopPropagation(),r.setState({warning:!0,prjToDelete:t},function(){console.log(r.state.prjToDelete)})},r.toggleWarning=function(e){e.stopPropagation(),r.setState(function(e){return{warning:!e.warning}})},r.confirmDeleteClick=function(){console.log("execute delete"),r.deleteFolderRequest()},r.deleteFolderRequest=function(){_e.a.put("/api/deactivate_folder/".concat(r.state.prjToDelete,"/"),{active:!1}).then(function(e){console.log(r.state.cards);var t=r.state.cards,n=r.state.cards.findIndex(function(e){return e.id===r.state.prjToDelete});t.splice(n,1),r.setState({cards:t})}).catch(function(e){console.log(e)})},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pn(e,t)}(t,r["Component"]),function(e,t,n){t&&ln(e.prototype,t),n&&ln(e,n)}(t,[{key:"componentDidMount",value:function(){this.fetchUserInfo(),this.fetchFolder()}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.props.reduxState,o=n.slideState,i=n.userID,c=Boolean(this.state.anchorEl);return a.a.createElement(Fe.a,{direction:o,in:!0,mountOnEnter:!0,unmountOnExit:!0},a.a.createElement("div",{className:t.content},a.a.createElement("div",{className:t.toolbar}),a.a.createElement(Lt,{title:"",open:this.state.warning,toggle:this.toggleWarning,deleteProject:this.confirmDeleteClick,endpoint:"api/create_horizon_folder/",dest:"/performance/",history:history}),a.a.createElement(nn,{checkedDpt:this.state.checkedDpt,checkedMember:this.state.checkedMember,handleChange:this.handleFilterSwitch,filterItemClickHandler:this.filterItemClickHandler,Departments:this.state.Departments,Users:this.state.Users}),a.a.createElement("div",{className:t.titleBar},a.a.createElement(_.a,{id:"folder.title.self"},function(e){return a.a.createElement("h3",null,e)}),a.a.createElement("div",{className:t.spacer}),a.a.createElement(I.a,{"aria-label":"More","aria-owns":c?"long-menu":void 0,"aria-haspopup":"true",onClick:this.handleMoreActionClick},a.a.createElement(it.a,null)),a.a.createElement(qe.a,{id:"long-menu",anchorEl:this.state.anchorEl,open:c,onClose:this.handleMenuClose},a.a.createElement(ge.a,{onClick:function(){return e.handleMenuClick("delete")}},"Delete Project"))),a.a.createElement(an.a,null),a.a.createElement(yn,{toggleNewFolderModal:this.toggleNewFolderModal,handleCardClick:this.handleCardClick,handleDeleteClick:this.handleDeleteClick,hover:this.state.hover,action:this.state.action,setHover:this.setHover,openModal:this.state.openModal,data:this.state.cards.filter(function(e){return e.created_by_id===i}),emptyRecord:this.state.emptyRecord,history:this.props.history,creatable:!0}),this.state.action?a.a.createElement(He.a,{variant:"outlined",style:{margin:"0 24px"},onClick:this.finishAction},"Done"):null,this.state.Users.map(function(t){return 0!==e.state.cards.filter(function(e){return e.created_by_id===t.name}).length&&t.active?a.a.createElement(r.Fragment,{key:t.name},a.a.createElement(_.a,{id:"folder.title.others"},function(e){return a.a.createElement("h3",null,t.name.split(".").join(" "),e)}),a.a.createElement(an.a,null),a.a.createElement(yn,{toggleNewFolderModal:e.toggleNewFolderModal,handleCardClick:e.handleCardClick,hover:e.state.hover,setHover:e.setHover,openModal:e.state.openModal,data:e.state.cards.filter(function(e){return e.created_by_id===t.name}),emptyRecord:e.state.emptyRecord,history:e.props.history,creatable:!1})):null})))}}]),t}(),yn=Object(Vt.c)(Object(u.withStyles)(function(e){return{spacer:{flex:1},cardLabel:{display:"flex",alignItems:"center",margin:"0 4px",color:m.Black50},labelWrapper:{display:"flex",flexDirection:"row"},folderTitle:{padding:0,margin:0,fontWeight:500},CardContainer:{display:"flex",flexWrap:"wrap",overflow:"auto"},card:{maxWidth:275,minWidth:175,maxHeight:175,minHeight:71,margin:3*e.spacing.unit,cursor:"pointer",textTransform:"none"},cardContentRoot:{padding:e.spacing.unit,height:"100%",display:"flex",flexDirection:"column","&:last-child":{padding:e.spacing.unit}},lessPadding:{padding:"3px"}}}))(hn);function hn(e){var t=e.classes,n=e.data,o=e.setHover,i=e.hover,c=e.handleCardClick,l=e.handleDeleteClick,u=e.toggleNewFolderModal,s=e.openModal,p=e.history,f=e.creatable,d=e.action;return a.a.createElement("div",{className:t.CardContainer},n.map(function(e){var n=e.id,u=e.name,s=e.completed_target,p=e.total_target;return a.a.createElement(We.a,{raised:n===i,key:n,className:t.card,onClick:function(){return c(n)},onMouseEnter:function(){return o(n)},onMouseLeave:function(){return o(-1)}},a.a.createElement(Ve.a,{classes:{root:t.cardContentRoot}},a.a.createElement("h4",{className:t.folderTitle},u.length>20?"".concat(u.slice(0,17),"..."):u),a.a.createElement("div",{className:t.spacer}),a.a.createElement("div",{className:t.labelWrapper},"delete"===d?a.a.createElement(I.a,{"aria-label":"More",className:t.lessPadding},a.a.createElement(lt.a,{fontSize:"small",onClick:function(e){return l(e,n)}})):null,a.a.createElement("div",{className:t.spacer}),s/p==1?a.a.createElement("div",{className:t.cardLabel,style:{color:"#4CAF50"}},a.a.createElement(ft.a,null)):a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:t.cardLabel},a.a.createElement(at.a,null),a.a.createElement("span",null,p)),a.a.createElement("div",{className:t.cardLabel},a.a.createElement(st.a,null),a.a.createElement("span",null,s))))))}),f?a.a.createElement(r.Fragment,null,a.a.createElement(_.a,{id:"folder.creation.message"},function(e){return a.a.createElement(He.a,{className:t.card,variant:"outlined",color:"primary",onClick:u},e)}),a.a.createElement(_.a,{id:"folder.creation.create"},function(e){return a.a.createElement(At,{title:e,open:s,toggle:u,endpoint:"api/create_horizon_folder/",inputFields:dn,dest:"/performance/",history:p})})):null)}hn.propTypes={classes:l.a.object.isRequired};var bn=Object(u.withStyles)(function(e){var t;return{content:(t={overflow:"auto",flexDirection:"column",flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing.unit},fn(t,e.breakpoints.up("md"),{}),fn(t,e.breakpoints.down("sm"),{}),fn(t,"minWidth",0),t),titleBar:{display:"flex",justifyContent:"center",alignItems:"center"},toolbar:e.mixins.toolbar,CardContainer:{display:"flex",flexWrap:"wrap",overflow:"auto"},card:{maxWidth:275,minWidth:175,maxHeight:175,minHeight:71,margin:3*e.spacing.unit,cursor:"pointer",textTransform:"none"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},messageInputRoot:{display:"flex",flexDirection:"row",flex:"1 1 100%",flexWrap:"wrap"},button:{margin:e.spacing.unit,width:"100%",height:"63px",textAlign:"left"},buttonSmall:{width:"50px",height:"35px"},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},iconSmall:{fontSize:20},offsetIcon:{height:"12px"},iconButton:{width:"36px",height:"36px"},folderTitle:{padding:0,margin:0,fontWeight:500},cardContentRoot:{padding:e.spacing.unit,height:"100%",display:"flex",flexDirection:"column","&:last-child":{padding:e.spacing.unit}},labelWrapper:{display:"flex",flexDirection:"row"},cardLabel:{display:"flex",alignItems:"center",margin:"0 4px",color:m.Black50},spacer:{flex:1}}})(mn),gn=function(e){return{type:"TOGGLE_EDIT_BUTTON",value:e}},vn=function(e){return{type:"UPDATE_TARGET",value:e}},En=function(e,t,n){return{type:"TOGGLE_SNACKBAR",snackbarOpen:e,variant:t,message:n}},Sn=Object(h.b)(function(e){return{reduxState:e}},function(e){return{slideDirection:function(t){e(b(t))},toggleEditButton:function(t){e(gn(t))},toggleSnackbar:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Input message here";e(En(t,n,r))},updateTarget:function(t){e(vn(t))}}})(bn),wn=n(324),On=n.n(wn),_n=n(323),xn=n.n(_n),Cn=n(74),kn=n.n(Cn),jn=n(325),Tn=n.n(jn);function Pn(e){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nn(e,t){return!t||"object"!==Pn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dn(e){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function In(e,t){return(In=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var An={add:a.a.createElement(xn.a,null),edit:a.a.createElement(kn.a,null)},Mn=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return Nn(r,(n=r=Nn(this,(e=Dn(t)).call.apply(e,[this].concat(o))),r.handleGoBack=function(){r.props.slideFunc("right"),r.props.history.goBack()},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&In(e,t)}(t,r["Component"]),function(e,t,n){t&&Rn(e.prototype,t),n&&Rn(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.depth,r=e.component,o=e.buttonType,i=e.buttonMethod,c=n>1;return a.a.createElement("div",{className:t.navigationRoot},c?a.a.createElement(He.a,{mini:!0,variant:"text",color:"primary",className:t.button,onClick:this.handleGoBack},a.a.createElement(On.a,null)):null,a.a.createElement(_.a,{id:"navigation.".concat(r,".title")},function(e){var t=e.split(",");return(n=n<=2?0:n)>=t.length&&(n=t.length-1),a.a.createElement("span",{style:{fontWeight:"bold",fontSize:"24px"}},t[n])}),o?a.a.createElement(Tn.a,{mini:"true",color:"secondary",className:N()(t.button,t.alignRight),onClick:i},An[o]):null)}}]),t}();Mn.propTypes={classes:l.a.object.isRequired,depth:l.a.number.isRequired,component:l.a.string.isRequired},Mn.defaultProps={docked:!1,classes:{}};var Fn=Object(u.withStyles)(function(e){return{button:{margin:"0px",width:"40px",height:"40px",minWidth:"40px"},extendedIcon:{marginRight:e.spacing.unit},navigationRoot:{display:"flex",flexDirection:"row",alignItems:"center",height:"30px",marginTop:3*e.spacing.unit},alignRight:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({marginLeft:"auto"},e.breakpoints.up("md"),{})}})(Mn),Bn=n(329),qn=n.n(Bn),Un=n(330),Wn=n.n(Un),Ln=n(129),Vn=n.n(Ln),zn=n(54),Hn=n.n(zn),Gn=n(332),Kn=n.n(Gn),Xn=n(326),Yn=n.n(Xn),Jn=n(327),Qn=n.n(Jn);function $n(e){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function er(e,t){return!t||"object"!==$n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tr(e){return(tr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nr(e,t){return(nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rr=[{id:"urgent",align:"left",disablePadding:!0,label:"urgency"},{id:"name",align:"left",disablePadding:!0,label:"Target Name"},{id:"description",align:"left",disablePadding:!0,label:"Target Description"},{id:"critical_flag",align:"left",disablePadding:!0,label:"20%"},{id:"completion_status",align:"left",disablePadding:!0,label:"Completion Status"},{id:"expire_date",align:"left",disablePadding:!0,label:"Expire Date"},{id:"created_by",align:"left",disablePadding:!0,label:"Created By"}],ar=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return er(r,(n=r=er(this,(e=tr(t)).call.apply(e,[this].concat(o))),r.createSortHandler=function(e){return function(t){r.props.onRequestSort(t,e)}},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nr(e,t)}(t,a.a.Component),function(e,t,n){t&&Zn(e.prototype,t),n&&Zn(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=(t.onSelectAllClick,t.order),r=t.orderBy,o=(t.numSelected,t.rowCount,t.classes);return a.a.createElement(Yn.a,null,a.a.createElement(Vn.a,null,a.a.createElement(_.a,{id:"".concat(this.props.title,".table.label")},function(t){return t.split(",").map(function(t,i){return a.a.createElement(Hn.a,{classes:{head:o.head},key:rr[i].id,align:rr[i].align,sortDirection:r===rr[i].id&&n},a.a.createElement(Yt.a,{title:"Sort",placement:rr[i].align?"bottom-end":"bottom-start",enterDelay:300},a.a.createElement(Qn.a,{active:r===rr[i].id,direction:n,onClick:e.createSortHandler(rr[i].id)},t)))})})))}}]),t}();ar.propTypes={numSelected:l.a.number.isRequired,onRequestSort:l.a.func.isRequired,onSelectAllClick:l.a.func.isRequired,order:l.a.string.isRequired,orderBy:l.a.string.isRequired,rowCount:l.a.number.isRequired};var or=Object(u.withStyles)({head:{padding:"0 24px"}})(ar),ir=n(67),cr=n(328),lr=n.n(cr),ur=n(114),sr=n.n(ur);function pr(e){return(pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dr(e,t){return!t||"object"!==pr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mr(e){return(mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yr(e,t){return(yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var hr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),dr(this,mr(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yr(e,t)}(t,a.a.Component),function(e,t,n){t&&fr(e.prototype,t),n&&fr(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.handleInput,r=e.handleKeypress,o=e.inputValue,i=e.toggleForm,c=e.submit;return a.a.createElement(se.a,{onClickAway:i},a.a.createElement("div",{className:t.messageInputRoot},a.a.createElement(mt.a,{multiline:!0,type:"text-field",autoFocus:!0,fullWidth:!0,variant:"outlined",className:t.textField,value:o,onChange:n("textMessage"),onKeyPress:r,margin:"normal"}),a.a.createElement(_.a,{id:"generic.button.add"},function(e){return a.a.createElement(He.a,{variant:"contained",size:"small",className:t.buttonSmall,onClick:c},e)}),a.a.createElement(I.a,{classes:{label:t.offsetIcon},className:N()(t.iconButton,t.rightIcon),onClick:i},a.a.createElement(sr.a,null))))}}]),t}();hr.propTypes={handleInput:l.a.func.isRequired,handleKeypress:l.a.func.isRequired,inputValue:l.a.string.isRequired,toggleForm:l.a.func.isRequired,submit:l.a.func.isRequired};var br=Object(u.withStyles)(function(e){return{marginTop:{marginTop:"auto"},button:{margin:e.spacing.unit,width:"100%",height:"63px",textAlign:"left"},buttonSmall:{width:"50px",height:"35px"},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},iconSmall:{fontSize:20},offsetIcon:{height:"12px"},iconButton:{width:"36px",height:"36px"},SubtargetContent:{width:"100%"},messageInputRoot:{display:"flex",flexDirection:"row",flexWrap:"wrap"}}})(hr);var gr=function(e){var t=e.numSelected,n=e.classes,r=e.folderTitle,o=e.editMode,i=e.handleKeypress,c=e.handleInput,l=e.toggleEditMode,u=e.inputValue,s=e.handleUpdateFolder;return a.a.createElement(j.a,{className:N()(n.root,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n.highlight,t>0))},a.a.createElement("div",{className:n.title},t>0?a.a.createElement(P.a,{color:"inherit",variant:"subheading"},t," selected"):o?a.a.createElement(br,{toggleForm:l,inputValue:u,handleInput:c,handleKeypress:i,submit:s,buttonName:"Edit"}):a.a.createElement("div",{className:n.editButtonStyle},a.a.createElement(P.a,{variant:"h6",id:"tableTitle"},r),a.a.createElement(I.a,{"aria-label":"Edit Button",onClick:l,classes:{root:n.overRideIconStyle}},a.a.createElement(kn.a,null)))),a.a.createElement("div",{className:n.spacer}),a.a.createElement("div",{className:n.actions},t>0?a.a.createElement(Yt.a,{title:"Delete"},a.a.createElement(I.a,{"aria-label":"Delete"},a.a.createElement(lt.a,null))):a.a.createElement(Yt.a,{title:"Filter list"},a.a.createElement(I.a,{"aria-label":"Filter list"},a.a.createElement(lr.a,null)))))};gr.propTypes={classes:l.a.object.isRequired,numSelected:l.a.number.isRequired};var vr=gr=Object(u.withStyles)(function(e){return{root:{paddingRight:e.spacing.unit},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ir.lighten)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"},editButtonStyle:{display:"flex",alignItems:"flex-start"},overRideIconStyle:{padding:"3px",margin:"0 3px"}}})(gr),Er=n(214),Sr=n.n(Er),wr=n(331),Or=n.n(wr);function _r(e){return(_r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cr(e,t){return!t||"object"!==_r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kr(e){return(kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jr(e,t){return(jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tr(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}var Pr=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return Cr(r,(n=r=Cr(this,(e=kr(t)).call.apply(e,[this].concat(o))),r.state={order:"asc",orderBy:"target_name",selected:[],data:r.props.data,page:0,rowsPerPage:5,editMode:!1,inputValue:null},r.handleRequestSort=function(e,t){var n=t,a="desc";r.state.orderBy===t&&"desc"===r.state.order&&(a="asc"),r.setState({order:a,orderBy:n})},r.handleSelectAllClick=function(e){e.target.checked?r.setState(function(e){return{selected:e.data.map(function(e){return e.id})}}):r.setState({selected:[]})},r.handleClick=function(e,t){r.state.selected.indexOf(t);r.props.slideDirection("left"),r.props.history.push("/performance/project/".concat(t))},r.handleChangePage=function(e,t){r.setState({page:t})},r.handleChangeRowsPerPage=function(e){r.setState({rowsPerPage:e.target.value})},r.isSelected=function(e){return-1!==r.state.selected.indexOf(e)},r.handleKeypress=function(e){"Enter"===e.key&&(e.preventDefault(),r.handleUpdateFolder())},r.handleInput=function(e){return function(e){r.setState({inputValue:e.target.value})}},r.toggleEditMode=function(){r.setState(function(e){return{inputValue:r.props.folderTitle,editMode:!e.editMode}})},r.handleUpdateFolder=function(){var e=r.props.match.params.id;_e.a.put("/api/update_horizon_folder_by_id/".concat(e,"/"),{name:r.state.inputValue,created_by_id:r.props.reduxState.userID}).then(function(e){r.props.updateFolderTitle(e.data.name)}).catch(function(e){console.log(e)}).then(function(){}),r.setState(function(){return{editMode:!1}})},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jr(e,t)}(t,a.a.Component),function(e,t,n){t&&xr(e.prototype,t),n&&xr(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.folderTitle,o=this.props.reduxState.slideState,i=this.state,c=i.data,l=i.order,u=i.orderBy,s=i.selected,p=i.rowsPerPage,f=i.page,d=i.editMode,m=p-Math.min(p,c.length-f*p);return a.a.createElement(Fe.a,{direction:o,in:!0,mountOnEnter:!0,unmountOnExit:!0},a.a.createElement(me.a,{className:n.root},a.a.createElement(vr,{handleKeypress:this.handleKeypress,handleInput:this.handleInput,toggleEditMode:this.toggleEditMode,handleUpdateFolder:this.handleUpdateFolder,inputValue:this.state.inputValue,editMode:d,folderTitle:r,numSelected:s.length}),a.a.createElement("div",{className:n.tableWrapper},c.length>0?a.a.createElement(qn.a,{className:n.table,"aria-labelledby":"tableTitle"},a.a.createElement(or,{numSelected:s.length,order:l,orderBy:u,onSelectAllClick:this.handleSelectAllClick,onRequestSort:this.handleRequestSort,rowCount:c.length,title:"target"}),a.a.createElement(Wn.a,null,function(e,t){var n=e.map(function(e,t){return[e,t]});return n.sort(function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]}),n.map(function(e){return e[0]})}(c,function(e,t){return"desc"===e?function(e,n){return Tr(e,n,t)}:function(e,n){return-Tr(e,n,t)}}(l,u)).slice(f*p,f*p+p).map(function(t){var r=e.isSelected(t.id);return a.a.createElement(Vn.a,{hover:!0,onClick:function(n){return e.handleClick(n,t.id)},role:"checkbox","aria-checked":r,tabIndex:-1,key:t.id,selected:r,style:{cursor:"pointer"}},a.a.createElement(Hn.a,{className:n.tableCellSmall,padding:"dense"},t.urgent?a.a.createElement(Yt.a,{title:"Behind Schedule",placement:"bottom-start"},a.a.createElement(Sr.a,{fontSize:"small",style:{color:"#E30613"}})):a.a.createElement(Yt.a,{title:"On Schedule",placement:"bottom-start"},a.a.createElement(Sr.a,{fontSize:"small",style:{color:"#4CAF50"}}))),a.a.createElement(Hn.a,{className:n.tableCellLarge,component:"th",scope:"row"},t.name),a.a.createElement(Hn.a,{className:n.tableCellLarge},t.description),a.a.createElement(Hn.a,{className:n.tableCell},t.critical_flag?a.a.createElement(Or.a,{color:"secondary"}):null),a.a.createElement(Hn.a,{className:n.tableCell},t.progress,"%"),a.a.createElement(Hn.a,{className:n.tableCell},t.expire_date),a.a.createElement(Hn.a,{className:n.tableCell},t.created_by_id))}),a.a.createElement(Vn.a,{style:{height:49*m}},a.a.createElement(Hn.a,{style:{textAlign:"center"},colSpan:8})))):a.a.createElement("div",{style:{height:49*m,display:"flex",alignItems:"center",justifyContent:"center",color:"#808080"}},a.a.createElement(_.a,{id:"target.creation.message"},function(e){return a.a.createElement("div",{style:{margin:"16px"}},e)}))),a.a.createElement(Kn.a,{labelRowsPerPage:"",rowsPerPageOptions:[],component:"div",count:c.length,rowsPerPage:p,page:f,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.data!==t.data?{data:e.data}:null}}]),t}();Pr.propTypes={classes:l.a.object.isRequired},Pr.defaultProps={classes:{}};var Rr=Pr=Object(u.withStyles)(function(e){return{content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing.unit,minWidth:0},root:{marginTop:3*e.spacing.unit,marginBottom:3*e.spacing.unit},table:{minWidth:1020},tableCell:{width:"150px",minWidth:"150px"},tableCellSmall:{width:"60px",minWidth:"60px"},tableCellLarge:{width:"200px",minWidth:"200px"},tableWrapper:{overflowX:"auto"},toolbar:e.mixins.toolbar}})(Pr),Nr=n(163),Dr=n.n(Nr),Ir=n(84),Ar=n.n(Ir),Mr=n(333),Fr=n.n(Mr),Br=n(334),qr=n.n(Br);function Ur(e){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lr(e,t){return!t||"object"!==Ur(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vr(e){return(Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zr(e,t){return(zr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Hr=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return Lr(r,(n=r=Lr(this,(e=Vr(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e,t){r.setState({value:t})},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zr(e,t)}(t,a.a.Component),function(e,t,n){t&&Wr(e.prototype,t),n&&Wr(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.msgID,o=t.variant,i=t.handleTabChange,c=t.activeTab,l=t.flexEnd;return a.a.createElement("div",{className:n.root},a.a.createElement(_.a,{id:r},function(t){return a.a.createElement(Fr.a,{classes:{flexContainer:l?n.flexContainer:null},variant:o,value:c,onChange:i},t.split(",").map(function(e,t){return a.a.createElement(qr.a,{key:t,className:n.tabRoot,label:e})}).slice(0,e.props.hideTab))}))}}]),t}();Hr.propTypes={classes:l.a.object.isRequired,msgID:l.a.string.isRequired,variant:l.a.string.isRequired,activeTab:l.a.number.isRequired,handleTabChange:l.a.func.isRequired},Hr.defaultProps={msgID:"",variant:"standard",flexEnd:!1};var Gr=Object(u.withStyles)(function(e){return{root:{backgroundColor:m.Concrete25,color:m.Black75},tabRoot:{minWidth:"100px"},flexContainer:{justifyContent:"flex-end"}}})(Hr),Kr=Object(h.b)(function(e){return{reduxState:e}},function(e){return{}})(Gr),Xr=function(e){var t=e.folder,n=e.target;return a.a.createElement("div",{style:{margin:"16px 0",fontWeight:"bold"}},a.a.createElement("span",null,t," ",n?"/ ".concat(n):null))},Yr=n(164),Jr=n.n(Yr),Qr=function(e){var t=new Date(e),n=t.getFullYear(),r=t.getMonth()+1,a=t.getDate();return"".concat(a,"-").concat(r,"-").concat(n)};function $r(e){return($r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ea(e,t){return!t||"object"!==$r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ta(e){return(ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function na(e,t){return(na=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ra=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return ea(r,(n=r=ea(this,(e=ta(t)).call.apply(e,[this].concat(o))),r.handleOpenTargetRequest=function(e){r.props.history.push("/performance/project/".concat(e))},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&na(e,t)}(t,r["Component"]),function(e,t,n){t&&Zr(e.prototype,t),n&&Zr(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,o=t.data,i=t.msgArr;return a.a.createElement("div",{className:n.content},o.map(function(t,o){var c=t.comment,l=t.name,u=t.folder,s=t.id;return a.a.createElement(r.Fragment,{key:o},a.a.createElement(Xr,{folder:u.name,target:l}),a.a.createElement(an.a,null),c.map(function(t){var r=t.message,o=t.create_date,c=t.created_by_id,l=t.viewed;return a.a.createElement(U.a,{key:o},a.a.createElement(we.a,{color:"secondary",badgeContent:l?0:"new"},a.a.createElement(Jr.a,{fontSize:"small",style:{marginRight:"8px"}})),a.a.createElement("p",{className:n.pStyle},c," ",i[0]," ",a.a.createElement("b",null,i[1]),': "',a.a.createElement("span",{className:n.linkStyle,onClick:function(){return e.handleOpenTargetRequest(s)}},r),'" ',a.a.createElement("span",{className:n.dateStyle},Qr(o))))}))}))}}]),t}();ra.propTypes={classes:l.a.object.isRequired};var aa=Object(u.withStyles)(function(e){return{content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:"12px ".concat(3*e.spacing.unit,"px"),minWidth:0},toolbar:e.mixins.toolbar,pStyle:{margin:0,marginLeft:"16px",color:"#404040"},dateStyle:{color:"#202020",fontStyle:"italic"},linkStyle:{color:"#0000EE",textDecoration:"underline",cursor:"pointer"}}})(ra),oa=n(335),ia=n.n(oa);function ca(e){return(ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function la(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ua(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pa(e,t,n){return t&&sa(e.prototype,t),n&&sa(e,n),e}function fa(e,t){return!t||"object"!==ca(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function da(e){return(da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ma(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ya(e,t)}function ya(e,t){return(ya=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ha=function(e){function t(){return ua(this,t),fa(this,da(t).apply(this,arguments))}return ma(t,a.a.Component),pa(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.handleInput,r=e.inputValue,o=e.submit,i=e.data,c=e.userID,l=e.setMentionUser,u=e.clearMentionUser,s=e.mentionUser,p=la(new Set(i.map(function(e){return e.created_by_id}))).filter(function(e){return e!==c});return a.a.createElement("div",{className:t.messageInputRoot},a.a.createElement(_.a,{id:"comment.text.placeholder"},function(e){return a.a.createElement(mt.a,{multiline:!0,required:!0,rows:"2",rowsMax:"2",type:"text-field",placeholder:e,fullWidth:!0,variant:"outlined",className:t.textField,value:r,onChange:n,InputProps:{classes:{notchedOutline:t.overrideOutline}}})}),a.a.createElement("div",{className:t.commentToolbar},a.a.createElement(ga,{setMentionUser:l,clearMentionUser:u,mentionUser:s,userList:p}),a.a.createElement(I.a,{onClick:o},a.a.createElement(ee.a,{fontSize:"small"}))))}}]),t}(),ba=function(e){function t(){var e,n,r;ua(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return fa(r,(n=r=fa(this,(e=da(t)).call.apply(e,[this].concat(o))),r.state={anchorEl:null},r.handleClick=function(e){r.setState({anchorEl:e.currentTarget})},r.handleClose=function(e){console.log(e),r.setState({anchorEl:null}),null!==e&&r.props.setMentionUser(e)},n))}return ma(t,a.a.Component),pa(t,[{key:"render",value:function(){var e=this,t=this.state.anchorEl,n=this.props,o=n.userList,i=n.mentionUser,c=n.classes,l=n.clearMentionUser;return a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:c.mentionUserStyle},a.a.createElement(I.a,{onClick:this.handleClick},a.a.createElement(ia.a,{fontSize:"small"})),i?a.a.createElement("div",{className:c.closeButtonStyle},i.split(".").join(" "),a.a.createElement(sr.a,{onClick:l,style:{color:"#808080",cursor:"pointer"}})):null),a.a.createElement(qe.a,{id:"simple-menu",anchorEl:t,open:Boolean(t),onClose:function(){return e.handleClose(null)}},o.map(function(t){return a.a.createElement(ge.a,{key:t,onClick:function(){return e.handleClose(t)}},t.split(".").join(" "))})))}}]),t}(),ga=Object(u.withStyles)(function(e){return{mentionUserStyle:{display:"flex",justifyContent:"center",alignItems:"center"},closeButtonStyle:{display:"flex",justifyContent:"center",alignItems:"center"}}})(ba);ha.propTypes={handleInput:l.a.func.isRequired,inputValue:l.a.string.isRequired,submit:l.a.func.isRequired},ha.defaultProps={buttonName:"Add"};var va=Object(u.withStyles)(function(e){return{marginTop:{marginTop:"auto"},button:{margin:e.spacing.unit,width:"100%",height:"63px",textAlign:"left"},buttonSmall:{width:"50px",height:"35px"},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},iconSmall:{fontSize:20},offsetIcon:{height:"12px"},iconButton:{width:"36px",height:"36px"},SubtargetContent:{width:"100%"},messageInputRoot:{flexDirection:"row",flexWrap:"wrap",marginTop:"auto",position:"sticky",bottom:0,background:"#FFFFFF"},commentToolbar:{width:"100%",display:"flex",backgroundColor:"rgba(0, 0, 0, 0.12)",justifyContent:"space-between"},overrideOutline:{borderTop:"1px solid rgba(0, 0, 0, 0.23)",borderBottom:"1px solid rgba(0, 0, 0, 0.23)",borderLeft:"none",borderRight:"none",borderRadius:0}}})(ha),Ea=n(158),Sa=n.n(Ea);function wa(e){return(wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _a(e,t){return!t||"object"!==wa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xa(e){return(xa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ca(e,t){return(Ca=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ka(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ja=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return _a(r,(n=r=_a(this,(e=xa(t)).call.apply(e,[this].concat(i))),r.state={comments:r.props.data,tmpComments:[],editMode:!1,editIndex:null,inputValue:""},r.handleEdit=function(e){var t=a.a.createElement("div",null,"EDIT CONTENT");r.setState(function(n){var r=n.comments.slice();return r.splice(e,1,t),{tmpComments:r,editMode:!0,editIndex:e,inputValue:n.comments[e].name}})},r.handleInput=function(e){return function(e){r.setState({inputValue:e.target.value})}},r.handleKeypress=function(e){"Enter"===e.key&&(e.preventDefault(),r.updateEvent(r.state.editIndex,r.state.inputValue))},r.handleCloseInput=function(){r.setState({editMode:!1})},r.updateEvent=function(e,t){r.props.updateEvent(e,t),r.setState({editMode:!1})},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ca(e,t)}(t,r["Component"]),function(e,t,n){t&&Oa(e.prototype,t),n&&Oa(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state,o=n.editMode,i=n.comments,c=n.tmpComments,l=n.editIndex,u=n.inputValue;return a.a.createElement("div",{className:t.root},i.length>0?a.a.createElement(B.a,{className:t.ulStyle},o?c.map(function(t,n){return n===l?a.a.createElement(r.Fragment,{key:n},a.a.createElement(br,{buttonName:"Edit",handleInput:e.handleInput,handleKeypress:e.handleKeypress,inputValue:u,toggleForm:e.handleCloseInput,submit:function(){return e.updateEvent(l,u)}}),a.a.createElement("br",null),a.a.createElement(an.a,null)):a.a.createElement(r.Fragment,{key:n},a.a.createElement(U.a,{onClick:function(){return e.handleEdit(n)}},a.a.createElement(z.a,{primary:t.name,secondary:Qr(t.create_date)})),a.a.createElement(an.a,null))}):i.map(function(e,n){var o=e.message,i=e.create_date,c=e.created_by_id,l=e.mention_user_id;return a.a.createElement(r.Fragment,{key:n},a.a.createElement(U.a,{className:t.liStyle},a.a.createElement("div",{className:t.avatarWrapper},a.a.createElement(Sa.a,{className:t.avatar},c.split(".").map(function(e){return e[0]}).join("").toUpperCase())),a.a.createElement("div",{className:t.liContentWrapper},a.a.createElement("div",{className:t.liTitleWrapper},a.a.createElement("div",{className:t.nameTextStyle},c.split(".").join(" "),l?a.a.createElement("span",null," ",a.a.createElement("b",{style:{color:"#B0B1B3"}},"▸")," ",l.split(".").join(" ")):null),a.a.createElement("div",{className:t.secondaryTextStyle},Qr(i))),a.a.createElement("div",{className:t.primaryTextStyle},o))),a.a.createElement(an.a,{light:!0}))})):a.a.createElement(_.a,{id:"comment.text.welcomeText"},function(e){return a.a.createElement("div",{className:t.helpText},e)}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.data!==t.data?{comments:e.data}:null}}]),t}();ja.propTypes={classes:l.a.object.isRequired,data:l.a.array.isRequired};var Ta=Object(u.withStyles)(function(e){var t;return{root:(t={width:"100%",flex:"1 1 100%",display:"flex",justifyContent:"center",maxWidth:360},ka(t,e.breakpoints.down("sm"),{maxWidth:"100%"}),ka(t,"backgroundColor",e.palette.background.paper),t),helpText:{alignSelf:"center",margin:"5%",color:"#808080"},ulStyle:{flex:1,overflow:"auto",fontSize:"12px"},liStyle:{padding:"8px 0",display:"flex",minHeight:"70px"},nameTextStyle:{fontSize:"12px"},primaryTextStyle:{fontSize:"14px",color:"#404040",marginTop:4},secondaryTextStyle:{fontSize:"12px",color:"#808080"},avatarWrapper:{alignSelf:"flex-start",height:"100%"},liContentWrapper:{height:"100%",flex:1,alignSelf:"flex-start"},liTitleWrapper:{},avatar:{marginLeft:8,marginRight:8,width:"26px",height:"26px",fontSize:"14px"}}})(ja);function Pa(e){return(Pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ra(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Na(e,t){return!t||"object"!==Pa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Da(e){return(Da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ia(e,t){return(Ia=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}_e.a.defaults.xsrfHeaderName="X-CSRFTOKEN",_e.a.defaults.xsrfCookieName="csrftoken";var Aa=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return Na(r,(n=r=Na(this,(e=Da(t)).call.apply(e,[this].concat(o))),r.state={inputValue:"",data:[],emptyRecord:!1,mentionUser:null},r.fetchComments=function(){_e.a.get("/api/fetch_comment_by_target/".concat(r.props.match.params.id,"/")).then(function(e){0===e.data.length?r.setState({data:e.data,emptyRecord:!0}):r.setState({data:e.data})}).catch(function(e){console.log(e)}).then(function(){})},r.handleCommentInput=function(e){r.setState({inputValue:e.target.value})},r.setMentionUser=function(e){r.setState({mentionUser:e})},r.clearMentionUser=function(){console.log("clear"),r.setState({mentionUser:null})},r.submitComment=function(){var e="/api/create_comment_by_target/".concat(r.props.match.params.id,"/");_e.a.post(e,{message:r.state.inputValue,target:r.props.match.params.id,mention_user_id:r.state.mentionUser}).then(function(e){r.setState({data:r.state.data.concat(e.data),inputValue:""})}).catch(function(e){console.log(e)})},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ia(e,t)}(t,r["Component"]),function(e,t,n){t&&Ra(e.prototype,t),n&&Ra(e,n)}(t,[{key:"componentDidMount",value:function(){this.fetchComments()}},{key:"render",value:function(){var e=this.props.userID;return a.a.createElement(r.Fragment,null,a.a.createElement(Ma,{data:this.state.data,emptyRecord:this.state.emptyRecord}),a.a.createElement(va,{setMentionUser:this.setMentionUser,clearMentionUser:this.clearMentionUser,mentionUser:this.state.mentionUser,userID:e,data:this.state.data,handleInput:this.handleCommentInput,inputValue:this.state.inputValue,submit:this.submitComment}))}}]),t}();Aa.propTypes={classes:l.a.object.isRequired};var Ma=nt(Ta),Fa=Object(u.withStyles)(function(e){return{root:{width:"100%"},avatar:{margin:"5px 15px 0px 0px",width:"30px",height:"30px",alignSelf:"center"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular,alignSelf:"center"},userName:{alignSelf:"center"},panelSummaryTitle:{display:"flex",flexDirection:"row",marginBottom:"10px"},panelSummary:{flexDirection:"column"},panelDetails:{flexDirection:"column"},spread:{borderRight:"2px solid ".concat(m.Concrete25),marginLeft:"12px",marginRight:"18px"},emptySpread:{marginLeft:"12px",marginRight:"12px"},replyHeadingContainer:{display:"flex",flexDirection:"row",margin:"1rem 0"},replyContainer:{display:"flex",flexDirection:"row"},replyHeading:{display:"flex"},commentStickToBottom:{position:"sticky",bottom:0}}})(Aa);function Ba(e){return(Ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ua(e,t){return!t||"object"!==Ba(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wa(e){return(Wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function La(e,t){return(La=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}_e.a.defaults.xsrfHeaderName="X-CSRFTOKEN",_e.a.defaults.xsrfCookieName="csrftoken";var Va=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return Ua(r,(n=r=Ua(this,(e=Wa(t)).call.apply(e,[this].concat(o))),r.state={inputValue:"",data:[],emptyRecord:!1,mentionUser:null},r.fetchActions=function(){_e.a.get("/api/fetch_action_by_target/".concat(r.props.match.params.id,"/")).then(function(e){0===e.data.length?r.setState({data:e.data,emptyRecord:!0}):r.setState({data:e.data})}).catch(function(e){console.log(e)}).then(function(){})},r.handleActionInput=function(e){r.setState({inputValue:e.target.value})},r.setMentionUser=function(e){r.setState({mentionUser:e})},r.clearMentionUser=function(){console.log("clear"),r.setState({mentionUser:null})},r.submitAction=function(){var e="/api/create_action_by_target/".concat(r.props.match.params.id,"/");_e.a.post(e,{message:r.state.inputValue,target:r.props.match.params.id,mention_user_id:r.state.mentionUser}).then(function(e){r.setState({data:r.state.data.concat(e.data),inputValue:""})}).catch(function(e){console.log(e)})},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&La(e,t)}(t,r["Component"]),function(e,t,n){t&&qa(e.prototype,t),n&&qa(e,n)}(t,[{key:"componentDidMount",value:function(){this.fetchActions()}},{key:"render",value:function(){var e=this.props.userID;return a.a.createElement(r.Fragment,null,a.a.createElement(za,{data:this.state.data,emptyRecord:this.state.emptyRecord}),a.a.createElement(va,{setMentionUser:this.setMentionUser,clearMentionUser:this.clearMentionUser,mentionUser:this.state.mentionUser,userID:e,data:this.state.data,handleInput:this.handleActionInput,inputValue:this.state.inputValue,submit:this.submitAction}))}}]),t}();Va.propTypes={classes:l.a.object.isRequired};var za=nt(Ta),Ha=Object(u.withStyles)(function(e){return{root:{width:"100%"},avatar:{margin:"5px 15px 0px 0px",width:"30px",height:"30px",alignSelf:"center"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular,alignSelf:"center"},userName:{alignSelf:"center"},panelSummaryTitle:{display:"flex",flexDirection:"row",marginBottom:"10px"},panelSummary:{flexDirection:"column"},panelDetails:{flexDirection:"column"},spread:{borderRight:"2px solid ".concat(m.Concrete25),marginLeft:"12px",marginRight:"18px"},emptySpread:{marginLeft:"12px",marginRight:"12px"},replyHeadingContainer:{display:"flex",flexDirection:"row",margin:"1rem 0"},replyContainer:{display:"flex",flexDirection:"row"},replyHeading:{display:"flex"},commentStickToBottom:{position:"sticky",bottom:0}}})(Va),Ga=n(337),Ka=n.n(Ga),Xa=n(336),Ya=n.n(Xa);function Ja(){return(Ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Qa(e){return(Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Za(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eo(e,t,n){return t&&Za(e.prototype,t),n&&Za(e,n),e}function to(e,t){return!t||"object"!==Qa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function no(e){return(no=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ro(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ao(e,t)}function ao(e,t){return(ao=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}_e.a.defaults.xsrfHeaderName="X-CSRFTOKEN",_e.a.defaults.xsrfCookieName="csrftoken";var io=function(e){function t(){var e,n,r;$a(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return to(r,(n=r=to(this,(e=no(t)).call.apply(e,[this].concat(o))),r.state={activeTab:0,data:[],emptyRecord:!1},r.handleTabChange=function(e,t){r.setState({activeTab:t},function(){})},r.fetchRecentSubtargetAndEvent=function(){_e.a.get("/api/fetch_recent_comments/").then(function(e){var t=e.data;if(0===e.data.length)r.setState({emptyRecord:!0});else{var n=t.map(function(e){return e.comment.map(function(e){var t=e.viewed,n=e.id;return!1===t?n:null}).filter(function(e){return null!==e})}),a=[].concat.apply([],n);r.setState({data:t},function(){r.props.updateCommentBadgeCount(0),r.updateViewedStatus(a)})}}).catch(function(e){console.log(e)}).then(function(){})},r.fetchTargetActionAccess=function(){_e.a.get("/api/action_access/").then(function(e){r.props.reduxState.project_details_data;r.props.storeActionAccess(e.data.userList.map(function(e){return e.name}))}).catch(function(e){console.log(e)}).then(function(){})},r.updateViewedStatus=function(e){e.forEach(function(e){_e.a.put("/api/update_viewed_comment/".concat(e,"/"),{viewed:!0})})},n))}return ro(t,r["Component"]),eo(t,[{key:"componentDidMount",value:function(){this.fetchRecentSubtargetAndEvent(),this.fetchTargetActionAccess()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.docked,o=t.history,i=t.match,c=this.props.reduxState,l=c.slideState,u=c.userID,s=c.myActionAccess,p=c.project_details_data.created_by_id,f=s.includes(p);return r?Object(Ir.isWidthUp)("md",this.props.width)?a.a.createElement(lo,{hasAccess:f,userID:u,history:o,match:i,classes:n,handleTabChange:this.handleTabChange,activeTab:this.state.activeTab}):a.a.createElement(uo,{hasAccess:f,userID:u,history:o,match:i,classes:n,handleTabChange:this.handleTabChange,activeTab:this.state.activeTab}):a.a.createElement(Fe.a,{direction:l,in:!0,mountOnEnter:!0,unmountOnExit:!0},a.a.createElement("div",{className:n.root},a.a.createElement("div",{className:n.toolbar}),a.a.createElement(_.a,{id:"recent.title.comments"},function(e){return a.a.createElement("h2",{style:{margin:0}},e)}),a.a.createElement(_.a,{id:"recent.text.recentComments"},function(t){var n=t.split(",");return a.a.createElement(co,{msgArr:n,history:o,data:e.state.data,emptyRecord:e.state.emptyRecord})})))}}]),t}();io.propTypes={classes:l.a.object.isRequired,docked:l.a.bool.isRequired},io.defaultProps={docked:!1,classes:{}};var co=nt(aa),lo=function(e){function t(){return $a(this,t),to(this,no(t).apply(this,arguments))}return ro(t,r["Component"]),eo(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.handleTabChange,r=e.activeTab,o=e.history,i=e.match,c=e.userID,l=e.hasAccess;return a.a.createElement(Fe.a,{direction:"left",in:!0,mountOnEnter:!0,unmountOnExit:!0},a.a.createElement(me.a,{className:N()(t.dockedRoot,t.dockedRootMd)},a.a.createElement("div",{className:N()(t.toolbar,t.toolbarMd)}),a.a.createElement(Gr,{hideTab:l?2:1,variant:"fullWidth",activeTab:r,handleTabChange:n,msgID:"tab.comments.title"}),0===r&&a.a.createElement(Fa,{userID:c,history:o,match:i}),1===r&&a.a.createElement(Ha,{userID:c,history:o,match:i})))}}]),t}(),uo=function(e){function t(){var e,n,r;$a(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return to(r,(n=r=to(this,(e=no(t)).call.apply(e,[this].concat(o))),r.state={isCommentActive:!1},r.toggleComment=function(){r.setState(function(e){return{isCommentActive:!e.isCommentActive}})},n))}return ro(t,r["Component"]),eo(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.handleTabChange,r=e.activeTab,o=e.history,i=e.match,c=e.userID,l=e.hasAccess;return a.a.createElement("div",{className:t.dockedBottomRoot},a.a.createElement(I.a,{className:t.button,"aria-label":"Delete",onClick:this.toggleComment},a.a.createElement(Ya.a,null)),a.a.createElement(po,{history:o,userID:c,hasAccess:l,match:i,toggleComment:this.toggleComment,isCommentActive:this.state.isCommentActive,classes:t,handleTabChange:n,activeTab:r}))}}]),t}(),so=function(e){return a.a.createElement(Fe.a,Ja({},e,{direction:"up"}))},po=function(e){function t(){var e,n,r;$a(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return to(r,(n=r=to(this,(e=no(t)).call.apply(e,[this].concat(o))),r.state={mounted:!0},n))}return ro(t,r["Component"]),eo(t,[{key:"render",value:function(){var e=this.props,t=(e.classes,e.activeTab),n=e.handleTabChange,r=e.isCommentActive,o=e.toggleComment,i=e.history,c=e.match,l=e.userID,u=e.hasAccess;return a.a.createElement(ht.a,{fullScreen:!0,open:r,onClose:o,TransitionComponent:so},a.a.createElement(He.a,{mini:!0,variant:"text",color:"primary",style:{position:"absolute",top:"5px",zIndex:2},onClick:o},a.a.createElement(Ka.a,null)),a.a.createElement(Kr,{hideTab:u?2:1,flexEnd:!0,variant:"standard",activeTab:t,handleTabChange:n,msgID:"tab.comments.title"}),0===t&&a.a.createElement(Fa,{userID:l,history:i,match:c}),1===t&&a.a.createElement(Ha,{userID:l,history:i,match:c}))}}]),t}(),fo=Dr()(Object(u.withStyles)(function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing.unit,minWidth:0,overflow:"auto"},dockedRoot:{width:"20%",whiteSpace:"normal",height:"100%",alignSelf:"flex-end",overflow:"auto",display:"flex",flexDirection:"column"},dockedRootMd:oo({},e.breakpoints.down("sm"),{overflow:"hidden",display:"none"}),dockedBottomRoot:{position:"absolute",bottom:3*e.spacing.unit,right:3*e.spacing.unit},toolbar:e.mixins.toolbar,toolbarMd:oo({},e.breakpoints.down("sm"),{display:"none"})}}),Ar()())(io),mo=Object(h.b)(function(e){return{reduxState:e}},function(e){return{toggleSnackbar:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Input message here";e(En(t,n,r))},storeActionAccess:function(t){e(function(e){return{type:"STORE_ACTION_ACCESS",data:e}}(t))},updateCommentBadgeCount:function(t){e(v(t))}}})(fo),yo=n(338),ho=n.n(yo);function bo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Oo(e,t,n[t])})}return e}function go(e){return(go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Eo(e){return(Eo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function So(e,t){return(So=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}_e.a.defaults.xsrfHeaderName="X-CSRFTOKEN",_e.a.defaults.xsrfCookieName="csrftoken";var _o=[{type:"input",label:"details.field.target_name",name:"name",required:!0},{type:"input",label:"details.field.target_description",name:"description",required:!0,props:{multiline:!0,rows:4,rowsMax:"4"}},{type:"date",label:"details.field.start_date",name:"start_date",required:!0,props:{}},{type:"date",label:"details.field.expire_date",required:!0,name:"expire_date"},{type:"input",label:"details.field.created_by",required:!0,name:"created_by_id",disabled:!0}],xo=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==go(t)&&"function"!=typeof t?wo(e):t}(this,Eo(t).call(this,e)),Co.call(wo(wo(n))),n.state={fields:e.data},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&So(e,t)}(t,r["Component"]),function(e,t,n){t&&vo(e.prototype,t),n&&vo(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.editContent;return a.a.createElement("form",{className:r?N()(n.detailsFieldRoot,n.editMode):n.detailsFieldRoot,onSubmit:function(t){t.preventDefault(),e.submitForm()}},a.a.createElement(this.Fields,null),r?a.a.createElement(He.a,{type:"submit",variant:"contained",size:"small",className:n.button},a.a.createElement(ho.a,{className:N()(n.leftIcon,n.iconSmall)}),"Save"):null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.data!==t.fields?{fields:e.data}:null}}]),t}(),Co=function(){var e=this;this.submitForm=function(){var t=e.props,n=t.editContent,r=t.data,a=t.toggleSnackbar;e.props.toggleEditButton(!n);var o="/api/update_horizon_target_individual/".concat(r.id,"/");_e.a.put(o,r).then(function(t){a(!0,"success","Saved!"),e.props.updateTarget(!e.props.targetUpdate)}).catch(function(e){console.log(e)})},this.Fields=function(){var t=e.props,n=t.classes,o=t.editContent;return _o.map(function(t,i){var c=t.type,l=t.label,u=t.name,s=t.required,p=t.props,f=t.disabled;return 1===i?a.a.createElement(r.Fragment,{key:u},a.a.createElement(_.a,{id:l,key:u},function(t){return a.a.createElement(mt.a,{type:c,required:s,className:n.fieldInput,id:"standard-read-only-input",label:t,disabled:f||!o,value:e.state.fields[u]||"",onChange:function(t){return e.props.handleChange(u,t.target.value)},InputProps:bo({},p,{disableUnderline:!o,classes:{disabled:n.disabledInput}}),InputLabelProps:{shrink:!0}})}),a.a.createElement(Ct.a,{className:n.marginTop,control:a.a.createElement(_t.a,{classes:{disabled:n.disabledStarStyle},value:"checked",checked:e.state.fields.critical_flag,onChange:function(t){return o?e.props.handleChange("critical_flag",!e.state.fields.critical_flag):null}}),label:"20%"})):a.a.createElement(_.a,{id:l,key:u},function(t){return a.a.createElement(mt.a,{type:c,required:s,className:n.fieldInput,id:"standard-read-only-input",label:t,disabled:f||!o,value:e.state.fields[u]||"",onChange:function(t){return e.props.handleChange(u,t.target.value)},InputProps:bo({},p,{disableUnderline:!o,classes:{disabled:n.disabledInput}}),InputLabelProps:{shrink:!0}})})})}};xo.propTypes={classes:l.a.object.isRequired};var ko=Object(u.withStyles)(function(e){var t;return{detailsFieldRoot:(t={display:"flex",padding:2*e.spacing.unit,flex:"1 1 100%",maxWidth:"300px"},Oo(t,e.breakpoints.down("sm"),{maxWidth:"100%"}),Oo(t,"flexDirection","column"),t),editMode:{border:"1px solid #FF9800"},fieldInput:{margin:"4px 8px"},disabledInput:{color:"#212121",opacity:1},spacer:{flex:1},marginTop:{marginTop:"auto"},button:{margin:e.spacing.unit,width:"100px"},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},iconSmall:{fontSize:20},disabledStarStyle:{color:"#e30613"}}})(xo),jo=n(339),To=n.n(jo);function Po(e){return(Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ro(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function No(e,t){return!t||"object"!==Po(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Do(e){return(Do=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Io(e,t){return(Io=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}_e.a.defaults.xsrfHeaderName="X-CSRFTOKEN",_e.a.defaults.xsrfCookieName="csrftoken";var Ao=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return No(r,(n=r=No(this,(e=Do(t)).call.apply(e,[this].concat(o))),r.state={completed:0,progress:r.props.progress},r.progress=function(){var e=r.props.progress.map(function(e){return e.completed_flag}),t=Math.round(e.reduce(function(e,t){return e+t})/e.length*100);r.setState({completed:t})},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Io(e,t)}(t,a.a.Component),function(e,t,n){t&&Ro(e.prototype,t),n&&Ro(e,n)}(t,[{key:"componentDidMount",value:function(){this.progress()}},{key:"render",value:function(){var e=this.props.classes;return a.a.createElement("div",{className:e.root},a.a.createElement("div",{className:e.progressRoot},a.a.createElement("span",{className:e.progressNumber},this.state.completed,"%")),a.a.createElement(To.a,{className:e.progressBar,color:"secondary",variant:"determinate",value:this.state.completed}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.progress.map(function(e){return e.completed_flag}),r=Math.round(n.reduce(function(e,t){return e+t})/n.length*100);if(t.completed!==r){var a=e.progress[0].target,o="/api/update_horizon_target_individual_progress/".concat(a,"/");return _e.a.put(o,{progress:r}).then(function(e){}).catch(function(e){console.log(e)}),{completed:r}}return{completed:r}}}]),t}();Ao.propTypes={classes:l.a.object.isRequired},Ao.defaultProps={progress:[!0,!1,!0]};var Mo=Object(u.withStyles)(function(e){return{root:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row"},progressRoot:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row"},progressBar:{flex:"1 1 100%",marginLeft:e.spacing.unit},progressNumber:{fontSize:"12px",margin:"0 5px",color:m.Black50}}})(Ao),Fo=n(340),Bo=n.n(Fo);function qo(e){return(qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wo(e,t){return!t||"object"!==qo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lo(e){return(Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vo(e,t){return(Vo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Wo(this,Lo(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vo(e,t)}(t,a.a.Component),function(e,t,n){t&&Uo(e.prototype,t),n&&Uo(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.arr,r=e.toggleChecklist,o=e.editItem;return a.a.createElement("div",{className:t.root},a.a.createElement(B.a,null,n.map(function(e,n){return a.a.createElement(U.a,{className:t.dense,key:n,role:void 0,dense:!0,button:!0},a.a.createElement(_t.a,{onClick:r(n),className:t.iconDense,checked:e.completed_flag,tabIndex:-1,disableRipple:!0}),a.a.createElement(z.a,{onClick:o(n),primary:"".concat(e.name)}),a.a.createElement("div",{className:t.eventIcon,onClick:o(n)},a.a.createElement("span",null,e.event_count>0?e.event_count:null),a.a.createElement(Bo.a,null)))})))}}]),t}();zo.propTypes={classes:l.a.object.isRequired};var Ho=Object(u.withStyles)(function(e){return{root:{width:"100%",maxHeight:"300px",marginTop:e.spacing.unit,overflowY:"auto",backgroundColor:e.palette.background.paper},dense:{padding:0},iconDense:{padding:"5px"},eventIcon:{color:"#808080",fontSize:"14px",display:"flex",justifyContent:"center",alignItems:"center",marginRight:e.spacing.unit}}})(zo),Go=n(341),Ko=n.n(Go);function Xo(e){return(Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jo(e,t){return!t||"object"!==Xo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qo(e){return(Qo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $o(e,t){return($o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Zo=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return Jo(r,(n=r=Jo(this,(e=Qo(t)).call.apply(e,[this].concat(i))),r.state={events:r.props.data,tmpEvents:[],editMode:!1,editIndex:null,inputValue:""},r.handleEdit=function(e){var t=a.a.createElement("div",null,"EDIT CONTENT");r.setState(function(n){var r=n.events.slice();return r.splice(e,1,t),{tmpEvents:r,editMode:!0,editIndex:e,inputValue:n.events[e].name}})},r.handleInput=function(e){return function(e){r.setState({inputValue:e.target.value})}},r.handleKeypress=function(e){"Enter"===e.key&&(e.preventDefault(),r.updateEvent(r.state.editIndex,r.state.inputValue))},r.handleCloseInput=function(){r.setState({editMode:!1})},r.updateEvent=function(e,t){r.props.updateEvent(e,t),r.setState({editMode:!1})},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$o(e,t)}(t,r["Component"]),function(e,t,n){t&&Yo(e.prototype,t),n&&Yo(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state,o=n.editMode,i=n.events,c=n.tmpEvents,l=n.editIndex,u=n.inputValue;return a.a.createElement("div",{className:t.root},a.a.createElement(B.a,null,i.length>0?o?c.map(function(n,o){return o===l?a.a.createElement(r.Fragment,{key:o},a.a.createElement(br,{buttonName:"Edit",handleInput:e.handleInput,handleKeypress:e.handleKeypress,inputValue:u,toggleForm:e.handleCloseInput,submit:function(){return e.updateEvent(l,u)}}),a.a.createElement("br",null),a.a.createElement("li",null,a.a.createElement(an.a,{light:!0}))):a.a.createElement(r.Fragment,{key:o},a.a.createElement(U.a,null,a.a.createElement(z.a,{primary:n.name,secondary:Qr(n.create_date)}),a.a.createElement(I.a,{style:{alignSelf:"flex-start"},"aria-label":"Edit Button",onClick:function(){return e.handleEdit(o)},classes:{root:t.overRideIconStyle}},a.a.createElement(kn.a,null))),a.a.createElement("li",null,a.a.createElement(an.a,{light:!0})))}):i.map(function(n,o){var i=n.name,c=n.create_date;return a.a.createElement(r.Fragment,{key:o},0===o?a.a.createElement("li",null,a.a.createElement(an.a,{light:!0})):null,a.a.createElement(U.a,null,a.a.createElement(z.a,{primary:i,secondary:Qr(c)}),a.a.createElement(I.a,{style:{alignSelf:"flex-start"},"aria-label":"Edit Button",onClick:function(){return e.handleEdit(o)},classes:{root:t.overRideIconStyle}},a.a.createElement(kn.a,null))),a.a.createElement("li",null,a.a.createElement(an.a,{light:!0})))}):null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.data!==t.data?{events:e.data}:null}}]),t}();Zo.propTypes={classes:l.a.object.isRequired,data:l.a.array.isRequired};var ei=Object(u.withStyles)(function(e){return{root:{width:"100%",flex:"1 1 100%",backgroundColor:e.palette.background.paper},editButtonStyle:{display:"flex",alignItems:"flex-start"},overRideIconStyle:{padding:"3px",margin:"0 3px"}}})(Zo);function ti(e){return(ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ni(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ai(e,t,n[t])})}return e}function ai(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ii(e,t){return!t||"object"!==ti(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ci(e){return(ci=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function li(e,t){return(li=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}_e.a.defaults.xsrfHeaderName="X-CSRFTOKEN",_e.a.defaults.xsrfCookieName="csrftoken";var ui=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return ii(r,(n=r=ii(this,(e=ci(t)).call.apply(e,[this].concat(o))),r.state={editMode:!1,addMode:!1,inputValue:"",eventInput:"",data:r.props.data,openForm:!1,emptyRecord:!1,eventList:[]},r.fetchEvent=function(){var e=r.props.sub_target_id;_e.a.get("/api/fetch_event_by_sub_target/".concat(e,"/")).then(function(e){0===e.data.length?r.setState({eventList:e.data,emptyRecord:!0}):r.setState({eventList:e.data,emptyRecord:!1})}).catch(function(e){console.log(e)}).then(function(){})},r.updateEventCount=function(){var e=r.props.sub_target_id;_e.a.put("/api/update_event_count/".concat(e),{event_count:r.state.eventList.length}).then(function(e){r.props.updateEventCount(r.state.eventList.length)}).catch(function(e){console.log(e)}).then(function(){})},r.initComponent=function(){var e=r.state.data;e&&r.setState({inputValue:e.name})},r.handleUpdateTitle=function(){var e=ri({},r.state.data);e.name=r.state.inputValue,r.props.updateSubTarget(e),r.setState(function(){return{editMode:!1}})},r.handleKeypress=function(e){"Enter"===e.key&&(e.preventDefault(),r.handleUpdateTitle())},r.handleEventKeypress=function(e){"Enter"===e.key&&(e.preventDefault(),r.submitEvent())},r.handleInput=function(e){return function(e){r.setState({inputValue:e.target.value})}},r.handleEventInput=function(e){return function(e){r.setState({eventInput:e.target.value})}},r.toggleEditMode=function(){r.setState(function(e){return{inputValue:r.state.data.name,editMode:!e.editMode}})},r.submitEvent=function(){var e=r.props,t=e.target_id,n=e.sub_target_id,a="/api/create_event_by_sub_target/".concat(n,"/"),o={name:r.state.eventInput,sub_target:n,target:t};_e.a.post(a,o).then(function(e){r.setState(function(t){return ri({},r.state,{eventInput:"",eventList:t.eventList.concat([e.data])})},function(){r.updateEventCount()})}).catch(function(e){console.log(e)})},r.toggleAddEvent=function(){r.setState(function(e){return{inputValue:r.state.data.name,addMode:!e.addMode}})},r.updateEvent=function(e,t){if(t===r.state.eventList[e].name)return null;var n=ni(r.state.eventList);n[e].name=t;var a=n[e];r.setState({eventList:n}),_e.a.put("/api/update_event_by_sub_target/".concat(a.id,"/"),a).then(function(e){}).catch(function(e){console.log(e)}).then(function(){})},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&li(e,t)}(t,a.a.Component),function(e,t,n){t&&oi(e.prototype,t),n&&oi(e,n)}(t,[{key:"componentDidUpdate",value:function(e,t,n){this.state.data!==e.data&&(this.setState(ri({},this.state,{eventList:[],emptyRecord:!1})),this.fetchEvent())}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.fullScreen,o=t.openEvent,i=t.data,c=t.toggleEvent,l=this.state,u=l.editMode,s=l.addMode,p=l.eventList;return i?a.a.createElement(ht.a,{classes:{paper:n.dialogRoot},open:o,fullScreen:r,onClose:c,scroll:"paper","aria-labelledby":"scroll-dialog-title"},u?a.a.createElement("div",{className:N()(n.sidePadding,n.bottomPadding)},a.a.createElement(br,{toggleForm:this.toggleEditMode,inputValue:this.state.inputValue,handleInput:this.handleInput,handleKeypress:this.handleKeypress,submit:this.handleUpdateTitle,buttonName:"Edit"})):a.a.createElement("div",{className:n.subTargetEventTitle},a.a.createElement(wt.a,null,i.name),a.a.createElement(I.a,{"aria-label":"Edit Button",onClick:this.toggleEditMode,classes:{root:n.overRideIconStyle}},a.a.createElement(kn.a,null)),a.a.createElement("div",{style:{marginRight:"16px",marginTop:"8px",marginLeft:"auto"}},a.a.createElement("span",null,Qr(i.create_date)))),a.a.createElement(Et.a,null,a.a.createElement("div",{className:n.dialogContentWrapper},a.a.createElement(_.a,{id:"event.title.description"},function(e){return a.a.createElement("div",null,e,":")}),a.a.createElement("div",{className:n.eventWrapper},a.a.createElement("div",{className:n.eventListWrapper},a.a.createElement(si,{emptyRecord:this.state.emptyRecord,updateEvent:this.updateEvent,data:p}),s?a.a.createElement(br,{handleInput:this.handleEventInput,handleKeypress:this.handleEventKeypress,inputValue:this.state.eventInput,toggleForm:this.toggleAddEvent,submit:this.submitEvent}):a.a.createElement(_.a,{id:"event.button.add"},function(t){return a.a.createElement(He.a,{className:n.button,fullWidth:!0,onClick:e.toggleAddEvent,disableRipple:!0},t)}))))),a.a.createElement(gt.a,null,a.a.createElement(_.a,{id:"event.button.close"},function(e){return a.a.createElement(He.a,{onClick:c,color:"primary"},e)}))):null}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.data!==t.data?{data:e.data}:null}}]),t}();ui.propTypes={fullScreen:l.a.bool.isRequired,openEvent:l.a.bool.isRequired,toggleEvent:l.a.func.isRequired,updateSubTarget:l.a.func.isRequired};var si=nt(ei),pi=Dr()(Object(u.withStyles)(function(e){return{dialogRoot:{width:"100%",height:"100%"},dialogContentWrapper:{postition:"relative",display:"flex",flexDirection:"column"},eventWrapper:{display:"flex"},eventListWrapper:{width:"100%",flex:"1 1 100%",backgroundColor:e.palette.background.paper},sidePadding:{paddingLeft:3*e.spacing.unit,paddingRight:3*e.spacing.unit},bottomPadding:{paddingBottom:3*e.spacing.unit},button:{margin:"".concat(e.spacing.unit," 0"),width:"100%",height:"63px",textAlign:"left",textTransform:"unset"},stickerMenu:{flex:"1 1 50%",height:"250px",position:"sticky",top:0,paddingLeft:3*e.spacing.unit},subTargetEventTitle:{display:"flex",alignItems:"center",fontStyle:"italic",color:"#404040"},editButtonStyle:{display:"flex",alignItems:"flex-start"},overRideIconStyle:{padding:"3px",margin:"0 3px"}}}),Ko()())(ui);function fi(e){return(fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function di(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function mi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hi(e,t){return!t||"object"!==fi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bi(e){return(bi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gi(e,t){return(gi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}_e.a.defaults.xsrfHeaderName="X-CSRFTOKEN",_e.a.defaults.xsrfCookieName="csrftoken";var vi=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=hi(this,bi(t).call(this,e))).fetchSubTarget=function(){_e.a.get("/api/query_sub_target_individual/".concat(n.props.target_id,"/")).then(function(e){n.setState({data:e.data})}).catch(function(e){console.log(e)}).then(function(){})},n.updateSubTarget=function(e){_e.a.put("/api/update_sub_target_individual/".concat(e.id,"/"),e).then(function(e){}).catch(function(e){console.log(e)}).then(function(){})},n.sendForm=function(){var e="/api/create_sub_target_individual/".concat(n.props.target_id,"/"),t={completed_flag:!1,name:n.state.textMessage,target:n.props.target_id};_e.a.post(e,t).then(function(e){n.setState(function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){mi(e,t,n[t])})}return e}({},n.state,{data:t.data.concat([e.data])})})}).catch(function(e){console.log(e)})},n.toggleForm=function(){n.setState(function(e){return{openForm:!e.openForm}})},n.toggleChecklist=function(e){return function(){var t=n.state.data,r=e,a=di(t);a[r].completed_flag=!t[r].completed_flag,n.setState({data:a},function(){n.updateSubTarget(n.state.data[r])})}},n.editSubTarget=function(e){var t=n.state,r=t.data,a=t.modalIndex,o=di(r);o[a]=e,e.name!==r[a].name&&n.setState({data:o},function(){n.updateSubTarget(n.state.data[a])})},n.updateEventCount=function(e){var t=n.state,r=t.data,a=t.modalIndex,o=di(r);o[a].event_count=e,n.setState({data:o})},n.handleCheckListClick=function(e){return function(){n.setState({modalIndex:e,sub_target_id:n.state.data[e].id},function(){n.toggleEvent()})}},n.handleInput=function(e){return function(t){n.setState(mi({},e,t.target.value))}},n.handleKeypress=function(e){if("Enter"===e.key){e.preventDefault();n.state.data;n.state.textMessage&&(n.sendForm(),n.setState({textMessage:""}))}},n.addTask=function(){n.state.data;n.state.textMessage&&(n.sendForm(),n.setState({textMessage:""}))},n.toggleEvent=function(){n.setState(function(e){return{openEvent:!e.openEvent}})},n.handleEventOpenRequest=function(){},n.state={data:[],openForm:!1,checked:[0],textMessage:"",editIndex:null,openEvent:!1,modalIndex:null,sub_target_id:null,selectedSubTarget:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gi(e,t)}(t,r["Component"]),function(e,t,n){t&&yi(e.prototype,t),n&&yi(e,n)}(t,[{key:"componentDidMount",value:function(){this.fetchSubTarget(),this.props.ResetOpenEvent()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes;t.OpenEventID;return a.a.createElement("div",{className:n.SubtargetRoot},this.state.data.length>0?a.a.createElement("div",{className:n.SubtargetContent},a.a.createElement(Mo,{progress:this.state.data}),a.a.createElement(Ho,{arr:this.state.data,toggleChecklist:this.toggleChecklist,editItem:this.handleCheckListClick}),this.state.openForm?a.a.createElement(br,{handleInput:this.handleInput,handleKeypress:this.handleKeypress,inputValue:this.state.textMessage,toggleForm:this.toggleForm,submit:this.addTask}):a.a.createElement(_.a,{id:"sub_target.button.add"},function(t){return a.a.createElement(He.a,{className:n.button,fullWidth:!0,onClick:e.toggleForm,disableRipple:!0},t)})):this.state.openForm?a.a.createElement(br,{handleInput:this.handleInput,handleKeypress:this.handleKeypress,inputValue:this.state.textMessage,toggleForm:this.toggleForm,submit:this.addTask}):a.a.createElement(_.a,{id:"sub_target.button.add"},function(t){return a.a.createElement(He.a,{className:n.button,fullWidth:!0,onClick:e.toggleForm,disableRipple:!0},t)}),a.a.createElement(pi,{target_id:this.props.target_id,sub_target_id:this.state.sub_target_id,updateSubTarget:this.editSubTarget,updateEventCount:this.updateEventCount,openEvent:this.state.openEvent,toggleEvent:this.toggleEvent,data:this.state.data.find(function(t){return t.id===e.state.sub_target_id})}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return null!==e.OpenEventID?(console.log(e.OpenEventID),{openEvent:!0,sub_target_id:e.OpenEventID}):null}}]),t}();vi.propTypes={classes:l.a.object.isRequired};var Ei=Object(u.withStyles)(function(e){return{SubtargetRoot:{display:"flex",flex:"1 1 100%",borderLeft:"1px solid rgba(0, 0, 0, 0.12)",flexDirection:"column",alignItems:"center",padding:2*e.spacing.unit},marginTop:{marginTop:"auto"},button:{margin:e.spacing.unit,width:"100%",height:"63px",textAlign:"left",textTransform:"unset"},buttonSmall:{width:"50px",height:"35px"},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},iconSmall:{fontSize:20},offsetIcon:{height:"12px"},iconButton:{width:"36px",height:"36px"},initialMsg:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"50%"},SubtargetContent:{width:"100%"},messageInputRoot:{display:"flex",flexDirection:"row",flexWrap:"wrap"}}})(vi),Si=n(342);function wi(e){return(wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ji(e,t,n[t])})}return e}function _i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xi(e,t){return!t||"object"!==wi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ci(e){return(Ci=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ki(e,t){return(ki=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ji(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ti=n.n(Si)()(Ar()()),Pi=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return xi(r,(n=r=xi(this,(e=Ci(t)).call.apply(e,[this].concat(o))),r.state={activeTab:0,data:{name:null,description:null,created_by_id:null,start_date:null,expire_date:null}},r.storeTargetData=function(){_e.a.get("/api/horizon_target_individual/".concat(r.props.match.params.id,"/")).then(function(e){r.props.storeTargetData(e.data[0]),r.storeProjectData(e.data[0].folder)}).catch(function(e){console.log(e)}).then(function(){})},r.storeProjectData=function(e){_e.a.get("/api/fetch_horizon_folder_by_id/".concat(e,"/")).then(function(e){r.props.storeProjectData(e.data[0])}).catch(function(e){console.log(e)}).then(function(){})},r.handleTabChange=function(e,t){r.setState({activeTab:t},function(){})},r.handleChange=function(e){return function(t){r.setState(Oi({},r.state,{data:Oi({},r.state.data,ji({},e,t.target.value))}))}},r.editPerformance=function(){var e=r.props.reduxState.editContent;r.props.toggleEditButton(!e)},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ki(e,t)}(t,r["Component"]),function(e,t,n){t&&_i(e.prototype,t),n&&_i(e,n)}(t,[{key:"componentDidMount",value:function(){this.storeTargetData()}},{key:"componentWillUnmount",value:function(){this.props.storeTargetData({})}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,o=t.history,i=this.props.reduxState,c=i.slideState,l=i.editContent,u=i.target_details_data,s=i.targetUpdate,p=this.props.location.pathname.split("/").filter(function(e){return""!==e}).length;return a.a.createElement(r.Fragment,null,a.a.createElement(Fe.a,{direction:c,in:!0,mountOnEnter:!0,unmountOnExit:!0},a.a.createElement("div",{className:n.content},a.a.createElement("div",{className:n.toolbar}),a.a.createElement(Fn,{buttonType:"edit",depth:p,history:o,slideFunc:this.props.slideDirection,buttonMethod:this.editPerformance,component:"performance"}),a.a.createElement(me.a,{className:N()(n.root,n.rootMd,n.rootSm)},a.a.createElement(Ti,null,function(t){var n=t.width;return a.a.createElement(Gr,{hideTab:Object(Ir.isWidthUp)("sm",n)?1:2,activeTab:e.state.activeTab,handleTabChange:e.handleTabChange,msgID:"tab.details.title",variant:"standard"})}),0===this.state.activeTab&&a.a.createElement("div",{className:n.detailsWrapper},a.a.createElement(Ri,{toggleSnackbar:this.props.toggleSnackbar,toggleEditButton:this.props.toggleEditButton,data:u,editContent:l,updateTarget:this.props.updateTarget,targetUpdate:s,handleChange:this.props.handleDataChange}),a.a.createElement(ie.a,{xsDown:!0},a.a.createElement(Ei,{target_id:this.props.match.params.id,OpenEventID:this.props.reduxState.OpenEventID,ResetOpenEvent:this.props.ResetOpenEvent}))),1===this.state.activeTab&&a.a.createElement("div",{className:n.detailsWrapper},a.a.createElement(Ei,{target_id:this.props.match.params.id,OpenEventID:this.props.reduxState.OpenEventID,ResetOpenEvent:this.props.ResetOpenEvent}))))),a.a.createElement(mo,{history:this.props.history,match:this.props.match,location:this.props.location,docked:!0}))}}]),t}();Pi.propTypes={classes:l.a.object.isRequired,endpoint:l.a.string.isRequired},Pi.defaultProps={classes:{},endpoint:"/api/horizon_target_individual/"};var Ri=nt(ko),Ni=Object(u.withStyles)(function(e){var t;return{content:{flex:"1 1",display:"flex",padding:3*e.spacing.unit,paddingTop:0,minWidth:0,overflowX:"hidden",flexGrow:1,flexDirection:"column"},root:{alignSelf:"flex-start",width:"100%",marginTop:3*e.spacing.unit,height:"70%",minHeight:"350px",marginRight:"auto",overflowX:"hidden",display:"flex",flexDirection:"column"},detailsWrapper:{display:"flex",flex:"1 1 100%"},rootSm:(t={},ji(t,e.breakpoints.down("sm"),{width:"100%"}),ji(t,e.breakpoints.down("xs"),{minHeight:"250px"}),t),table:{minWidth:1020},tableCell:{width:"150px"},tableWrapper:{overflowX:"auto"},toolbar:e.mixins.toolbar}})(Pi),Di=Object(h.b)(function(e){return{reduxState:e}},function(e,t){return{slideDirection:function(t){e(b(t))},toggleEditButton:function(t){e(gn(t))},storeTargetData:function(t){e(function(e){return{type:"TARGET_DETAILS_DATA",data:e}}(t))},storeProjectData:function(t){e(function(e){return{type:"PROJECT_DETAILS_DATA",data:e}}(t))},handleDataChange:function(t,n){e(function(e,t){return{type:"CHANGE_TARGET_DETAILS",name:e,value:t}}(t,n))},toggleSnackbar:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Input message here";e(En(t,n,r))},updateTarget:function(t){e(vn(t))},ResetOpenEvent:function(){e({type:"RESET_EVENT_REQUEST",id:null})}}})(Ni);function Ii(e){return(Ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ai(){return(Ai=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Mi(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Fi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bi(e,t){return!t||"object"!==Ii(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qi(e){return(qi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ui(e,t){return(Ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}_e.a.defaults.xsrfHeaderName="X-CSRFTOKEN",_e.a.defaults.xsrfCookieName="csrftoken";var Li=[{type:"input",label:"details.field.target_name",name:"name",required:!0},{type:"input",label:"details.field.target_description",name:"description",required:!0,props:{multiline:!0,rowsMax:"4"}},{type:"date",label:"details.field.start_date",name:"start_date",required:!0,props:{}},{type:"date",label:"details.field.expire_date",required:!0,name:"expire_date"},{type:"checkbox",label:"details.field.importance",required:!0,name:"critical_flag"}],Vi=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return Bi(r,(n=r=Bi(this,(e=qi(t)).call.apply(e,[this].concat(o))),r.state={openForm:!1,emptyRecord:!1,tableData:[],folderTitle:""},r.fetchIndividualTargets=function(){_e.a.get("/api/fetch_horizon_target_individual_by_folder/".concat(r.props.match.params.id,"/")).then(function(e){0===e.data.length?r.setState({tableData:e.data,emptyRecord:!0}):r.setState({tableData:e.data})}).catch(function(e){console.log(e)}).then(function(){r.fetchFolderInfo().then(function(e){var t=e.total_target,n=e.completed_target,a=r.props.match.params.id,o=r.state.tableData.length,i=r.state.tableData.filter(function(e){return 100===e.progress}).length;t===o&&n===i||_e.a.put("/api/updateTargetCountByFolder/".concat(a,"/"),{total_target:o,completed_target:i}).then(function(e){}).catch(function(e){console.log(e)})})})},r.fetchFolderInfo=function(){return _e.a.get("/api/fetch_horizon_folder_by_id/".concat(r.props.match.params.id,"/")).then(function(e){return e.data[0]}).catch(function(e){console.log(e)})},r.addPerformance=function(){r.setState(function(e){return{openForm:!e.openForm}})},r.updateFolderTitle=function(e){r.setState({folderTitle:e})},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ui(e,t)}(t,r["Component"]),function(e,t,n){t&&Fi(e.prototype,t),n&&Fi(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;this.fetchIndividualTargets(),this.fetchFolderInfo().then(function(t){e.setState({folderTitle:t.name})})}},{key:"componentDidUpdate",value:function(e,t,n){this.props.reduxState.targetUpdate!==e.reduxState.targetUpdate&&this.fetchIndividualTargets()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,o=Mi(t,["classes"]),i=this.props.reduxState.slideState,c=this.props.location.pathname.split("/").filter(function(e){return""!==e}).length,l=3===c?N()(n.content,n.contentAlt):n.content;return a.a.createElement(Fe.a,{direction:i,in:!0,mountOnEnter:!0,unmountOnExit:!0},a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:n.toolbar}),a.a.createElement("div",{className:l},a.a.createElement("div",{className:n.toolbar}),a.a.createElement(Fn,{buttonType:"add",depth:c,history:this.props.history,slideFunc:this.props.slideDirection,buttonMethod:this.addPerformance,component:"performance"}),a.a.createElement(r.Fragment,null,a.a.createElement(zi,Ai({emptyRecord:this.state.emptyRecord,folderTitle:this.state.folderTitle,updateFolderTitle:this.updateFolderTitle,data:this.state.tableData},o)),a.a.createElement(_.a,{id:"target.add.title"},function(t){return a.a.createElement(At,{title:t,toggleSnackbar:e.props.toggleSnackbar,open:e.state.openForm,toggle:e.addPerformance,inputFields:Li,endpoint:"/api/create_horizon_target_individual/".concat(e.props.match.params.id,"/"),folder_id:e.props.match.params.id,fetchTarget:e.fetchIndividualTargets})})))))}}]),t}();Vi.propTypes={classes:l.a.object.isRequired};var zi=nt(Rr),Hi=Object(u.withStyles)(function(e){var t;return{content:(t={display:"flex",flexDirection:"column",flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing.unit,paddingTop:0},Wi(t,e.breakpoints.up("md"),{paddingBottom:0}),Wi(t,e.breakpoints.down("sm"),{flexWrap:"nowrap"}),Wi(t,"minWidth",0),t),contentAlt:Wi({paddingRight:0},e.breakpoints.down("sm"),{paddingRight:3*e.spacing.unit}),table:{minWidth:1020},tableCell:{width:"160px"},tableWrapper:{overflowX:"auto"},toolbar:e.mixins.toolbar}})(Vi),Gi=Object(h.b)(function(e){return{reduxState:e}},function(e){return{slideDirection:function(t){e(b(t))},toggleEditButton:function(t){e(gn(t))},toggleSnackbar:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Input message here";e(En(t,n,r))},updateTarget:function(t){e(vn(t))}}})(Hi),Ki=n(343),Xi=n.n(Ki),Yi=n(344),Ji=n.n(Yi);function Qi(e){return(Qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zi(e,t){return!t||"object"!==Qi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ec(e){return(ec=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tc(e,t){return(tc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nc=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return Zi(r,(n=r=Zi(this,(e=ec(t)).call.apply(e,[this].concat(o))),r.handleOpenSubtargetRequest=function(e,t){r.props.openEventRequest(e),r.props.history.push("/performance/project/".concat(t))},r.handleOpenTargetRequest=function(e){r.props.history.push("/performance/project/".concat(e))},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tc(e,t)}(t,r["Component"]),function(e,t,n){t&&$i(e.prototype,t),n&&$i(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,o=t.data,i=t.msgArr;return a.a.createElement("div",{className:n.content},o.map(function(t,o){var c=t.sub_target,l=t.event,u=t.name,s=t.folder,p=t.id;return a.a.createElement(r.Fragment,{key:o},a.a.createElement(Xr,{folder:s.name,target:u}),a.a.createElement(an.a,null),c.map(function(t){var r=t.name,o=t.create_date,c=t.created_by_id,l=t.viewed;return a.a.createElement(U.a,{className:n.listStyle,key:o},a.a.createElement(we.a,{classes:{badge:n.badge},color:"secondary",badgeContent:l?0:"new"},a.a.createElement(Xi.a,{fontSize:"small"})),a.a.createElement("p",{className:n.pStyle},c.split(".").join(" "),i[0],a.a.createElement("b",null,i[1]),': "',a.a.createElement("span",{className:n.linkStyle,onClick:function(){return e.handleOpenTargetRequest(p)}},r),'" ',a.a.createElement("span",{className:n.dateStyle},Qr(o))))}),l.map(function(t){var r=t.name,o=t.create_date,c=t.created_by_id,l=t.target,u=t.sub_target,s=t.viewed;return a.a.createElement(U.a,{className:n.listStyle,key:o},a.a.createElement(we.a,{color:"secondary",badgeContent:s?0:"new"},a.a.createElement(Ji.a,{fontSize:"small",style:{marginRight:"8px"}})),a.a.createElement("p",{className:n.pStyle},c.split(".").join(" ")," ",i[2]," ",a.a.createElement("b",null,i[3]),': "',a.a.createElement("span",{className:n.linkStyle,onClick:function(){return e.handleOpenSubtargetRequest(u,l)}},r),'" ',a.a.createElement("span",{className:n.dateStyle},Qr(o))))}))}))}}]),t}();nc.propTypes={classes:l.a.object.isRequired};var rc=Object(u.withStyles)(function(e){return{content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:"12px ".concat(3*e.spacing.unit,"px"),minWidth:0},toolbar:e.mixins.toolbar,pStyle:{margin:0,marginLeft:"16px",color:"#404040"},dateStyle:{color:"#202020",fontStyle:"italic"},linkStyle:{color:"#0000EE",textDecoration:"underline",cursor:"pointer"},listStyle:{alignItems:"flex-start"},badge:{fontSize:"11px",height:"15px"}}})(nc);function ac(e){return(ac="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ic(e,t){return!t||"object"!==ac(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cc(e){return(cc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lc(e,t){return(lc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}_e.a.defaults.xsrfHeaderName="X-CSRFTOKEN",_e.a.defaults.xsrfCookieName="csrftoken";var uc=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return ic(r,(n=r=ic(this,(e=cc(t)).call.apply(e,[this].concat(o))),r.state={emptyRecord:!1,data:[]},r.fetchRecentSubtargetAndEvent=function(){_e.a.get("/api/fetch_recent_sub_target_and_event/").then(function(e){var t=e.data;if(0===e.data.length)r.setState({emptyRecord:!0});else{var n=t.map(function(e){return e.sub_target.map(function(e){var t=e.viewed,n=e.id;return!1===t?n:null}).filter(function(e){return null!==e})}),a=t.map(function(e){return e.event.map(function(e){var t=e.viewed,n=e.id;if(!1===t)return n})}),o=[].concat.apply([],n),i=[].concat.apply([],a);r.setState({data:t},function(){r.props.updateActivityBadgeCount(0),r.updateViewedStatus(o,i)})}}).catch(function(e){console.log(e)}).then(function(){})},r.updateViewedStatus=function(e,t){e.forEach(function(e){_e.a.put("/api/update_viewed_sub_target/".concat(e,"/"),{viewed:!0})}),t.forEach(function(e){_e.a.put("/api/update_viewed_event/".concat(e,"/"),{viewed:!0})})},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lc(e,t)}(t,r["Component"]),function(e,t,n){t&&oc(e.prototype,t),n&&oc(e,n)}(t,[{key:"componentDidMount",value:function(){this.fetchRecentSubtargetAndEvent()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.history,o=this.props.reduxState.slideState;return a.a.createElement(Fe.a,{direction:o,in:!0,mountOnEnter:!0,unmountOnExit:!0},a.a.createElement("div",{className:n.content},a.a.createElement("div",{className:n.toolbar}),a.a.createElement(_.a,{id:"recent.title.events"},function(e){return a.a.createElement("h2",{style:{margin:0}},e)}),a.a.createElement(_.a,{id:"recent.text.recentUpdates"},function(t){var n=t.split(",");return a.a.createElement(sc,{msgArr:n,history:r,data:e.state.data,emptyRecord:e.state.emptyRecord,openEventRequest:e.props.openEventRequest})})))}}]),t}();uc.propTypes={classes:l.a.object.isRequired};var sc=nt(rc),pc=Object(u.withStyles)(function(e){return{content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing.unit,overflow:"auto",minWidth:0},toolbar:e.mixins.toolbar}})(uc),fc=Object(h.b)(function(e){return{reduxState:e}},function(e){return{openEventRequest:function(t){e(function(e){return{type:"OPEN_EVENT_REQUEST",id:e}}(t))},updateActivityBadgeCount:function(t){e(g(t))}}})(pc);function dc(e){return(dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yc(e,t){return!t||"object"!==dc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hc(e){return(hc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bc(e,t){return(bc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gc=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return yc(r,(n=r=yc(this,(e=hc(t)).call.apply(e,[this].concat(o))),r.handleOpenTargetRequest=function(e){r.props.history.push("/performance/project/".concat(e))},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bc(e,t)}(t,r["Component"]),function(e,t,n){t&&mc(e.prototype,t),n&&mc(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,o=t.data,i=t.msgArr;return console.log(o),a.a.createElement("div",{className:n.content},o.map(function(t,o){var c=t.action,l=t.name,u=t.folder,s=t.id;return c.length>0?a.a.createElement(r.Fragment,{key:o},a.a.createElement(Xr,{folder:u.name,target:l}),a.a.createElement(an.a,null),c.map(function(t){var r=t.message,o=t.create_date,c=t.created_by_id,l=t.viewed;return a.a.createElement(U.a,{key:o},a.a.createElement(we.a,{color:"secondary",badgeContent:l?0:"new"},a.a.createElement(Jr.a,{fontSize:"small",style:{marginRight:"8px"}})),a.a.createElement("p",{className:n.pStyle},c," ",i[0]," ",a.a.createElement("b",null,i[1]),': "',a.a.createElement("span",{className:n.linkStyle,onClick:function(){return e.handleOpenTargetRequest(s)}},r),'" ',a.a.createElement("span",{className:n.dateStyle},Qr(o))))})):null}))}}]),t}();gc.propTypes={classes:l.a.object.isRequired};var vc=Object(u.withStyles)(function(e){return{content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:"12px ".concat(3*e.spacing.unit,"px"),minWidth:0},toolbar:e.mixins.toolbar,pStyle:{margin:0,marginLeft:"16px",color:"#404040"},dateStyle:{color:"#202020",fontStyle:"italic"},linkStyle:{color:"#0000EE",textDecoration:"underline",cursor:"pointer"}}})(gc);function Ec(e){return(Ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wc(e,t){return!t||"object"!==Ec(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oc(e){return(Oc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _c(e,t){return(_c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}_e.a.defaults.xsrfHeaderName="X-CSRFTOKEN",_e.a.defaults.xsrfCookieName="csrftoken";var xc=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return wc(r,(n=r=wc(this,(e=Oc(t)).call.apply(e,[this].concat(o))),r.state={emptyRecord:!1,data:[]},r.fetchRecentActions=function(){_e.a.get("/api/fetch_recent_actions/").then(function(e){var t=e.data;if(0===e.data.length)r.setState({emptyRecord:!0});else{var n=t.map(function(e){return e.action.map(function(e){var t=e.viewed,n=e.id;return!1===t?n:null}).filter(function(e){return null!==e})}),a=[].concat.apply([],n);r.setState({data:t},function(){r.props.updateActionBadgeCount(0),r.updateViewedStatus(a)})}}).catch(function(e){console.log(e)}).then(function(){})},r.updateViewedStatus=function(e){e.forEach(function(e){_e.a.put("/api/update_viewed_action/".concat(e,"/"),{viewed:!0})})},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_c(e,t)}(t,r["Component"]),function(e,t,n){t&&Sc(e.prototype,t),n&&Sc(e,n)}(t,[{key:"componentDidMount",value:function(){this.fetchRecentActions()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.history,o=this.props.reduxState.slideState;return a.a.createElement(Fe.a,{direction:o,in:!0,mountOnEnter:!0,unmountOnExit:!0},a.a.createElement("div",{className:n.content},a.a.createElement("div",{className:n.toolbar}),a.a.createElement(_.a,{id:"recent.title.actions"},function(e){return a.a.createElement("h2",{style:{margin:0}},e)}),a.a.createElement(_.a,{id:"recent.text.recentActions"},function(t){var n=t.split(",");return a.a.createElement(Cc,{msgArr:n,history:r,data:e.state.data,emptyRecord:e.state.emptyRecord,openEventRequest:e.props.openEventRequest})})))}}]),t}();xc.propTypes={classes:l.a.object.isRequired};var Cc=nt(vc),kc=Object(u.withStyles)(function(e){return{content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing.unit,overflow:"auto",minWidth:0},toolbar:e.mixins.toolbar}})(xc),jc=Object(h.b)(function(e){return{reduxState:e}},function(e){return{updateActionBadgeCount:function(t){e(E(t))}}})(kc);n(798);function Tc(e){return(Tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rc(e,t){return!t||"object"!==Tc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nc(e){return(Nc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dc(e,t){return(Dc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ic=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Rc(this,Nc(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dc(e,t)}(t,r["Component"]),function(e,t,n){t&&Pc(e.prototype,t),n&&Pc(e,n)}(t,[{key:"componentDidMount",value:function(){this.initViz()}},{key:"initViz",value:function(){var e=this.vizContainer;new window.tableau.Viz(e,"https://public.tableau.com/views/Book1_15522724411580/Benson_chen2")}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.props.reduxState.slideState;return a.a.createElement(Fe.a,{direction:n,in:!0,mountOnEnter:!0,unmountOnExit:!0},a.a.createElement("div",{className:t.content},a.a.createElement("div",{className:t.toolbar}),"Tableau",a.a.createElement("div",{ref:function(t){e.vizContainer=t}})))}}]),t}();Ic.propTypes={classes:l.a.object.isRequired};var Ac=Object(u.withStyles)(function(e){return{content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing.unit,minWidth:0},toolbar:e.mixins.toolbar}})(Ic),Mc=Object(h.b)(function(e){return{reduxState:e}},function(e){return{slideDirection:function(t){e(b(t))},toggleSnackbar:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Input message here";e(En(t,n,r))}}})(Ac);function Fc(e){return(Fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qc(e,t){return!t||"object"!==Fc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Uc(e){return(Uc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wc(e,t){return(Wc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vc=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return qc(r,(n=r=qc(this,(e=Uc(t)).call.apply(e,[this].concat(o))),r.handleOpenTargetRequest=function(e){r.props.history.push("/performance/project/".concat(e))},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wc(e,t)}(t,r["Component"]),function(e,t,n){t&&Bc(e.prototype,t),n&&Bc(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,o=t.data,i=t.msgArr,c=i[0],l=i[1];return console.log(o),0===o.length?a.a.createElement("div",{className:n.greeting},"There are no targets due this month"):a.a.createElement(me.a,{className:n.root,elevation:2},a.a.createElement("div",{className:n.content},o.map(function(t,o){var i=t.target,u=t.name,s=t.complete_count;return i.length>0?a.a.createElement(r.Fragment,{key:o},a.a.createElement("div",{className:n.titleWrapper},a.a.createElement(Xr,{folder:u}),a.a.createElement(Ht.a,{label:a.a.createElement("b",null," ",s," / ",i.length," "),className:n.chip,color:"default",deleteIcon:a.a.createElement(st.a,null)})),a.a.createElement(an.a,{classes:{root:n.marginBot}}),i.map(function(t){var r,o=t.name,i=t.create_date,u=t.expire_date,s=t.progress,p=t.id;switch(s){case 0:r=a.a.createElement("div",{className:n.semiBold},c);break;case 100:r=a.a.createElement(st.a,{classes:{root:n.completion},fontSize:"small"});break;default:r=a.a.createElement("div",{className:n.semiBold},s,"%")}return a.a.createElement(U.a,{key:i},a.a.createElement("div",{className:n.pStyle},a.a.createElement(He.a,{variant:"outlined",color:"primary",size:"small",onClick:function(){return e.handleOpenTargetRequest(p)}},o),a.a.createElement("div",{className:n.spacer}),a.a.createElement("div",{className:n.contentWrapper},a.a.createElement(Ht.a,{label:r,className:n.chip,color:"default",deleteIcon:a.a.createElement(st.a,null)}),a.a.createElement("div",{className:n.dueDateWrapper},a.a.createElement("b",null,l,":")," ",a.a.createElement("span",{className:n.dateStyle},Qr(u))))))})):null})))}}]),t}();Vc.propTypes={classes:l.a.object.isRequired};var zc=Object(u.withStyles)(function(e){return{root:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Lc(e,t,n[t])})}return e}({},e.mixins.gutters(),{margin:"0 8px",paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit}),content:{flexGrow:1,minWidth:0},toolbar:e.mixins.toolbar,pStyle:{margin:0,color:"#404040",display:"flex",justifyContent:"center",alignItems:"center",flex:1},dateStyle:{color:"#202020",fontStyle:"italic"},linkStyle:{color:"#0000EE",textDecoration:"underline",cursor:"pointer"},spacer:{flex:1},contentWrapper:{display:"flex",justifyContent:"flex-end",alignItems:"center"},dueDateWrapper:{minWidth:"125px"},chip:{color:"rgba(0, 0, 0, 0.54)",margin:"0 8px"},completion:{color:"rgb(76, 175, 80)"},semiBold:{fontWeight:500},marginBot:{marginBottom:"8px"},titleWrapper:{display:"flex",alignItems:"center"},greeting:{color:"grey",display:"flex",flexDirection:"column",alignSelf:"center",justifyContent:"center",flex:1,fontSize:"20px",fontWeight:"bold"}}})(Vc),Hc=n(83),Gc=n.n(Hc);function Kc(e){return(Kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yc(e,t){return!t||"object"!==Kc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jc(e){return(Jc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qc(e,t){return(Qc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}_e.a.defaults.xsrfHeaderName="X-CSRFTOKEN",_e.a.defaults.xsrfCookieName="csrftoken";var $c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Yc(this,Jc(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qc(e,t)}(t,a.a.Component),function(e,t,n){t&&Xc(e.prototype,t),n&&Xc(e,n)}(t,[{key:"render",value:function(){var e=this.props.classes;return a.a.createElement("form",{className:e.root,autoComplete:"off"},a.a.createElement(Gc.a,{MenuProps:{PopoverClasses:{paper:e.selectStyle}},value:this.props.year,onChange:this.props.handleYearChange,name:"year"},this.props.yearArr.map(function(e,t){return a.a.createElement(ge.a,{key:e,value:e},e)})))}}]),t}();$c.propTypes={classes:l.a.object.isRequired};var Zc=Object(u.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap",minWidth:75},formControl:{margin:e.spacing.unit,minWidth:120},selectStyle:{maxHeight:230+2*e.spacing.unit,overflowY:"auto"}}})($c),el=n(110),tl=n.n(el);function nl(e){return(nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function al(e,t){return!t||"object"!==nl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ol(e){return(ol=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function il(e,t){return(il=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}_e.a.defaults.xsrfHeaderName="X-CSRFTOKEN",_e.a.defaults.xsrfCookieName="csrftoken";var cl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),al(this,ol(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&il(e,t)}(t,a.a.Component),function(e,t,n){t&&rl(e.prototype,t),n&&rl(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return a.a.createElement("form",{className:t.root,autoComplete:"off"},a.a.createElement(tl.a,{className:t.formControl},a.a.createElement(_.a,{id:"date.months"},function(n){var r=(new Date).getMonth()+1,o=n.split(",");o.slice(0,r);return a.a.createElement(Gc.a,{MenuProps:{PopoverClasses:{paper:t.selectStyle}},value:e.props.month,onChange:e.props.handleMonthChange,name:"month"},o.map(function(e,t){return a.a.createElement(ge.a,{key:t,value:t},e)}))})))}}]),t}();cl.propTypes={classes:l.a.object.isRequired};var ll=Object(u.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing.unit,minWidth:120},selectStyle:{maxHeight:230+2*e.spacing.unit,overflowY:"auto"}}})(cl);function ul(e){return(ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pl(e,t){return!t||"object"!==ul(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fl(e){return(fl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dl(e,t){return(dl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}_e.a.defaults.xsrfHeaderName="X-CSRFTOKEN",_e.a.defaults.xsrfCookieName="csrftoken";var ml=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return pl(r,(n=r=pl(this,(e=fl(t)).call.apply(e,[this].concat(o))),r.state={emptyRecord:!1,data:[],yearArr:[],filterType:"MonthYear",year:(new Date).getFullYear(),month:(new Date).getMonth()},r.fetchTargetByMonthYear=function(){_e.a.get("/api/fetch_target_by_month/".concat(r.state.year,"/").concat(r.state.month,"/")).then(function(e){console.log(e.data),0===e.data.length?r.setState({emptyRecord:!0,data:e.data}):r.setState({data:e.data})}).catch(function(e){console.log(e)}).then(function(){})},r.fetchTargetByOverdue=function(){_e.a.get("/api/fetch_target_by_overdue/").then(function(e){console.log(e.data),0===e.data.length?r.setState({emptyRecord:!0,data:e.data}):r.setState({data:e.data})}).catch(function(e){console.log(e)}).then(function(){})},r.fetchTargetByBehindSchedule=function(){_e.a.get("/api/fetch_target_by_behind_schedule/").then(function(e){console.log(e.data),0===e.data.length?r.setState({emptyRecord:!0,data:e.data}):r.setState({data:e.data})}).catch(function(e){console.log(e)}).then(function(){})},r.fetchYearRange=function(){_e.a.get("/api/fetch_available_year/").then(function(e){console.log(e);for(var t=e.data.year_range,n=t[0],a=t[1]-n,o=[],i=0;i<=a;i++)o.push(n+i);r.setState({yearArr:o})}).catch(function(e){console.log(e)}).then(function(){})},r.handleFilterTypeChange=function(e){r.setState({filterType:e.target.value},function(){switch(r.state.filterType){case"MonthYear":r.fetchTargetByMonthYear();break;case"overdue":r.fetchTargetByOverdue();break;case"behindProgress":r.fetchTargetByBehindSchedule()}})},r.handleYearChange=function(e){r.setState({year:e.target.value},function(){r.fetchTargetByMonthYear()})},r.handleMonthChange=function(e){r.setState({month:e.target.value},function(){r.fetchTargetByMonthYear()})},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dl(e,t)}(t,r["Component"]),function(e,t,n){t&&sl(e.prototype,t),n&&sl(e,n)}(t,[{key:"componentDidMount",value:function(){this.fetchTargetByMonthYear(),this.fetchYearRange()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,o=t.history,i=this.props.reduxState.slideState;return a.a.createElement(Fe.a,{direction:i,in:!0,mountOnEnter:!0,unmountOnExit:!0},a.a.createElement("div",{className:n.content},a.a.createElement("div",{className:n.toolbar}),a.a.createElement("div",{className:n.headerWrapper},a.a.createElement(_.a,{id:"recent.title.target_progress"},function(e){return a.a.createElement("h2",{style:{margin:0}},e)}),a.a.createElement("div",{className:n.spacer}),"MonthYear"===this.state.filterType?a.a.createElement(r.Fragment,null,a.a.createElement(Zc,{year:this.state.year,handleYearChange:this.handleYearChange,yearArr:this.state.yearArr}),a.a.createElement(ll,{month:this.state.month,handleMonthChange:this.handleMonthChange})):null,a.a.createElement("form",{className:n.optionFilter},a.a.createElement(tl.a,null,a.a.createElement(Gc.a,{value:this.state.filterType,onChange:this.handleFilterTypeChange,inputProps:{name:"age",id:"age-simple"}},a.a.createElement(ge.a,{value:"MonthYear"},"Targets due by month"),a.a.createElement(ge.a,{value:"overdue"},"Overdue"))))),a.a.createElement(_.a,{id:"recent.text.target_progress"},function(t){var n=t.split(",");return a.a.createElement(yl,{msgArr:n,history:o,data:e.state.data,emptyRecord:e.state.emptyRecord,openEventRequest:e.props.openEventRequest})})))}}]),t}();ml.propTypes={classes:l.a.object.isRequired};var yl=nt(zc),hl=Object(u.withStyles)(function(e){return{content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing.unit,overflow:"auto",minWidth:0,display:"flex",flexDirection:"column"},toolbar:e.mixins.toolbar,headerWrapper:{display:"flex",alignItems:"center",marginBottom:2*e.spacing.unit,minHeight:"48px"},spacer:{flex:1},optionFilter:{minWidth:80,margin:"0 16px"}}})(ml),bl=Object(h.b)(function(e){return{reduxState:e}},function(e){return{}})(hl);function gl(e){return(gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function El(e,t){return!t||"object"!==gl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Sl(e){return(Sl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wl(e,t){return(wl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ol=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),El(this,Sl(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wl(e,t)}(t,r["Component"]),function(e,t,n){t&&vl(e.prototype,t),n&&vl(e,n)}(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.reduxState.slideState;return a.a.createElement(Fe.a,{direction:t,in:!0,mountOnEnter:!0,unmountOnExit:!0},a.a.createElement("div",{className:e.content},a.a.createElement("div",{className:e.toolbar}),"Settings"))}}]),t}();Ol.propTypes={classes:l.a.object.isRequired};var _l=Object(u.withStyles)(function(e){return{content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing.unit,minWidth:0},toolbar:e.mixins.toolbar}})(Ol),xl=Object(h.b)(function(e){return{reduxState:e}},function(e){return{}})(_l),Cl=n(345),kl=n.n(Cl),jl=n(347),Tl=n.n(jl),Pl=n(348),Rl=n.n(Pl),Nl=n(349),Dl=n.n(Nl),Il=n(350),Al=n.n(Il),Ml=n(351),Fl=n.n(Ml),Bl=n(208),ql=n.n(Bl),Ul=n(346),Wl=n.n(Ul);function Ll(e){return(Ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zl(e,t){return!t||"object"!==Ll(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hl(e){return(Hl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gl(e,t){return(Gl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kl(){return(Kl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xl(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Yl={success:kl.a,warning:Wl.a,error:Tl.a,info:Rl.a};function Jl(e){var t=e.classes,n=e.className,r=e.message,o=e.onClose,i=e.variant,c=Xl(e,["classes","className","message","onClose","variant"]),l=Yl[i];return a.a.createElement(ql.a,Kl({className:N()(t[i],n),"aria-describedby":"client-snackbar",message:a.a.createElement("span",{id:"client-snackbar",className:t.message},a.a.createElement(l,{className:N()(t.icon,t.iconVariant)}),r),action:[a.a.createElement(I.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:o},a.a.createElement(sr.a,{className:t.icon}))]},c))}Jl.propTypes={classes:l.a.object.isRequired,className:l.a.string,message:l.a.node,onClose:l.a.func,variant:l.a.oneOf(["success","warning","error","info"]).isRequired};var Ql=Object(u.withStyles)(function(e){return{success:{backgroundColor:Dl.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:Al.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"}}})(Jl),$l=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return zl(r,(n=r=zl(this,(e=Hl(t)).call.apply(e,[this].concat(o))),r.state={open:r.props.snackbarProp.snackbarOpen},r.handleClick=function(){r.setState({open:!0})},r.handleClose=function(e,t){"clickaway"!==t&&r.props.toggleSnackbar(!1,r.props.snackbarProp.variant,r.props.snackbarProp.message)},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gl(e,t)}(t,a.a.Component),function(e,t,n){t&&Vl(e.prototype,t),n&&Vl(e,n)}(t,[{key:"render",value:function(){this.props.classes;return a.a.createElement(Fl.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:this.state.open,autoHideDuration:1500,onClose:this.handleClose},a.a.createElement(Ql,{onClose:this.handleClose,variant:this.props.snackbarProp.variant,message:this.props.snackbarProp.message}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.snackbarProp.snackbarOpen!==t.open?{open:e.snackbarProp.snackbarOpen}:null}}]),t}();$l.propTypes={classes:l.a.object.isRequired,snackbarProp:l.a.object.isRequired},$l.defaultProps={classes:{},snackbarProp:{snackbarOpen:!1,variant:"info",message:"Input message here"}};var Zl=Object(u.withStyles)(function(e){return{margin:{margin:e.spacing.unit}}})($l);function eu(e){return(eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nu(e,t){return!t||"object"!==eu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ru(e){return(ru=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function au(e,t){return(au=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ou=Object(d.a)(),iu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),nu(this,ru(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&au(e,t)}(t,r["Component"]),function(e,t,n){t&&tu(e.prototype,t),n&&tu(e,n)}(t,[{key:"componentDidMount",value:function(){var e=document.getElementById("ipl-progress-indicator");e&&(e.classList.add("available"),setTimeout(function(){e.outerHTML=""},2e3))}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.toggleSnackbar,r=e.snackbarProp;return a.a.createElement(s.a,{history:ou},a.a.createElement(u.MuiThemeProvider,{theme:y},a.a.createElement("div",{className:t.root},a.a.createElement(Ae,{history:ou}),a.a.createElement(p.a,{exact:!0,path:"/",render:function(){return a.a.createElement(f.a,{push:!0,from:"/",to:"/performance"})}}),a.a.createElement(p.a,{exact:!0,path:"/performance",component:Sn}),a.a.createElement(p.a,{exact:!0,path:"/performance/:id",component:Gi}),a.a.createElement(p.a,{exact:!0,path:"/performance/project/:id",component:Di}),a.a.createElement(p.a,{path:"/activities",component:fc}),a.a.createElement(p.a,{path:"/comments",component:mo}),a.a.createElement(p.a,{path:"/actions",component:jc}),a.a.createElement(p.a,{path:"/analysis",component:Mc}),a.a.createElement(p.a,{path:"/monthly-goal",component:bl}),a.a.createElement(p.a,{path:"/settings",component:xl}),a.a.createElement(Zl,{toggleSnackbar:n,snackbarProp:r}))))}}]),t}();iu.propTypes={classes:l.a.object.isRequired};var cu=Object(u.withStyles)(function(e){return{root:{flexGrow:1,height:"100%",zIndex:1,overflow:"hidden",position:"relative",display:"flex"},content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing.unit,minWidth:0},toolbar:e.mixins.toolbar}})(iu),lu=n(355),uu=n.n(lu),su=n(353),pu=n.n(su),fu=n(354),du=n.n(fu);function mu(e){return(mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hu(e,t){return!t||"object"!==mu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bu(e){return(bu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gu(e,t){return(gu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vu(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Object(_.c)(vu(pu.a).concat(vu(du.a)));var Eu={locale:"en-US",messages:{en:{"date.months":"January, February, March, April, May, June, July, August, September, October, November, December","header.drawers":"Performance, Activity, Comments, Actions, Target Progress, Settings","navigation.performance.title":"Target, Details","navigation.comments.title":"Recent Comments","tab.comments.title":"Comments, Actions","tab.details.title":"Summary, Task","details.field.target_name":"Target Name","details.field.target_description":"Target Description","details.field.start_date":"Start Date","details.field.expire_date":"Expire Date","details.field.created_by":"Created By","details.field.importance":"20%","target.table.label":" ,Name, Description, 20%, Completion, Expire Date, Created By","target.add.title":"Add New Target","target.creation.message":"Looks like there's no targets. Create a new one now","sub_target.button.add":"Add a task...","folder.field.folder_name":"Folder name","folder.creation.message":"Create new project...","folder.creation.create":"Enter project name","folder.title.self":"My Projects","folder.title.others":"'s Projects","generic.button.submit":"Submit","generic.button.add":"Add","generic.button.cancel":"Cancel","filterBar.option.department":"Department","filterBar.option.user":"Members","event.title.description":"Write some notes for this task","event.button.add":"Add a note...","event.button.close":"Close","recent.title.events":"Recent Updates","recent.title.comments":"Recent Comments","recent.title.actions":"Recent Actions","recent.title.target_progress":"Target Progress","recent.text.recentUpdates":" added, Task, added, Activity","recent.text.recentComments":" added, Comment","recent.text.recentActions":" added, Action","recent.text.target_progress":" Haven't Started, Due","comment.text.placeholder":"Enter your comment...","comment.text.welcomeText":"Looks like there's no comments yet. Be the first one to comment!"},zh:{"date.months":"一月, 二月, 三月, 四月, 五月, 六月, 七月, 八月, 九月, 十月, 十一月, 十二月","header.drawers":"行动目标, 行动概览, 留言概览, 执行备忘, 目标进度, 设置","navigation.performance.title":"目标细分, 目标详情","navigation.comments.title":"我的留言","tab.comments.title":"留言, 备忘","tab.details.title":"概览, 行动要点","details.field.target_name":"目标名称","details.field.target_description":"目标概括","details.field.start_date":"开始日期","details.field.expire_date":"结束日期","details.field.created_by":"创建者","details.field.importance":"20%","target.table.label":" ,目标名称, 目标概括, 20%, 完成进度, 结束日期, 创建者","target.add.title":"创建新的目标","target.creation.message":"看起来还没有目标创立。 添加一个新的吧","sub_target.button.add":"新增行动要点...","folder.field.folder_name":"文件夹","folder.creation.message":"新增行动目标...","folder.creation.create":"请输入行动目标的名称","folder.title.self":"我的行动目标","folder.title.others":"的行动目标","generic.button.submit":"提交","generic.button.add":"添加","generic.button.cancel":"取消","filterBar.option.department":"部门","filterBar.option.user":"成员","event.title.description":"概述你的行动过程","event.button.add":"新增备注...","event.button.close":"关闭","recent.title.events":"行动概览","recent.title.comments":"留言概览","recent.title.actions":"执行备忘","recent.title.target_progress":"目标进度","recent.text.recentUpdates":" 添加一条, 行动要点, 添加一条,备注","recent.text.recentComments":" 添加一条 ,留言","recent.text.recentActions":" 添加一条, 执行备忘","recent.text.target_progress":" 未开始, 截止","comment.text.placeholder":"输入你的留言...","comment.text.welcomeText":"还没有人留言。发表些观点吧！"}}},Su=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hu(this,bu(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gu(e,t)}(t,r["Component"]),function(e,t,n){t&&yu(e.prototype,t),n&&yu(e,n)}(t,[{key:"render",value:function(){var e=this.props.reduxState,t=e.language,n=e.snackbarProp,o=this.props.toggleSnackbar;return a.a.createElement(_.b,{locale:navigator.language,messages:Eu.messages[t]},a.a.createElement(r.Fragment,null,a.a.createElement(uu.a,null),a.a.createElement(cu,{toggleSnackbar:o,snackbarProp:n})))}}]),t}(),wu=Object(h.b)(function(e){return{reduxState:e}},function(e,t){return{toggleSnackbar:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Input message here";e(En(t,n,r))}}})(Su),Ou=n(356),_u=n.n(Ou),xu=n(357);function Cu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ku=Object(Vt.b)({language:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LANGUAGE_OPTION":return t.value;default:return e}},slideState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"down",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SLIDE_DIRECTION":return t.value;default:return e}},userID:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_ID":return t.id;default:return e}},editContent:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_EDIT_BUTTON":return t.value;default:return e}},target_details_data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TARGET_DETAILS_DATA":return t.data;case"CHANGE_TARGET_DETAILS":return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Cu(e,t,n[t])})}return e}({},e,Cu({},t.name,t.value));default:return e}},project_details_data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROJECT_DETAILS_DATA":return t.data;default:return e}},snackbarProp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{snackbarOpen:!1,variant:"info",message:"Input message here"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_SNACKBAR":return e={snackbarOpen:t.snackbarOpen,variant:t.variant,message:t.message};default:return e}},targetUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_TARGET":return e=t.value;default:return e}},OpenEventID:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_EVENT_REQUEST":return t.id;case"RESET_EVENT_REQUEST":return null;default:return e}},myActionAccess:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE_ACTION_ACCESS":return e=t.data;default:return e}},activityBadgeCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTIVITY_BADGE_COUNT":return t.count;default:return e}},commentBadgeCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMENT_BADGE_COUNT":return t.count;default:return e}},actionBadgeCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTION_BADGE_COUNT":return t.count;default:return e}}}),ju=n(358),Tu={key:"root",storage:_u.a,whitelist:["language"]},Pu=Object(S.a)(Tu,ku),Ru=Object(Vt.d)(Pu),Nu=Object(S.b)(Ru);i.a.render(a.a.createElement(h.a,{store:Ru},a.a.createElement(xu.a,{loading:null,persistor:Nu},a.a.createElement(wu,null))),document.getElementById("root")),Object(ju.a)()}},[[805,60,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59]]]);